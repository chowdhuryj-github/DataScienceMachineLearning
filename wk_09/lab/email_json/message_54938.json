{"category": "ham", "to_address": "Jon Hak <Jon_Hak@natureserve.org>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] manipulate a matrix", "body": "On Mon, 2007-06-25 at 10:58 -0400, Jon Hak wrote:\n> I have read everything I can find on how to manipulate a results\n> matrix in R and I have to admit I'm stumped.  I have set up a process\n> to extract a dataset from ArcGIS to compute a similarity index\n> (Jaccards) in Vegan.  The dataset is fairly simple, but large, and\n> consists of rows = sample area, and columns = elements.  I've been\n> able to view the results in R, but I want to get the results out to a\n> database and a matrix that is 6000-rows x 6000-columns can be very\n> difficult to manipulate in Windows XP.  I would to rotate the matrix\n> so that the output would look like the old condensed format in\n> programs like Conoco.  Ideally, I would like format to look something\n> like this;\n> \n> \n> Site-row Site-col Jaccard\n> 1\t    1\t\t1\n> 1\t    2  \t.9\n> 1\t    3  \t.6\n> 2\t    1  \t.9\n> 2    \t    2       1\n> 2\t    3       .75\n> \n> Thanks for any help,\n\nPresuming that your source matrix for the above is:\n\nmat <- matrix(c(1, .9, .6, .9, 1, .75), ncol = 3, byrow = TRUE)\n\n> mat\n     [,1] [,2] [,3]\n[1,]  1.0  0.9 0.60\n[2,]  0.9  1.0 0.75\n\nYou can use the following:\n\nt.mat <- t(mat)\n\nRes <- cbind(\"Site-row\" = as.vector(col(t.mat)), \n             \"Site-col\" = as.vector(row(t.mat)), \n             Jaccard = as.vector(t.mat))\n\n> Res\n     Site-row Site-col Jaccard\n[1,]        1        1    1.00\n[2,]        1        2    0.90\n[3,]        1        3    0.60\n[4,]        2        1    0.90\n[5,]        2        2    1.00\n[6,]        2        3    0.75\n\nSee ?t and ?row\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}