{"category": "ham", "to_address": "Pedro Mardones <mardones.p@gmail.com>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] legend + expression", "body": "On Fri, 2007-06-08 at 17:27 -0400, Pedro Mardones wrote:\n> Dear all;\n> \n> A simple? question.\n> \n> I'm having a problem with a math expression in the legend of a plot\n> and I haven't found the way to get this to work, so any help will be\n> appreciate. Basically I want to include in the plot is the R-squared\n> and its numerical value, so I tried this:\n> \n> R2c<-0.82879 # R-squared of calibration model\n> plot(1:10,1:10)\n> legend(\"topleft\", legend=c(expression(R[c]^2==format(R2c,nsmall=2))))\n> \n> Thanks for any hint\n> \n> PM\n\nTry this:\n\n  R2c <- 0.82879\n\n  plot(1:10,1:10)\n\n  R2c.2 <- sprintf(\"%.2f\", R2c)\n\n  legend(\"topleft\", legend = bquote(R[c]^2 == .(R2c.2)))\n\n\nSee ?bquote and if you search the list archives, there are more complex\nexamples of using 'plotmath' in legends.\n\nNote also that 'nsmall' in format() does not fix the number of digits\nafter the decimal:\n\n> format(0.82879, nsmall = 2)\n[1] \"0.82879\"\n\nSee ?formatC and ?sprintf for better options.\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}