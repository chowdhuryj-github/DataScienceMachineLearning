{"category": "ham", "to_address": "James Peach <jpeach@samba.org>", "from_address": "Jeremy Allison <jra@samba.org>", "subject": "Re: svn commit: samba r22132 - in branches:\n\tSAMBA_3_0/source/modules SAMBA_3_0/source/smbd\n\tSAMBA_3_0_25/source/modules SAMBA_3_0_25/source/smbd", "body": "On Sun, Apr 08, 2007 at 05:09:36PM -0700, James Peach wrote:\n> \n> You could add this to vfs_cacheprime, and just have an option that  \n> determines whether it does a readahead (ie. I/O hint) or an actual  \n> read(2).\n\nI await your patch :-).\n\n> Sure, but 2 modules that do *almost* the same thing is just confusing.\n\nI don't think they do. readahead is built around\nthis one syscall on Linux. It's not the same as\ncacheprime - cacheprime reads from the start of\nthe file, readahead triggers on every pread/sendfile\nrequest that matches offset MOD readahead_offset.\n\nJeremy.\n\n"}