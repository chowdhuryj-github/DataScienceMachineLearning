{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Leeds, Mark \\(IED\\)\" <Mark.Leeds@morganstanley.com>", "subject": "[R] Looking for a cleaner way to implement a setting certain\n\tindices of a matrix to 1 function", "body": "I wrote an ugly algorithm to set certain elements of a matrix to 1\nwithout looping and below works and you can see what\nThe output is below the code.\n\nK<-6\nlagnum<-2\n\nrestrictmat<-matrix(0,nrow=K,ncol=K*3)\nrestrictmat[((col(restrictmat) - row(restrictmat) >= 0 ) &\n(col(restrictmat)-row(restrictmat)) %% K == 0)]<-1\nrestrictmat[,(lagnum*K+1):ncol(restrictmat)]<-0\n\n restrictmat\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\n[,13] [,14] [,15] [,16] [,17] [,18]\n[1,]    1    0    0    0    0    0    1    0    0     0     0     0\n0     0     0     0     0     0\n[2,]    0    1    0    0    0    0    0    1    0     0     0     0\n0     0     0     0     0     0\n[3,]    0    0    1    0    0    0    0    0    1     0     0     0\n0     0     0     0     0     0\n[4,]    0    0    0    1    0    0    0    0    0     1     0     0\n0     0     0     0     0     0\n[5,]    0    0    0    0    1    0    0    0    0     0     1     0\n0     0     0     0     0     0\n[6,]    0    0    0    0    0    1    0    0    0     0     0     1\n0     0     0     0     0     0\n\nFor lagnum equals 1 , it also works :\n\n restrictmat\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\n[,13] [,14] [,15] [,16] [,17] [,18]\n[1,]    1    0    0    0    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[2,]    0    1    0    0    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[3,]    0    0    1    0    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[4,]    0    0    0    1    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[5,]    0    0    0    0    1    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[6,]    0    0    0    0    0    1    0    0    0     0     0     0\n0     0     0     0     0     0\n\nBut I am thinking that there has to be a better way particularly because\nI'll get an error if I set lagnum to 3. \nAny improvements or total revampings are appreciated. The number of\ncolumns will always be a multiple of the number of rows\nSo K doesn't have to be 6. that was just to show what the commands do.\nthanks.\n--------------------------------------------------------\n\nThis is not an offer (or solicitation of an offer) to buy/se...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}