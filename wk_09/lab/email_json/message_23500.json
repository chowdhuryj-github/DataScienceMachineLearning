{"category": "ham", "to_address": "debian-laptop@lists.debian.org", "from_address": "Eric De Mund <ead-debian-laptop@ixian.com>", "subject": "sound on IBM Thinkpad 600 (Type 2645-51U) under Etch (Debian 4.0r0)", "body": "All,\n\nHello. I've finally managed to get sound working on my Thinkpad 600\n(Type 2645-51U) running Debian 4.0r0. I recently did a clean install of\n4.0r0 and thought I could get sound working by using the configuration\nfile settings I'd had under 3.1r4, but that didn't work. Biggest thanks\ngo to user \"keenerd\" at \nwhere he posted his successful configuration file settings for Arch Linux\nunder the thread entitled \"Thinkpad 600E and udev\". I was able to take\nhis settings and reduce them down to what I believe is a set of minimal\nconfiguration tweaks required to get the job done.\n\nStep by step, here's what I had to do under Debian 4.0r0:\n\n1a. % sudo apt-get install alsa-utils # This package might not be neces-\n                                      # sary; unlike under Debian 3.1r4,\n                                      # I never needed to run alsaconf.\n1b. % sudo apt-get install mpg123     # For my console sound test.\n1c. % sudo apt-get install xmms       # For my X Windows sound test.\n\n2.  Edited /etc/modules to include the snd-cs4236 module. Here is my\n    unified diff:\n\n    /-----------------------------\n    --- modules.orig 2007-04-30 01:47:43.000000000 -0700\n    +++ modules 2007-05-02 23:01:07.000000000 -0700\n    @@ -4,3 +4,4 @@\n    # at boot time, one per line. Lines beginning with \"#\" are ignored.\n\n    loop\n    +snd-cs4236\n    \\-----------------------------\n\n    Incidentally, this was the same addition to /etc/modules that Debian\n    3.1r4 required, although my /etc/modules there started with modules\n    psmouse, mousedev, ide_generic, ide_cd, ide_disk, and ide_core,\n    instead of the sole module, loop, that Debian 4.0r0 started with.\n\n3.  Created /etc/modprobe.d/sound. Here is the file:\n\n    /-----------------------------\n    alias snd-card-0 snd-cs4236\n    options snd-cs4236 index=0 isapnp=0 port=0x530 cport=0x538 irq=5 dma1=1 \\\n    dma2=0\n    \\-----------------------------\n\n    keenerd seemed to need sb_port and fm_port settings to get sound\n    working on his Arch Linux system, but I omitted these, as shown\n    above, and my sound still worked.\n\n    Incidentally, this was the same /etc/modprobe.d/sound file that I\n    had under Debian 3.1r4.\n\n4.  Blacklisted the snd-cs4232 module. It seems that the cs4236 chip in\n    this laptop is and maybe always has been mistaken for a cs4232 chip;\n    it's my guess that this blacklisting step, which is the sole differ-\n    ence between my 3.1r4 and 4.0r0 configuration, prevents that misi-\n    dentification from taking place. (Well, perhaps not the sole differ-\n    ence: I'm also no longer required under 4.0r0--as I was under 3.1r4\n    --to have the alsa-utils package installed and I'm no longer re-\n    quired to invoke /usr/sbin/alsaconf.)\n\n    Here is the unified diff between the original and my new\n    /etc/modprobe.d/alsa-base-blacklist:\n\n    /-----------------------------\n    --- alsa-base-blacklist.orig 2007-02-26 09:05:24.000000000 -0800\n    +++ alsa-base-blacklist 2007-05-02 22:37:49.000000000 -0700\n    @@ -2,3 +2,4 @@\n    # blacklist snd-atiixp-modem\n    # blacklist snd-intel8x0m\n    # blacklist snd-via82xx-modem\n    +blacklist snd-cs4232\n    \\-----------------------------\n\nThat's it. If these steps don't work for you, make sure plug-and-play is\ndisabled in your Thinkpad 600's BIOS.\n\nCheers,\nEric\n--\nEric De Mund              |      Ixian Systems      |\nemail:     | 650 Castro St, #120-210 | ICQ: 811788\nhttp://www.ixian.com/ead/ | Mountain View, CA 94041 | Y!M: ead0002\n\n\n-- \nTo UNSUBSCRIBE, email to debian-laptop-REQUEST@lists.debian.org\nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org\n\n"}