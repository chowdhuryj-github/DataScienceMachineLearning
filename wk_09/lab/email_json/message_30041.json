{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r22886 - in\n\tbranches/SAMBA_4_0/source/torture/raw: .", "body": "Author: vlendec\nDate: 2007-05-15 08:01:30 +0000 (Tue, 15 May 2007)\nNew Revision: 22886\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22886\n\nLog:\nWorkaround to make RAW-NOTIFY a bit more reliable against Samba3. It\nmight take a bit for events to propagate from one to another connection,\nin particular with a process per connection.\n\nModified:\n   branches/SAMBA_4_0/source/torture/raw/notify.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/torture/raw/notify.c\n===================================================================\n--- branches/SAMBA_4_0/source/torture/raw/notify.c\t2007-05-15 08:00:49 UTC (rev 22885)\n+++ branches/SAMBA_4_0/source/torture/raw/notify.c\t2007-05-15 08:01:30 UTC (rev 22886)\n@@ -137,6 +137,7 @@\n \tsmbcli_rmdir(cli2->tree, BASEDIR \"\\\\subdir-name\");\n \tsmbcli_mkdir(cli2->tree, BASEDIR \"\\\\subdir-name\");\n \tsmbcli_rmdir(cli2->tree, BASEDIR \"\\\\subdir-name\");\n+\tmsleep(200);\n \treq = smb_raw_changenotify_send(cli->tree, &notify);\n \tstatus = smb_raw_changenotify_recv(req, mem_ctx, &notify);\n \tCHECK_STATUS(status, NT_STATUS_OK);\n\n"}