{"category": "ham", "to_address": "\"Petr PIKAL\" <petr.pikal@precheza.cz>", "from_address": "\"michael watson \\(IAH-C\\)\" <michael.watson@bbsrc.ac.uk>", "subject": "Re: [R] A matrix with mixed character and numerical columns", "body": "OK, where is the best place to post these to to get them incorporated in\nR? \n\n-----Original Message-----\nFrom: Petr PIKAL [mailto:petr.pikal@precheza.cz] \nSent: 31 May 2007 14:23\nTo: michael watson (IAH-C)\nCc: r-help@stat.math.ethz.ch\nSubject: Re: [R] A matrix with mixed character and numerical columns\n\nr-help-bounces@stat.math.ethz.ch napsal dne 31.05.2007 14:32:01:\n\n> What I am trying to do is create an x-y plot from the numerical\nvalues,\n> and the output of row() or col() gives me an excellent way of\n> calculating an x- or y- co-ordinate, with the value in the data.frame\n> being the other half of the pair.\n> \n> Thanks for the code, Petr - I'm sure you would agree, however, that\nit's\n> a bit 'clumsy' (no fault of yours).\n> \n> Can we just adjust row() and col() for data.frames?\n> \n> col <- function (x, as.factor = FALSE)\n> {\n>     if (is.data.frame(x)) {\n>       x <- as.matrix(x)\n>     }\n>     if (as.factor)\n>         factor(.Internal(col(x)), labels = colnames(x))\n>     else .Internal(col(x))\n> }\n> \n> row <- function (x, as.factor = FALSE) \n> {\n>     if (is.data.frame(x)) {\n>       x <- as.matrix(x)\n>     }\n>     if (as.factor) \n>         factor(.Internal(row(x)), labels = rownames(x))\n>     else .Internal(row(x))\n> }\n> \n> Is there any reason why these won't work?  Am I oversimplifying it?\n\nSeems to me that both works. At least on data.frame I tried it.\n\nRegards\nPetr\n\n> \n> Mick\n> -----Original Message-----\n> From: Petr PIKAL [mailto:petr.pikal@precheza.cz] \n> Sent: 31 May 2007 12:57\n> To: michael watson (IAH-C)\n> Cc: r-help@stat.math.ethz.ch\n> Subject: Odp: [R] A matrix with mixed character and numerical columns\n> \n> Hi\n> r-help-bounces@stat.math.ethz.ch napsal dne 31.05.2007 12:48:11:\n> \n> > Is it possible to have one?\n> > \n> > I have a data.frame with two character columns and 6 numerical\n> columns.\n> > \n> > I converted to a matrix as I needed to use the col() and row()\n> > functions.\n> > However, if I convert the data.frame to a matrix, using as.matrix,\nthe\n> > numerical columns get converted to characters, and that messes up\nsome\n> > of the calculations.\n> > \n> > Do I really have to split it up into two matrices, one character and\n> the\n> > other numerical, just so I can use the col() and row() functions?\nAre\n> > there equivalent functions for data.frames?\n> \n> AFAIK I do not remember equivalent functions for data frame. If you\njust\n> \n> want column or row index you can use\n> \n> 1:dim(DF)[1] or 1:dim(DF)[2] for rows and columns\n> \n> if you want repeat these indexes row or columnwise use\n> \n> rrr<-rep(1:dim(DF)[1], dim(DF)[2])\n> matrix(rrr,dim(DF)[1], dim(DF)[2])\n> \n> rrr<-rep(1:dim(DF)[2], dim(DF)[1])\n> matrix(rrr,dim(DF)[1], dim(DF)[2], byrow=T)\n> \n> Regards\n> Petr\n> \n> \n> \n> > \n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}