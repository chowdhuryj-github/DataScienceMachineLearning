{"category": "ham", "to_address": "beginners@perl.org", "from_address": "jbuburuz@sce.carleton.ca", "subject": "crypt() and /etc/shadow entries do not match?", "body": "Hey folks,\n\nI have been using crypt for a while. No problems until recently.\n\nProblem crypt does not return a hash that matches getpwnam(). I have been \nusing crypt for a long time without any problems.\n\nBellow is test script I have using for testing hashs. The output of the\nscript bellow is as follows(Note passwd  for user \"test\" is \"hello\"):\n\nlinux:/tmp# ./perltest.pl\nEnter a string to encrypt with DES: hello\nEnter two random alphanumerics to be used as a salt:n$!\n\n\"hello\" encrypted using the perl crypt() function and salt \"$!\" returns:\n$!8VHq6xLWgQc  $1$70w840Bc$Hkmqjlz8N7abM2SGlLm0T1\n\ncrypt returns= $!8VHq6xLWgQc\nhash value returned by getpwnam= $1$70w840Bc$Hkmqjlz8N7abM2SGlLm0T1\n\nI have tested crypt() on debian, and redhat. Same problems. The has values\ndo not match each other.\n\nPlease help, any suggestions.\n\nthanks\n\njerry\n\n#########################################################################\nPerl script bellow\n#########################################################################\n#!/usr/bin/perl\n\nprint \"Enter a string to encrypt with DES:n\";\nchomp(my $string = ); #Take the input from the user and remove the n\n\nprint \"Enter two random alphanumerics to be used as a salt:n\";\nchomp(my $salt = );\n\nmy $encrypted_string = crypt($string,$salt); #take the string and the salt\nand put through crypt()\n\n$pass = (getpwnam(test))[1];\n\nprint qq~\n\"$string\" encrypted using the perl crypt() function and salt \"$salt\" returns:\n$encrypted_string  $pass\n~;\n############################################################################\nEnd of script\n############################################################################\n\n\n\n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}