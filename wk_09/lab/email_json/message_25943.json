{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Jeremy Kister <perl-04@jeremykister.com>", "subject": "Re: forking problem with dbd::mysql", "body": "On 5/9/2007 12:01 AM, Jeff Pang wrote:\n> 1) too less timeout setting in my.cnf? see /etc/my.cnf and look for this line:\n\nI actually have no my.cnf.  But if I s/my $pid = fork()/my $pid=1/ all\nworks fine, even with 60 second sleeps.\n\n> 2) as we know,child exiting would return a SIGCHLD signal to parent,maybe this\n> break the dbh connection?try to add these 2 lines in parent code:\n> \n> use POSIX qw(:signal_h WNOHANG);\n> $SIG{CHLD}=sub {while((my $child=waitpid(-1,WNOHANG))>0){}};\n\nNope, same problem.\n\nThanks,\n\n-- \n\nJeremy Kister\nhttp://jeremy.kister.net./\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}