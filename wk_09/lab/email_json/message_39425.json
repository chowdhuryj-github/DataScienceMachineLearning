{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Sebastian P. Luque\" <spluque@gmail.com>", "subject": "Re: [R] lattice: aligning independent graphs", "body": "On Thu, 31 May 2007 00:26:00 -0500,\n\"Sebastian P. Luque\"  wrote:\n\n[...]\n\n> which gives wrong width and placement.  How can this be modified so it\n> places the labels close to the axis annotation, centered on each panel?\n> Thanks in advance.\n\nOk, this is it I think:\n\n\n---<---------------cut here---------------start-------------->---\nylabGrob <- function(...) {             # ...is lab1, lab2, etc\n    labs <- lapply(list(...), textGrob, rot=90)\n    nlabs <- length(labs)\n    lab.widths <- lapply(labs,\n                         function(lab) unit(1, \"grobwidth\", data=list(lab)))\n    lab.layout <-\n        grid.layout(ncol=1, nrow=nlabs,\n                    heights=unit(1, \"null\"),\n                    widths=do.call(max, lab.widths),\n                    respect=TRUE)\n    lab.gf <- frameGrob(layout=lab.layout)\n    for (i in seq_len(nlabs))\n        {\n            lab.gf <- placeGrob(lab.gf, labs[[i]], row=i, col=1)\n        }\n    lab.gf\n}\n\nxyplot(1:9 ~ 1:9 | gl(3, 1, 9), layout=c(1, 3),\n       ylab=myXlabGrob('Trial number', 'Subject number',\n           'Experimental condition'), strip=FALSE)\n---<---------------cut here---------------end---------------->---\n\n\n\n-- \nSeb\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}