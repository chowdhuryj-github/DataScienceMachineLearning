{"category": "ham", "to_address": "\"Doran, Harold\" <HDoran@air.org>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] R package development in windows", "body": "Regarding your comments on changing paths,\n\n1. Rcmd.bat in the batchfiles distribution\n\n   http://code.google.com/p/batchfiles/\n\ncan be used to avoid having to change the path (other than path\nchanges required for perl and tex which you would probably want\nanyways to be able to use those).  You will only have to place\nRcmd.bat, hhc.exe and the tools somewhere in your existing path.  I keep\na \\bin directory in my path for that purpose.  It also allows you to\navoid having to change paths when you install a new version of R.\n\nAlso in the batchfiles distribution is Rfind.bat that will search your\nsystem and try to find the various tools on it.  Its display only\nso it should be safe to use and can help you determine if something\nis missing and where various tools are on your machine.\n\n2. Also did you follow up on my suggestions? There are TWO relevant links\nin the Links section of the batchfiles home page\n\n   http://code.google.com/p/batchfiles/\n\nas I mentioned in my prior emails:\n\n   HowTo: Create an R Package\n   HowTo: Create an R Package (manuals)\n\nThe first gives step by step instructions and the second is a link\nto the authoritative source, the manuals and BOTH of them should\nbe read, not just the manuals.\n\n\nOn 5/4/07, Doran, Harold  wrote:\n> OK, so I just want to go on record as noting that following the\n> instructions exactly (exactly, exactly, exactly, emphatically) on the\n> web given by Duncan, Gabor, and Tony at the page below, and following\n> the instructions in Writing R Extensions results in a successful Windows\n> build of a package.\n>\n> Should this email turn up in someones search using RSiteSearch() or\n> elsewhere, my best advice is to ignore all other documents on the web\n> attempting to explain this. I personally went through 4 or 5 different\n> personal web sites looking for a straightforward guide. After a week or\n> so of late night reading and experimentation, all of those documents led\n> me to a path of failure. After reading the info on the link below, and\n> then referring back to Writing R Extensions, I was able to build the\n> package in only a few hours of time. It took significantly less time to\n> read the manual and information on the link below than it did to google\n> help pages on the topic, read those, and end up even more confused.\n>\n> I'm not in the best position to offer specific recommendations on how to\n> improve this process. The reality is that after collecting all programs\n> required, making the required changes to the path, the Rcmd commands for\n> the build are very simple. So, the biggest task is the collection of\n> essential programs and modification to the path.\n>\n> Obviously, Rtools is designed to move forward in this direction. Its\n> current phase still doesn't automate that collection and modification\n> process entirely, and the reasons are given on Duncan's web site.\n> However, I suppose the only good recommendation I can make at this point\n> is to still move forward with Rtools such that it installs all required\n> programs and automatically updates the path accordingly. Maybe this can\n> even become part of the base installation. Since the open source nature\n> of R encourages development, the tools needed for development should be\n> readily available.\n>\n> I am certain this recommendation is not novel, and Duncan et al have\n> already thought of this. But, it's my attempt to do a little better than\n> complain.\n>\n> The only other piece of advice I can offer is to keep this stable. That\n> is, when R 2.5.1 et seq are released, I beg of the developers not to\n> require a new collection of tools or a different set up than what is\n> already required. It is a bit of work, and if changes are required at\n> each R release, this may be too disheartening.\n>\n> Harold\n>\n> > -----Original Message-----\n> > From: Duncan Murdoch [mailto:murdoch@stats.uwo.ca]\n> > Sent: Thursday, May 03, 2007 3:51 PM\n> > To: Doran, Harold\n> > Cc: Gabor Grothendieck; r-help@stat.math.ethz.ch\n> > Subject: [SPAM] - Re: [SPAM] - Re: [R] R package development\n> > in windows - Bayesian Filter detected spam - Bayesian Filter\n> > detected spam\n> >\n> > On 5/3/2007 3:33 PM, Doran, Harold wrote:\n> > > Thanks, Duncan. I'll look into that. Is there an authoritative\n> > > document that codifies the new package development procedures for\n> > > 2.5.0 (windows-specific), or is that Writing R Extensions? In this\n> > > thread alone I've received multiple emails pointing to multiple web\n> > > sites with instructions for windows. Inasmuch as its\n> > appreciated, I'm\n> > > a bit confused as to which I should consider authoritative.\n> > >\n> > > I do hope I can resolve this and appreciate the help I've received.\n> > > However, I feel a bit compelled to note how very difficult this\n> > > process is.\n> >\n> > The manuals are the authoritative reference.  Writing R\n> > Extensions tells you what to do to set up a package.  The R\n> > Administration and Installation manual tells you how to set\n> > up your system so those instructions will work.  On Windows,\n> > you want to pay particular attention to the appendix of the\n> > Admin manual called \"The Windows Toolset\". This is Appendix E\n> > in the distributed .pdf; an HTML version is available here:\n> >\n> >\n> > http://cran.r-project.org/doc/manuals/R-admin.html#The-Windows-toolset\n> >\n> > We realize that these instructions are not easy to follow,\n> > there's no need to tell us that.  However, specific\n> > corrections or improvements would be welcome.\n> >\n> > Duncan Murdoch\n> >\n> >\n> > > Harold\n> > >\n> > >\n> > >> -----Original Message-----\n> > >> From: Duncan Murdoch [mailto:murdoch@stats.uwo.ca]\n> > >> Sent: Thursday, May 03, 2007 3:24 PM\n> > >> To: Doran, Harold\n> > >> Cc: Gabor Grothendieck; r-help@stat.math.ethz.ch\n> > >> Subject: [SPAM] - Re: [R] R package development in windows\n> > - Bayesian\n> > >> Filter detected spam\n> > >>\n> > >> On 5/3/2007 3:04 PM, Doran, Harold wrote:\n> > >> > Thanks Gabor, Sundar, and Tony. Indeed, Rtools was\n> > missing from the\n> > >> > path. With that resolved, and another 10 minute windows\n> > >> restart, I get\n> > >> > the following below. The log suggests that hhc is not\n> > installed. It\n> > >> > is, and, according to the directions I am following, I have\n> > >> placed it\n> > >> > in the c:\\cygwin directory.\n> > >>\n> > >> I think the problem is that you are following a real mix of\n> > >> instructions, and they don't make sense.\n> > >>\n> > >> It would be nice if folks would submit patches to the R\n> > Admin manual\n> > >> (or to the Rtools web site) rather than putting together web sites\n> > >> with advice that is bad from day one, and quickly gets\n> > worse when it\n> > >> is not updated.\n> > >>\n> > >> > BTW, package.skeleton() doesn't seem to create the correct\n> > >> DESCRIPTION\n> > >> > template. I had to add the DEPENDS line. Without this, I\n> > >> get another\n> > >> > error.\n> > >> >\n> > >> >\n> > >> > C:\\Program Files\\R\\R-2.4.1\\bin>Rcmd build --force --binary g:\\foo\n> > >>\n> > >> R 2.4.1 is no longer current; the package building\n> > instructions in R\n> > >> 2.5.0 have been simplified a bit.  You might want to try those.\n> > >>\n> > >> Duncan Murdoch\n> > >>\n> > >> > * checking for file 'g:\\foo/DESCRIPTION' ... OK\n> > >> > * preparing 'g:\\foo':\n> > >> > * checking DESCRIPTION meta-information ... OK\n> > >> > * removing junk files\n> > >> > * checking for LF line-endings in source files\n> > >> > * checking for empty or unneeded directories\n> > >> > * building binary distribution\n> > >> >  WARNING\n> > >> > * some HTML links may not be found\n> > >> > installing R.css in c:/TEMP/Rinst40061099\n> > >> >\n> > >> > Using auto-selected zip options ''\n> > >> > latex: not found\n> > >> > latex: not found\n> > >> > latex: not found\n> > >> >\n> > >> > ---------- Making package foo ------------\n> > >> > latex: not found\n> > >> >   adding build stamp to DESCRIPTION\n> > >> > latex: not found\n> > >> > latex: not found\n> > >> > latex: not found\n> > >> >   installing R files\n> > >> > latex: not found\n> > >> >   installing data files\n> > >> > latex: not found\n> > >> >   installing man source files\n> > >> >   installing indices\n> > >> > latex: not found\n> > >> >   not zipping data\n> > >> >   installing help\n> > >> > Warning: \\alias{foo} already in foo-package.Rd -- skipping\n> > >> the one in\n> > >> > foo.Rd  >>> Building/Updating help pages for package 'foo'\n> > >> >      Formats: text html latex example chm\n> > >> >   foo-package                       text    html    latex\n> > >> example chm\n> > >> >   foo                               text    html    latex\n> > >> example chm\n> > >> >   mydata                            text    html    latex\n> > >> example chm\n> > >> > hhc: not found\n> > >> > cp: cannot stat `c:/TEMP/Rbuild40048815/foo/chm/foo.chm':\n> > >> No such file\n> > >> > or direct ory\n> > >> > make[1]: *** [chm-foo] Error 1\n> > >> > make: *** [pkg-foo] Error 2\n> > >> > *** Installation of foo failed ***\n> > >> >\n> > >> > Removing 'c:/TEMP/Rinst40061099/foo'\n> > >> >  ERROR\n> > >> > * installation failed\n> > >> >\n> > >> >\n> > >> > C:\\Program Files\\R\\R-2.4.1\\bin>\n> > >> >\n> > >> >> -----Original Message-----\n> > >> >> From: Gabor Grothendieck [mailto:ggrothendieck@gmail.com]\n> > >> >> Sent: Thursday, May 03, 2007 2:50 PM\n> > >> >> To: Doran, Harold\n> > >> >> Cc: r-help@stat.math.ethz.ch\n> > >> >> Subject: Re: [R] R package development in windows\n> > >> >>\n> > >> >> It can find sh.exe so you haven't installed Rtools.\n> > >> >>\n> > >> >> There are several HowTo's listed in the links section here that\n> > >> >> include pointers to R manuals and other step by step\n> > >> >> instructions:\n> > >> >>\n> > >> >> http://code.google.com/p/batchfiles/\n> > >> >>\n> > >> >> On 5/3/07, Doran, Harold  wrote:\n> > >> >> > I'm attempting to build an R package for distribution and\n> > >> >> am working\n> > >> >> > from the directions found at\n> > >> >> >\n> > >> >>\n> > >>\n> > http://www.maths.bris.ac.uk/~maman/computerstuff/Rhelp/Rpackages.html\n> > >> >> #\n> > >> >> > Wi\n> > >> >> > n-Win\n> > >> >> >\n> > >> >> > I've read through Writing R Extensions and various other\n> > >> >> \"helpful\" web\n> > >> >> > sites. I've installed all relevant software (perl,\n> > >> cygwin, mingwin,\n> > >> >> > hhc.exe). Here is what I have done so far:\n> > >> >> >\n> > >> >> > 1) Sourced data and functions into R\n> > >> >> > 2) Used package.skeleton\n> > >> >> > 3) Edited Description file\n> > >> >> > 4) Edited my windows path to ensure the new programs (e.g.,\n> > >> >> perl) are\n> > >> >> > in the path\n> > >> >> > 5) Then, I open DOS and do the following in the script below\n> > >> >> >\n> > >> >> > C:\\Program Files\\R\\R-2.4.1\\bin>Rcmd build  --force\n> > >> --binary g:\\foo\n> > >> >> > * checking for file 'g:\\foo/DESCRIPTION' ... OK\n> > >> >> > * preparing 'g:\\foo':\n> > >> >> > * checking DESCRIPTION meta-information ...'sh' is not\n> > >> >> recognized as\n> > >> >> > an internal  or external command, operable program or\n> > batch file.\n> > >> >> >  OK\n> > >> >> > * removing junk files\n> > >> >> > 'sh' is not recognized as an internal or external\n> > >> command, operable\n> > >> >> > program or batch file.\n> > >> >> > 'sh' is not recognized as an internal or external\n> > >> command, operable\n> > >> >> > program or batch file.\n> > >> >> > 'sh' is not recognized as an internal or external\n> > >> command, operable\n> > >> >> > program or batch file.\n> > >> >> > Error: cannot open file 'foo/DESCRIPTION' for reading\n> > >> >> >\n> > >> >> > I'ver read through about as much documentation as I can\n> > >> >> find, and I'm\n> > >> >> > just not sure what I should do from here. I admit that I\n> > >> >> have reached\n> > >> >> > a point of frustration and must apologize if the problem\n> > >> would be\n> > >> >> > evident if I read documentation further, but I'm about\n> > >> tapped out\n> > >> >> > after a few days of experimentation.\n> > >> >> >\n> > >> >> > Can anyone suggest how I could resolve this and what the\n> > >> next steps\n> > >> >> > would be?\n> > >> >> >\n> > >> >> > Thanks:\n> > >> >> >\n> > >> >> > I'm using Windows XP and R 2.4.1\n> > >> >> >\n> > >> >> > Harold\n> > >> >> >\n> > >> >> >        [[alternative HTML version deleted]]\n> > >> >> >\n> > >> >> > ______________________________________________\n> > >> >> > R-help@stat.math.ethz.ch mailing list\n> > >> >> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > >> >> > PLEASE do read the posting guide\n> > >> >> > http://www.R-project.org/posting-guide.html\n> > >> >> > and provide commented, minimal, self-contained,\n> > >> reproducible code.\n> > >> >> >\n> > >> >>\n> > >> >\n> > >> > ______________________________________________\n> > >> > R-help@stat.math.ethz.ch mailing list\n> > >> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > >> > PLEASE do read the posting guide\n> > >> > http://www.R-project.org/posting-guide.html\n> > >> > and provide commented, minimal, self-contained,\n> > reproducible code.\n> > >>\n> > >>\n> >\n> >\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}