{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22607 - in branches/SAMBA_4_0/source/utils: .", "body": "Author: metze\nDate: 2007-04-30 13:13:49 +0000 (Mon, 30 Apr 2007)\nNew Revision: 22607\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22607\n\nLog:\nwork with the solaris version of popt\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/utils/testparm.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/utils/testparm.c\n===================================================================\n--- branches/SAMBA_4_0/source/utils/testparm.c\t2007-04-30 13:03:03 UTC (rev 22606)\n+++ branches/SAMBA_4_0/source/utils/testparm.c\t2007-04-30 13:13:49 UTC (rev 22607)\n@@ -75,11 +75,11 @@\n  int main(int argc, const char *argv[])\n {\n \tint s;\n-\tstatic BOOL silent_mode = False;\n+\tstatic int silent_mode = 0;\n \tint ret = 0;\n \tpoptContext pc;\n /*\n-\tstatic BOOL show_all_parameters = False;\n+\tstatic int show_all_parameters = 0;\n \tstatic char *new_local_machine = NULL;\n */\n \tstatic const char *section_name = NULL;\n@@ -90,7 +90,7 @@\n \n \tstruct poptOption long_options[] = {\n \t\tPOPT_AUTOHELP\n-\t\t{\"suppress-prompt\", '\\0', POPT_ARG_VAL, &silent_mode, 1, \"Suppress prompt for enter\"},\n+\t\t{\"suppress-prompt\", 0, POPT_ARG_NONE, &silent_mode, 1, \"Suppress prompt for enter\"},\n \t\t{\"verbose\", 'v', POPT_ARG_NONE, &show_defaults, 1, \"Show default options too\"},\n /*\n   We need support for smb.conf macros before this will work again \n@@ -98,7 +98,7 @@\n */\n /*\n   These are harder to do with the new code structure\n-\t\t{\"show-all-parameters\", '\\0', POPT_ARG_VAL, &show_all_parameters, True, \"Show the parameters, type, possible values\" },\n+\t\t{\"show-all-parameters\", '\\0', POPT_ARG_NONE, &show_all_parameters, 1, \"Show the parameters, type, possible values\" },\n */\n \t\t{\"section-name\", '\\0', POPT_ARG_STRING, &section_name, 0, \"Limit testparm to a named section\" },\n \t\t{\"parameter-name\", '\\0', POPT_ARG_STRING, &parameter_name, 0, \"Limit testparm to a named parameter\" },\n\n"}