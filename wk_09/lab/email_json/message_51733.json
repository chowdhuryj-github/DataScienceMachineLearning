{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r23557 - in\n\tbranches/SAMBA_4_0/source/lib/ldb/modules: .", "body": "Author: abartlet\nDate: 2007-06-21 01:28:33 +0000 (Thu, 21 Jun 2007)\nNew Revision: 23557\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23557\n\nLog:\nEnsure that we don't reorder the objectClass list, if we don't have\nany subclasses loaded yet, or none are applicable.\n\nThis fixes MMC so that it at least displays the Samba domain as a\ndomain, but there is still work to be done.\n\nAndrew Bartlett\n\nModified:\n   branches/SAMBA_4_0/source/lib/ldb/modules/objectclass.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/ldb/modules/objectclass.c\n===================================================================\n--- branches/SAMBA_4_0/source/lib/ldb/modules/objectclass.c\t2007-06-20 23:24:18 UTC (rev 23556)\n+++ branches/SAMBA_4_0/source/lib/ldb/modules/objectclass.c\t2007-06-21 01:28:33 UTC (rev 23557)\n@@ -137,9 +137,9 @@\n \t\t/* this is the root of the tree.  We will start\n \t\t * looking for subclasses from here */\n \t\tif (ldb_attr_cmp(\"top\", current->objectclass) == 0) {\n-\t\t\tDLIST_ADD(parent_class, current);\n+\t\t\tDLIST_ADD_END(parent_class, current, struct class_list *);\n \t\t} else {\n-\t\t\tDLIST_ADD(unsorted, current);\n+\t\t\tDLIST_ADD_END(unsorted, current, struct class_list *);\n \t\t}\n \t}\n \n\n"}