{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "mimir@samba.org", "subject": "svn commit: samba r22808 - in branches/SAMBA_4_0/source/libnet: .", "body": "Author: mimir\nDate: 2007-05-11 21:44:18 +0000 (Fri, 11 May 2007)\nNew Revision: 22808\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22808\n\nLog:\nstore default buffer size for samr operations in libnet context.\nThis allows not requiring it as an argument in some function calls\nand still enables specifying any size if it's necessary via libnet\ncontext.\n\n\nrafal\n\n\nModified:\n   branches/SAMBA_4_0/source/libnet/libnet.c\n   branches/SAMBA_4_0/source/libnet/libnet.h\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/libnet/libnet.c\n===================================================================\n--- branches/SAMBA_4_0/source/libnet/libnet.c\t2007-05-11 20:57:04 UTC (rev 22807)\n+++ branches/SAMBA_4_0/source/libnet/libnet.c\t2007-05-11 21:44:18 UTC (rev 22808)\n@@ -47,7 +47,10 @@\n \n \t/* connected services' params */\n \tZERO_STRUCT(ctx->samr);\n-\tZERO_STRUCT(ctx->lsa);\n+\tZERO_STRUCT(ctx->lsa);\t\n \n+\t/* default buffer size for various operations requiring specifying a buffer */\n+\tctx->samr.buf_size = 128;\n+\n \treturn ctx;\n }\n\nModified: branches/SAMBA_4_0/source/libnet/libnet.h\n===================================================================\n--- branches/SAMBA_4_0/source/libnet/libnet.h\t2007-05-11 20:57:04 UTC (rev 22807)\n+++ branches/SAMBA_4_0/source/libnet/libnet.h\t2007-05-11 21:44:18 UTC (rev 22808)\n@@ -32,6 +32,7 @@\n \t\tconst char *name;\n \t\tuint32_t access_mask;\n \t\tstruct policy_handle handle;\n+\t\tint buf_size;\n \t} samr;\n \n \t/* lsa connection parameters - opened handles and related properties */\n\n"}