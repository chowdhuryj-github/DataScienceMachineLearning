{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "<Matthew.Findley@ch2m.com>", "subject": "[R] zoo merge() method", "body": "R users:\n\nI'd like to get some insight on an error I encounter when attempting to\nwork with two moderately sized sets of time series data.  FYI - I'm\nusing the following versions of R and supporting packages on a Windows\n2000 OS:\n\n- R version 2.4.1 (2006-12-18) \n- zoo version 1.2-2\n- chron version 2.3-10\n\nThe two time series I'm working with are from the summer of 2004 and\nare: \n1.) wet.bulb.air.temp: air temperatures recorded on an hourly basis, and\n\n2.) creek.temperature: surface water body temperatures collected every\n12 minutes.\n\nI would ultimately like to observe the difference in temperatures and\nattempted to get at this by merging the two time series (by union),\ninterpolating the NAs, and finally, subtracting one vector from the\nother.  The problem is that I can not combine the two zoo time series\nobjects using the merge() or cbind() functions.  I get the following\nerror:\n\nError in z[match0(index(a), indexes), ] <- a[match0(indexes, index(a))]\n: \n        number of items to replace is not a multiple of replacement\nlength\n\nThe input/output from a recent R Console session might help, so I've\nincluded it as follows:\n\n> summary(creek.temperature)\n\n     Index                     creek.temperature\n Min.   :(07/21/04 00:03:00)   Min.   :12.82    \n 1st Qu.:(08/11/04 03:00:00)   1st Qu.:16.28    \n Median :(09/01/04 03:45:00)   Median :18.53    \n Mean   :(09/01/04 04:45:13)   Mean   :18.87    \n 3rd Qu.:(09/22/04 06:37:00)   3rd Qu.:21.48    \n Max.   :(10/13/04 09:22:00)   Max.   :27.72    \n\n> length(creek.temperature)\n\n[1] 10140\n\n> summary(wet.bulb.air.temp)\n\n     Index                     wet.bulb.air.temp\n Min.   :(07/01/04 00:00:00)   Min.   : 3.889   \n 1st Qu.:(07/31/04 12:00:00)   1st Qu.:12.778   \n Median :(08/31/04 00:00:00)   Median :14.444   \n Mean   :(08/31/04 00:00:00)   Mean   :14.469   \n 3rd Qu.:(09/30/04 12:00:00)   3rd Qu.:16.667   \n Max.   :(10/31/04 00:00:00)   Max.   :22.222   \n\n> length(wet.bulb.air.temp)\n\n[1] 2929\n\n> class(creek.temperature)\n\n[1] \"zoo\"\n\n> class(wet.bulb.air.temp)\n\n[1] \"zoo\"\n\n> merge(wet.bulb.air.temp, creek.temperature)\n\nError in z[match0(index(a), indexes), ] <- a[match0(indexes, index(a))]\n: \n        number of items to replace is not a multiple of replacement\nlength\n\n> cbind(wet.bulb.air.temp, creek.temperature)\n\nError in z[match0(index(a), indexes), ] <- a[match0(indexes, index(a))]\n: \n        number of items to replace is not a multiple of replacement\nlength\n\nThe really puzzling part about this error is that it does not occur when\nI pare down the data sets and only look at a 24 hour window of data (for\nbrevity, the input/output from that exercise has not been included in\nthis e-mail).\n\nMy question to the R user community is as follows:  What is this error?\nHow do I get past it and get these two data sets to play nice with each\nother?\n\nThanks,\n\nMatt Findley\n\n-------------------------------------\nMatthew C. Findley, CPSSc\nEnvironmental Scientist\n \nCH2M HILL\n2300 NW Walnut Blvd\nCorvallis, OR 97330-3538\n \nTel: 541.768.3504\nFax: 541.752.0276\n \nmfindley@ch2m.com\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}