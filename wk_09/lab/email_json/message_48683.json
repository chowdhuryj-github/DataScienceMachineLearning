{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Paul Lalli <mritty@gmail.com>", "subject": "Re: Why am I getting the error (Maybe you meant system() when you said exec()?) ??", "body": "On Jun 15, 11:17 am, jrel...@gmail.com wrote:\n> Howdy,\n>\n> Please be gentle, I'm a perl novice to say the least.\n>\n> I have the following script (called bk.pl right now) :\n> foreach $argnum (0 .. $#ARGV) {\n>         my ($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = localtime\n> time;\n>         exec (\"mysqldump --user=*** --password=*** $ARGV[$argnum] > /backups/\n> $ARGV[$argnum]--$mon-$mday-$year-$hour-$min-$sec.sql\");\n>         exec (\"tar czpf $ARGV[$argnum]--$mon-$mday-$year-$hour-$min-$sec.sql\n> $ARGV[$argnum]--$mon-$mday-$year-$hour-$min-$sec\");\n>\n> }\n>\n> When I run it (./scripts/bk.pl dbname) it runs the first exec\n> properly, but it dose not do the second.  I get the error\n> (Maybe you meant system() when you said exec()?)\n>\n> Any ideas as to why this is happening?\n\n.... because you meant system() where you have exec(), just like Perl\nis trying to tell you.  Do you understand the difference between the\ntwo?\n\nexec() executes the given program IN THE CURRENT PROCESS.  That is, it\ncompletely destroys your existing Perl program in favor of running\nthis one instead.  Any code below an exec() statement (other than a\ncheck for failure) is meaningless.  It will never be executed.\n\nsystem() first creates a new process via fork().  Then in the new\nprocess, it calls exec() to run the given program.  The original,\n\"parent\" process waits for this \"child\" process to finish before\ncontinuing.  That is, system() could be defined like so:\n\nmy $pid = fork();\nif ($pid == 0) {  #child\n    exec(...);\n} else { #parent\n    waitpid($pid, 0);\n}\n\nFor more information:\nperldoc -f exec\nperldoc -f system\nand the two that were used in my expansion:\nperldoc -f fork\nperldoc -f waitpid\n\nHope this helps,\nPaul Lalli\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}