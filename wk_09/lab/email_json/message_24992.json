{"category": "ham", "to_address": "R-help <r-help@stat.math.ethz.ch>", "from_address": "\"Paul Smith\" <phhs80@gmail.com>", "subject": "Re: [R] Bad optimization solution", "body": "On 5/7/07, apjaworski@mmm.com  wrote:\n> I think the problem is the starting point.  I do not remember the details\n> of the BFGS method, but I am almost sure the (.5, .5) starting point is\n> suspect, since the abs function is not differentiable at 0.  If you perturb\n> the starting point even slightly you will have no problem.\n>\n>              \"Paul Smith\"\n>                            >                                                          To\n>              Sent by:                  R-help \n>              r-help-bounces@st                                          cc\n>              at.math.ethz.ch\n>                                                                    Subject\n>                                        [R] Bad optimization solution\n>              05/07/2007 04:30\n>              PM\n>\n>\n>\n>\n>\n>\n>\n>\n> Dear All\n>\n> I am trying to perform the below optimization problem, but getting\n> (0.5,0.5) as optimal solution, which is wrong; the correct solution\n> should be (1,0) or (0,1).\n>\n> Am I doing something wrong? I am using R 2.5.0 on Fedora Core 6 (Linux).\n>\n> Thanks in advance,\n>\n> Paul\n>\n> ------------------------------------------------------\n> myfunc <- function(x) {\n>   x1 <- x[1]\n>   x2 <- x[2]\n>   abs(x1-x2)\n> }\n>\n> optim(c(0.5,0.5),myfunc,lower=c(0,0),upper=c(1,1),method=\"L-BFGS-B\",control=list(fnscale=-1))\n\nYes, with (0.2,0.9), a correct solution comes out. However, how can\none be sure in general that the solution obtained by optim is correct?\nIn ?optim says:\n\n     Method '\"L-BFGS-B\"' is that of Byrd _et. al._ (1995) which allows\n     _box constraints_, that is each variable can be given a lower\n     and/or upper bound. The initial value must satisfy the\n     constraints. This uses a limited-memory modification of the BFGS\n     quasi-Newton method. If non-trivial bounds are supplied, this\n     method will be selected, with a warning.\n\nwhich only demands that \"the initial value must satisfy the constraints\".\n\nPaul\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}