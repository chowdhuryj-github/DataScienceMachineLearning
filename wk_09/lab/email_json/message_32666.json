{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 328: show ctdb control timeout in http://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 328\nrevision-id: tridge@samba.org-20070519111106-hmbognp9baltnxgw\nparent: tridge@samba.org-20070519072158-w0efl829gire7qbm\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Sat 2007-05-19 21:11:06 +1000\nmessage:\n  show ctdb control timeout\nmodified:\n  common/ctdb_client.c           ctdb_client.c-20070411010216-3kd8v37k61steeya-1\n=== modified file 'common/ctdb_client.c'\n--- a/common/ctdb_client.c\t2007-05-17 04:10:38 +0000\n+++ b/common/ctdb_client.c\t2007-05-19 11:11:06 +0000\n@@ -754,6 +754,11 @@\n \t}\n \tif (timed_out) {\n \t\ttalloc_free(state);\n+\t\tif (errormsg) {\n+\t\t\t(*errormsg) = talloc_strdup(mem_ctx, \"control timed out\");\n+\t\t} else {\n+\t\t\tDEBUG(0,(\"ctdb_control timed out\\n\"));\n+\t\t}\n \t\treturn -1;\n \t}\n \n\n"}