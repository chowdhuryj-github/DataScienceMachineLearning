{"category": "ham", "to_address": "\"Tom Phoenix\" <tom@stonehenge.com>", "from_address": "\"Vladimir Lemberg\" <lemba@sbcglobal.net>", "subject": "Re: Capturing an external program return code", "body": "Hi Tom,\n\nThat was very helpful.\n\nThanks a lot,\nVladimir\n----- Original Message ----- \nFrom: \"Tom Phoenix\" \nTo: \"Vladimir Lemberg\" \nCc: \nSent: Tuesday, May 01, 2007 5:36 PM\nSubject: Re: Capturing an external program return code\n\n\n> On 5/1/07, Vladimir Lemberg  wrote:\n>\n>> My script is executing external program, which returns code i.e \n>> 0, -1, -2, -3 etc\n>\n>> if ($? == -3) {\n>\n>> This is not working. Nothing is printing to the log file when I'm \n>> simulating\n>> -3 code. If I print $?, it shown 65280.\n>\n> The value in $? is derived from the exit code, but it includes more\n> information when a program fails. The full story is in the perlvar\n> manpage, but you can recover the exit code something like this:\n>\n>    my $exit_code = $? >> 8;\n>    $exit_code -= 256 if $exit_code > 127;  # fix sign\n>\n> The value 65280 shows an exit code of -1 by this method.\n>\n> One other detail can be very important: If your command invokes a\n> shell to run another program, the exit code will be that of the shell,\n> instead of the other program. To get the external program's exit code,\n> Perl has to run the exernal program directly.\n>\n> Hope this helps!\n>\n> --Tom Phoenix\n> Stonehenge Perl Training \n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}