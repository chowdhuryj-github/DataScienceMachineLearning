{"category": "ham", "to_address": "<R-help@stat.math.ethz.ch>", "from_address": "\"Pacey, Mike\" <m.pacey@lancaster.ac.uk>", "subject": "[R] make check fails tools-Ex in 2.5.0", "body": "\nHi folks,\n\nI'm attempting to compile and install 2.5.0, and \"make check\" is failing\none of the earlier sanity tests. I'll append the relevant portion of the\nRout.fail file below, but I've narrowed it down manually to a single\ncommand:\n\n> sessionInfo()\nR version 2.5.0 (2007-04-23) \nx86_64-unknown-linux-gnu \n\nlocale:\nLC_CTYPE=en_US.iso88591;LC_NUMERIC=C;LC_TIME=en_US.iso88591;LC_COLLATE=e\nn_US.iso88591;LC_MONETARY=en_US.iso88591;LC_MESSAGES=en_US.iso88591;LC_P\nAPER=en_US.iso88591;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT\n=en_US.iso88591;LC_IDENTIFICATION=C\n\nattached base packages:\n[1] \"stats\"     \"graphics\"  \"grDevices\" \"utils\"     \"datasets\"\n\"methods\"  \n[7] \"base\"     \n> library('tools')\n> db <- Rd_db(\"base\")\n> db\nlist()\n\nEarlier versions I've compiled and installed (2.3.1, 2.4.0) populate db\nwith a lot of information. Any suggestions on what might be wrong here?\n\nRegards,\nMike.\n\n-----\n\nDr Mike Pacey,                         Email: M.Pacey@lancaster.ac.uk\nHigh Performance Systems Support,      Phone: 01524 593543\nInformation Systems Services,            Fax: 01524 594459\nLancaster University,\nLancaster LA1 4YW\n\n-----\n\nTail end of tools-Ex.Rout.fail:\n\n> library('tools')\n> \n> assign(\".oldSearch\", search(), pos = 'CheckExEnv')\n> assign(\".oldNS\", loadedNamespaces(), pos = 'CheckExEnv')\n> cleanEx(); nameEx(\"Rdutils\");\n> ### * Rdutils\n> \n> flush(stderr()); flush(stdout())\n> \n> ### Name: Rdutils\n> ### Title: Rd Utilities\n> ### Aliases: Rd_db Rd_parse\n> ### Keywords: utilities documentation\n> \n> ### ** Examples\n> \n> ## Build the Rd db for the (installed) base package.\n> db <- Rd_db(\"base\")\n> ## Run Rd_parse on all entries in the Rd db.\n> db <- lapply(db, function(txt) Rd_parse(text = txt))\n> ## Extract the metadata.\n> meta <- lapply(db, \"[[\", \"meta\")\n> \n> ## Keyword metadata per Rd file.\n> keywords <- lapply(meta, \"[[\", \"keywords\")\n> ## Tabulate the keyword entries.\n> kw_table <- sort(table(unlist(keywords)))\nError in as.vector(x, mode) : invalid argument 'mode'\nExecution halted\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}