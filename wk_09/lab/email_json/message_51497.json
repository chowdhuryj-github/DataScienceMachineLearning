{"category": "ham", "to_address": "samba-technical@samba.org", "from_address": "\"Christopher R. Hertel\" <crh@ubiqx.mn.org>", "subject": "Re: Preserving NTFS permissions.", "body": "Jeremy Allison wrote:\n> On Wed, Jun 20, 2007 at 12:05:52PM -0500, Christopher R. Hertel wrote:\n>> I may be in a position to do or help do the work.  I won't promise yet (you\n>> know me too well anyway) but it does sound like an interesting problem to solve.\n>>\n>> Would we need only one ACE per file/directory or is it possible to have\n>> multiple ACEs assigned?  I imagine the latter.\n> \n> Store/restore the NDR linearization of the ACL. That's the easy part.\n> Then you have to make it fit with checks on open(), and also obey\n> the inheritance rules on the ACL in the parent directory. That's the\n> hard part.\n\nYep.  You've painted a clear picture.  :)\n\n...but open() is one of the functions passed through the VFS, isn't it?  My\nhope is that we can localize the pain to a single module.\n\n-- \n\"Implementing CIFS - the Common Internet FileSystem\" ISBN: 013047116X\nSamba Team -- http://www.samba.org/     -)-----   Christopher R. Hertel\njCIFS Team -- http://jcifs.samba.org/   -)-----   ubiqx development, uninq.\nubiqx Team -- http://www.ubiqx.org/     -)-----   crh@ubiqx.mn.org\nOnLineBook -- http://ubiqx.org/cifs/    -)-----   crh@ubiqx.org\n\n"}