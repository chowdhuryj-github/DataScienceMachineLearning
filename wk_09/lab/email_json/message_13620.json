{"category": "ham", "to_address": "Michel Schnitz <michel.schnitz@web.de>", "from_address": "Martin Becker <martin.becker@mx.uni-saarland.de>", "subject": "Re: [R] aggregate function", "body": "If \"monthly\" should aggregate per \"yyyy-mm\" combination, you could try \nsomething like\n\n   aggregate(x$z,list(cut(as.Date(x$Date),\"m\")),mean)\n\nfor monthly aggregation and\n\n   aggregate(x$z,list(cut(as.Date(x$Date),\"y\")),mean)\n\nfor yearly means.\nIf monthly aggregation should aggregate over different years (and \nproduce only 12 numbers), maybe\n\n   aggregate(x$z, list(format(as.Date(x$Date),\"%m\")),mean)\n\nworks (everything untested).\nBe sure to use R 2.4.1 patched or 2.5.0, since there was a bug in \ncut.Date which prevents the yearly aggregation from working properly \nbefore R 2.4.1 patched!\n\nRegards,\n\n  Martin\n\nMichel Schnitz wrote:\n> Hello,\n>\n> is there a way to use the aggregate function to calculate monthly mean \n> in case i have one row in data frame that holds the date like \n> yyyy-mm-dd? i know that it works for daily means. i also like to do it \n> for monthly and yearly means. maybe there is something like aggregate(x, \n> list(Date[%m]), mean)?\n> the data frame looks like:\n>\n> Date\t\tTime\tz\n> 2006-01-01\t21:00\t6,2\n> 2006-01-01\t22:00\t5,7\n> 2006-01-01\t23:00\t3,2\n> 2006-01-02\t00:00\t7,8\n> 2006-01-02\t01:00\t6,8\n> 2006-01-02\t02:00\t5,6\n> .\n> .\n> .\n> 2007-03-30\t22:00\t5,2\n> 2007-03-30\t23:00\t8,3\n> 2007-03-31\t00:00\t6,4\n> 2007-03-31\t01:00\t7,4\n>\n> thanks for help!\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}