{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r22181 - in branches: SAMBA_3_0/source/lib\n\tSAMBA_3_0_25/source/lib", "body": "Author: jra\nDate: 2007-04-12 01:09:19 +0000 (Thu, 12 Apr 2007)\nNew Revision: 22181\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22181\n\nLog:\nFix for EISCON in open_any_socket_out from William Jojo\nfor bug #3632.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/lib/util_sock.c\n   branches/SAMBA_3_0_25/source/lib/util_sock.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/util_sock.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/util_sock.c\t2007-04-12 00:34:59 UTC (rev 22180)\n+++ branches/SAMBA_3_0/source/lib/util_sock.c\t2007-04-12 01:09:19 UTC (rev 22181)\n@@ -999,6 +999,9 @@\n \t\t}\n \n \t\tif (errno == EINPROGRESS || errno == EALREADY ||\n+#ifdef EISCONN\n+\t\t\terrno == EISCONN ||\n+#endif\n \t\t    errno == EAGAIN || errno == EINTR) {\n \t\t\t/* These are the error messages that something is\n \t\t\t   progressing. */\n\nModified: branches/SAMBA_3_0_25/source/lib/util_sock.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/lib/util_sock.c\t2007-04-12 00:34:59 UTC (rev 22180)\n+++ branches/SAMBA_3_0_25/source/lib/util_sock.c\t2007-04-12 01:09:19 UTC (rev 22181)\n@@ -974,6 +974,9 @@\n \t\t}\n \n \t\tif (errno == EINPROGRESS || errno == EALREADY ||\n+#ifdef EISCONN\n+\t\t\terrno == EISCONN ||\n+#endif\n \t\t    errno == EAGAIN || errno == EINTR) {\n \t\t\t/* These are the error messages that something is\n \t\t\t   progressing. */\n\n"}