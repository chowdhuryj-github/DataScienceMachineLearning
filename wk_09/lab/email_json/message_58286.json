{"category": "ham", "to_address": "sum_duud <Turnbull.Glenn@gmail.com>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: Splitting a CSV file at a variable number", "body": "On 6/28/07, sum_duud  wrote:\n> in essence I would like the perl script to output all the fourth\n> column \"0\" values to a file called phase_0.csv and all the \"1\" values\n> to phase_1.csv etc.\nsnip\n\nuse an array of file handles (warning, untested):\n\nuse strict;\nuse warnings;\n\nopen my $in, '<', \"phase.csv\" or die \"Could not open phase.csv: $!\\n\";\n<$in>; #discard first line\n\nmy @file = map {\n    open my $fh, '>', \"phase_$_.csv\"\n        or die \"could not open phase_$_.csv: $!\";\n    $fh\n} 0 .. 20;\n\nwhile (<$in>) {\n    chomp;\n    my ($x, $y, $z, $phase) =split /\\s*,\\s*/;\n    my $file = $file[$phase];\n    print $file \"$x, $y, $z, $phase\\n\";\n}\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}