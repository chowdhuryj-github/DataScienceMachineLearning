{"category": "ham", "to_address": "Volker.Lendecke@SerNet.DE", "from_address": "\"Stefan (metze) Metzmacher\" <metze@samba.org>", "subject": "Re: git question", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nVolker Lendecke schrieb:\n> Hi!\n> \n> Playing with git: What would be the best way to have two\n> trees checked out and compiled at the same time? For 'make\n> test' I need samba3 and samba4, sometimes I have\n> modifications to samba4.\n> \n> Right now I have two local repos. Is there a better way?\n\nI've done this:\n\ngit clone -n --bare git://git.samba.org/samba samba.git\ndu -sh samba.git\n70M     .\n\ngit clone -n -s --reference ./samba.git/ git://git.samba.org/samba s3\ncd s3\ncat .git/objects/info/alternates\n/home/People/metze/devel/samba/samba.git/objects\ndu -sh .git/\n832K    .git/\ngit checkout --track -b metze-v3-0 origin/v3-0\n\ngit clone -n -s --reference ./samba.git/ git://git.samba.org/samba s4\ncd s4\ncat .git/objects/info/alternates\n/home/People/metze/devel/samba/samba.git/objects\ndu -sh .git/\n832K    .git/\ngit checkout --track -b metze-v4-0 origin/v4-0\n\nthen you should always run \"git fetch\" within samba.git\nbefore doing a \"git pull\" within s3 or s4, this makes sure\nyou'll have the objects only stored under samba.git/objects/\n\nyou can also run the git-fetch via a cron job as it doesn't\nchange any working tree.\n\nmetze\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.5 (GNU/Linux)\nComment: Using GnuPG with SUSE - http://enigmail.mozdev.org\n\niD8DBQFGiKW9m70gjA5TCD8RAmF3AKCB4rynSpW0OoD+7Sckm4uQy8RV0wCfeYuM\nNIbxpNbZcgfxrQZkIgXuTTA=\n=r8dK\n-----END PGP SIGNATURE-----\n\n"}