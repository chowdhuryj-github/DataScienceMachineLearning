{"category": "ham", "to_address": "Christoph Scherber <Christoph.Scherber@agr.uni-goettingen.de>", "from_address": "\"Charles C. Berry\" <cberry@tajo.ucsd.edu>", "subject": "Re: [R] reading a big file", "body": "On Thu, 24 May 2007, Christoph Scherber wrote:\n\n> Dear Remigijus,\n>\n> You should change memory allocation in Windows XP, as described in\n>\n> http://cran.r-project.org/bin/windows/base/rw-FAQ.html#There-seems-to-be-a-limit-on-the-memory-it-uses_0021\n\n\nPorbably, this will not solve the problem as the object to be created will \nneed 400 MB and scan() will require memory to create that object. Not to \nmention that the OS will consume a chunk of RAM.\n\n>\n> Hope this helps.\n>\n> Best wishes\n> Christoph\n>\n>\n> --\n> Christoph Scherber\n> DNPW, Agroecology\n> University of Goettingen\n> Waldweg 26\n> D-37073 Goettingen\n>\n> +49-(0)551-39-8807\n>\n>\n>\n>\n> Remigijus Lapinskas schrieb:\n>> Dear All,\n>>\n>> I am on WindowsXP with 512 MB of RAM, R 2.4.0, and I want to read in a\n>> big file mln100.txt. The file is 390MB big, it contains a column of 100\n>> millions integers.\n>>\n>>> mln100=scan(\"mln100.txt\")\n>> Error: cannot allocate vector of size 512000 Kb\n>> In addition: Warning messages:\n>> 1: Reached total allocation of 511Mb: see help(memory.size)\n>> 2: Reached total allocation of 511Mb: see help(memory.size)\n>>\n>> In fact, I would be quite happy if I could read, say, every tenth\n>> integer (line) of the file. Is it possible to do this?\n>>\n\nTo save out the first, eleventh, etc:\n\nmln.con <- file(\"tmp.txt\",open=\"r\")\nres <- rep(0,10)\nfor (i in 1:10 ) res[i] <- as.integer( readLines( mln.con ,n = 10 )[1] )\n\n\n>> Cheers,\n>> Rem\n>>\n>> ______________________________________________\n>> R-help@stat.math.ethz.ch mailing list\n>> https://stat.ethz.ch/mailman/listinfo/r-help\n>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n>> and provide commented, minimal, self-contained, reproducible code.\n>>\n>> .\n>>\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\nCharles C. Berry                        (858) 534-2098\n                                          Dept of Family/Preventive Medicine\nE mailto:cberry@tajo.ucsd.edu\t         UC San Diego\nhttp://biostat.ucsd.edu/~cberry/         La Jolla, San Diego 92093-0901\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}