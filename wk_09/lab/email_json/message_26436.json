{"category": "ham", "to_address": "\"Gav Wood\" <news@gavofyork.fastmail.fm>", "from_address": "\"Deepayan Sarkar\" <deepayan.sarkar@gmail.com>", "subject": "Re: [R] xyplot with grid?", "body": "On 5/9/07, Gav Wood  wrote:\n> Gabor Grothendieck wrote:\n> > Add the argument\n> >\n> >    type = c(\"p\", \"g\")\n> >\n> > to your xyplot call.\n>\n> So what's the easiest way to place a line at x=3 (ala \"abline(v=3)\") to\n> the graph?\n\nxyplot(x~y,data.frame(x=1:9,y=1:9,z=sort(rep(c('A','B','C'),3))),\n       type = c(\"p\", \"g\"),\n       panel = function(...) {\n           panel.xyplot(...)\n           panel.abline(v = 3)\n       },\n       groups=z,auto.key=list(columns=3))\n\nor\n\nxyplot(x~y,data.frame(x=1:9,y=1:9,z=sort(rep(c('A','B','C'),3))),\n       panel = function(...) {\n           panel.grid(h = -1, v = -1)\n           panel.abline(v = 3)\n           panel.xyplot(...)\n       },\n       groups=z,auto.key=list(columns=3))\n\ndepending on whether you are going through the intermediate example or not.\n\n> After calling the xyplot call, the panel.* functions seem to\n> work only in device coordinates.\n\nNo, they work in native coordinates, you just happen to be in a\n\"viewport\" where they are the same as the device coordinates. Note\nthat your expectations seem to be based on the traditional graphics\nmodel with only one panel, which is not meaningful in multipanel\nplots, like, say,\n\nxyplot(x~y|z,data.frame(x=1:9,y=1:9,z=sort(rep(c('A','B','C'),3))))\n\nIf you wish to modify a lattice plot after it has been plotted (which\nis justifiable only in circumstances where you want some sort of\ninteraction), see\n\n?trellis.focus\n\n-Deepayan\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}