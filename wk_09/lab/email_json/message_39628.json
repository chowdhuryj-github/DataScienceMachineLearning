{"category": "ham", "to_address": "andrew@acooke.org, \"parrot \" <perl6-internals@perl.org>", "from_address": "Andy_Bach@wiwb.uscourts.gov", "subject": "Re: Newb: path/LD_LIBRARY_PATH/other", "body": "Hi Andrew,\n\nI just svn-ed the latest and I got the same error. I'm no parrot expert \nbut it appears it's looking for the include file\n  .include 'src/abc_gen.pir'\n\nand there's no such file.  It appears the generated (?) abc_gen.pir file \nisn't there. Other langs have that (lua/src/lua.pir) so my guess is its \ngenerated. So, at the top level I ran:\n/parrot # find . -name pgc.pir \n\nand saw:\n./languages/abc/config/makefiles/root.in:       $(PARROT) \n$(PGE_DIR)/pgc.pir --output=src/abc_gen.pir src/abc.pg\n\nso I ran:\nparrot/ #./parrot compilers/pge/pgc.pir \n--output=languages/abc/src/abc_gen.pir languages/abc/src/abc.pg\n\nand now I 've got the abc_gen.pir file. Soooo looking in that \nmakefiles/root.in file, there's also a line for PASTGrammar_gen.pir, \nanother needed, generated file so:\nparrot/ # ./parrot compilers/tge/tgc.pir \n--output=languages/abc/src/PASTGrammar_gen.pir \nlanguages/abc/src/PASTGrammar.tg\n\nand then create the abc.pbc (a test?):\nparrot/ #cd languages/abc\nparrot/languages/abc # ../../parrot -o abc.pbc abc.pir \n\nand it works!\nparrot/languages/abc # ../../parrot abc.pir\n> 1 + 2\n3\n> ^D\n\na\n\nNote, I had to modify\nconfig/init/hints/linux.pm\n\nto comment out the -fvisibility=hidden cflag\n   else {\n         # hide non-exported symbols\n        #$cflags .= ' -fvisibility=hidden';\n\nas my perl Makefile.pl got a test.cco\nc1: error: unrecognized option `-fvisibility=hidden'\n\nfor a test.c of:\n*\n    * testparrotfuncptr.c - figure out if the compiler will let us do\n    *                       non-ansi function pointer casts.\n    */\n\nIt fails at:\nDetermining whether lex is \ninstalled...............................skipped.\nDetermining whether yacc is \ninstalled..............................skipped.\nDetermining if your C compiler is actually gcc...\nstep auto::gcc died during execution: C compiler failed (see test.cco) at \nlib/Parrot/Configure/Step.pm line 505\n        Parrot::Configure::Step::cc_build() called at config/auto/gcc.pm \nline 37\n \nauto::gcc::runstep('auto::gcc=HASH(0x838de04)','Parrot::Configure=HASH(0x823b470)') \ncalled at lib/Parrot/Configure.pm line 266\n        eval {...} called at lib/Parrot/Configure.pm line 260\n \nParrot::Configure::_runstep('Parrot::Configure=HASH(0x823b470)','Parrot::Configure::Task=HASH(0x827c104)','undef','undef','undef',11) \ncalled at lib/Parrot/Configure.pm line 192\n        Parrot::Configure::runsteps('Parrot::Configure=HASH(0x823b470)') \ncalled at Configure.pl line 350\n\n at Configure.pl line 350\n\nand goes south from there.\n\nAndy Bach\nSystems Mangler\nInternet: andy_bach@wiwb.uscourts.gov\nVOICE: (608) 261-5738  FAX 264-5932\n\nThe competent programmer is fully aware of the strictly limited size of\nhis own skull; therefore he approaches the programming task in full\nhumility, and among other things he avoids clever tricks like the\nplague. -- Edsger Dijkstra\n\n"}