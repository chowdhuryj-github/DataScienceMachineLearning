{"category": "ham", "to_address": "livia <yn19832@msn.com>", "from_address": "Petr Klasterecky <klaster@karlin.mff.cuni.cz>", "subject": "Re: [R] Optimization", "body": "Hi,\n\nmy first guess is that the algorithm returns a negative value in some \nstep - recall that you start from 0.0207!! This negative value is then \npassed as standard error to qnorm and that cannot work...\nMy guess is based on a small experiment where I tried a different \nstarting point (.02 is so close to 0 that one cannot see anything):\nxsd <- optim(20, fr, NULL,method=\"BFGS\",control=list(trace=6))\n\nThe warnings which you didn't include also tell you about NaNs in \nqnorm() - another strong indication of wrong arguments to qnorm().\n\nTry constrained optimization to resctrict to positive values.\nSee ?constrOptim or use optim() with a method allowing for box \nconstraints - see ?optim, arguments lower, upper.\n\nPetr\n\nlivia napsal(a):\n> Hi, I would like to minimize the value of x1-x2, x2 is a fixed value of 0.01,\n> x1 is the quantile of normal distribution (0.0032,x) with probability of\n> 0.7, and the changing value should be x. Initial value for x is 0.0207. I am\n> using the following codes, but it does not work.\n> \n> fr <- function(x) {\n>       x1<-qnorm(0.7,0.0032,x)\n>       x2=0.01\n>       x1-x2\n> }\n> xsd <- optim(0.0207, fr, NULL,method=\"BFGS\")\n> \n> It is the first time I am trying to use optimization. Could anyone give me\n> some advice?\n\n-- \nPetr Klasterecky\nDept. of Probability and Statistics\nCharles University in Prague\nCzech Republic\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}