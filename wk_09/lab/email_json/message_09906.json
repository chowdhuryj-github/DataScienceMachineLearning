{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Felix Wave <felix-wave@vr-web.de>", "subject": "[R] Using \"mean\"  if two values are identical", "body": "Hello,\nI have got a question. \nI've got a matrix (mail end) with the colnames x, y, z. In this matrix\nare different measurements. x and y are risign coordinates.\n\nMy question. Always, if the \"x\" AND \"y\" coordinates are the same, I want to \nget the mean of their z values.\n\n\ne.q. \"\nx\" AND \"y\" in line1 and line8 are identical: \n29 4.5 --> mean of 1.505713 and 1.495148\n\n\nThank's a lot.\nFelix\n\n\n\n\n###############\n## My R Code ##\n###############\nINPUT           <- readLines(dat.dat)\nINPUT           <- gsub(\"^ \", \"\", INPUT)\nINPUT           <- t( sapply( strsplit(INPUT, split=\" \"), as.numeric ) )\ncolnames(INPUT) <- c(\"x\", \"y\", \"z\" )\n\n\n# HERE START's my PROBLEM #\nif (duplicated(INPUT[,1] & INPUT[,2] ))\n  zMEAN   <- mean(INPUT[,3] )\n\n# MATRIX with the mean-z values #\nzMATRIX <- matrix(c(INPUT[,1], INPUT[,2], INPUT[,3] ), ncol=3, byrow=FALSE)\n\n\n\n\n#############\n## dat.dat ##\n#############\n29 4.5 1.505713\n29 4.6 1.580402\n29 4.7 1.656875\n29 4.8 1.735054\n30 0 0\n30 0.1 0.00096108\n30 0.2 0.00323831\n29 4.5 1.495148\n29 4.6 1.568961\n29 4.7 1.644467\n30 0 0\n30 0.1 0.00093699\n30 0.2 0.00319411\n30 0.3 0.00676619\"\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}