{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Sundar Dorai-Raj <sundar.dorai-raj@pdf.com>", "subject": "[R] determining a parent function name", "body": "Hi, All,\n\nI'm writing a wrapper for stop that produces a popup window using tcltk. \nSomething like:\n\nerror <- function(...) {\n   msg <- paste(..., sep = \"\")\n   if(!length(msg)) msg <- \"\"\n   if(require(tcltk, quiet = TRUE)) {\n     tt <- tktoplevel()\n     tkwm.title(tt, \"Error\")\n     tkmsg <- tktext(tt, bg = \"white\")\n     tkinsert(tkmsg, \"end\", sprintf(\"Error in %s: %s\", \"???\", msg))\n     tkconfigure(tkmsg, state = \"disabled\", font = \"Tahoma 12\",\n                 width = 50, height = 3)\n     tkpack(tkmsg, side = \"bottom\", fill = \"y\")\n   }\n   stop(msg)\n}\n\nBut, I would like to know from which function error() is called. For \nexample, if I have\n\nfoo <- function() stop()\nbar <- function() error()\n > foo()\nError in foo() :\n > bar()\nError in error() :\n\nand in the tk window I get\n\nError in ???:\n\nI need the output of bar (in the tk window only) to be\n\nError in bar():\n\nthen it's clear where error is called. I'm not worried about the output \nbar() produces on the console.\n\nHope this makes sense.\n\nThanks,\n\n--sundar\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}