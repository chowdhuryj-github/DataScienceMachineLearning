{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "RICHARD PITMAN <richard.pitman3@btopenworld.com>", "subject": "[R] plotting order of lines in xyplot panels while using\n\tconditioning variable and groups", "body": "I am using the following code:\n\nlibrary(lattice)\ndata<-read.csv(\"data.csv\")\nattach(data)\n\nfig<-xyplot(S_t~month|event,\n       key    = list(text=list(lab=c(\"Time to first CV\nevent - Data\",\n                                     \"Survival post\nfirst CV event - Model\",\n                                     \"Survival post\nfirst MIA/CA event - Data\",\n                                     \"Survival post\nfirst CVA event - Data\",\n                                     \"Survival post\nfirst TIA event - Data\",\n                                     \"Survival post\nfirst CVA/TIA event - Model\"),\n                               font=2,\n                               cex=0.55),\n                     lines=list(col=c(\"red\",\n                                      \"magenta\",\n                                      \"blue\",\n                                      \"brown\"),\n                                type=\"l\",\n                                cex=0.55,\n                                lwd=1.5,\n                                pch=0:1),\n                     corner=c(0,0),x=0.75,y=0.75),\n       group  = group,\n       index.cond = list(c(4,5,6,7,1,2,3)),\n       type   = \"l\",\n       lwd    = \"3\",\n       ylim   = c(0,1.5),\n       layout = c(4,2),\n       col    = c(\"red\",\"magenta\",\"blue\",\"brown\"),\n       pch    = 0:3,\n       cex    = 0.5,\n       ylab   = \"cumulative probability\",\n       xlab   = \"months\",\n     )\nprint(fig)\n\nHowever, in each panel, the order in which the lines\nare printed is suboptimal as some shorter lines are\nobscured under longer lines. I am having some trouble\nfinding a method to change the order in which curves\nare plotted in each panel. I have tried reordering the\nlevels in data$group:\n\ndata$group<-factor(data$group,\nlevels=c(\"CV_model_event_1\",\"CV model event 2\",\"CV\nevent\n1\",\"CV_event_2\",\"CV_event_2_CVA\",\"CV_event_2_TIA\"))\n\nbut this changed nothing.\n\nAny suggestions gratefully received.\n\nTIA\n\nRichard\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}