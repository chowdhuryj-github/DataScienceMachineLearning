{"category": "ham", "to_address": "\"Weiwei Shi\" <helprhelp@gmail.com>", "from_address": "\"jim holtman\" <jholtman@gmail.com>", "subject": "Re: [R] save intermediate result", "body": "Break your long running function into two parts.  The first will be\nthe long running part and it can return a value that you can pass to\nthe second part.  If the second part fails, you still have the\noriginal value that was returned.\n\nf1.1 <- function(){\n    line1 <- f2()\n    return(line1)\n}\n\nf1.2 <- function(line1){\n    .... rest of the original f1\n}\n\norigData <- f1.1()\nnextData <- f1.2(origData)\n\n\nOn 5/4/07, Weiwei Shi  wrote:\n> sorry for my English, staying in US over 7 years makes me think I were\n> ok, now :(\n>\n> anyway, here is an example and why I need that:\n>\n> suppose I have a function like the following:\n>\n> f1 <- function(){\n>  line1 <- f2() # assume this line takes very long time, like more than 30 min\n>  # then I need to save line1 as an object into workspace b/c\n>  # the following lines after this might have some bugs\n>  # currently I use\n>  save(line1, file=\"line1.robj\")\n>  # but I am thinking if there is anothe way, like enviroment, instead\n> of save it into a file\n>\n>  # codes as followed might have some bugs\n>  # blabla...\n> }\n>\n> if some codes as followed have bugs, my f1 function cannot return\n> anything, which means I have to re-run the time-consuming line again.\n>\n> thanks,\n>\n> Weiwei\n>\n> On 5/4/07, Joerg van den Hoff  wrote:\n> > On Fri, May 04, 2007 at 03:45:10PM -0400, Weiwei Shi wrote:\n> > > hi,\n> > >\n> > > is there a way to save a R object into workspace instead of into a\n> > > file during a running of function?\n> > >\n> >\n> > if I understand the question correctly you want the 'super-assignment'\n> > operator `<<-' as in\n> >\n> > -------------cut---------------\n> > R> f <- function(x) y <<- 2*x\n> > R> f(1)\n> > R> y\n> > [1] 2\n> > R> f(10)\n> > R> y\n> > [1] 20\n> > -------------cut---------------\n> >\n> > i.e. y is assigned a value in the 'workspace'. be careful, though, with\n> > this kind of assignment. why not return the object you are interested\n> > in as a list component together with other results when the function\n> > call finishes?\n> >\n> >\n>\n>\n> --\n> Weiwei Shi, Ph.D\n> Research Scientist\n> GeneGO, Inc.\n>\n> \"Did you always know?\"\n> \"No, I did not. But I believed...\"\n> ---Matrix III\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n\n-- \nJim Holtman\nCincinnati, OH\n+1 513 646 9390\n\nWhat is the problem you are trying to solve?\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}