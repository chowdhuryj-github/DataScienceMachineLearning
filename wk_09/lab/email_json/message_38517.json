{"category": "ham", "to_address": "\"Young Cho\" <young.stat@gmail.com>", "from_address": "Seth Falcon <sfalcon@fhcrc.org>", "subject": "Re: [R] summing up colum values for unique IDs when multiple ID's\n\texist in data frame", "body": "\"Young Cho\"  writes:\n\n> I have data.frame's with IDs and multiple columns. B/c some of IDs\n> showed up more than once, I need sum up colum values to creat a new\n> dataframe with unique ids.\n>\n> I hope there are some cheaper ways of doing it...  Because the\n> dataframe is huge, it takes almost an hour to do the task.  Thanks\n> so much in advance!\n\nDoes this do what you want in a faster way?\n\nsum_dup <- function(df) {\n    idIdx <- split(1:nrow(df), as.character(df$ID))\n    whID <- match(\"ID\", names(df))\n    colNms <- names(df)[-whID]\n    ans <- lapply(colNms, function(cn) {\n        unlist(lapply(idIdx,\n                      function(x) sum(df[[cn]][x])),\n               use.names=FALSE)\n    })\n    attributes(ans) <- list(names=colNms,\n                            row.names=names(idIdx),\n                            class=\"data.frame\")\n    ans\n}\n\n\n-- \nSeth Falcon | Computational Biology | Fred Hutchinson Cancer Research Center\nhttp://bioconductor.org\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}