{"category": "ham", "to_address": "Marco Pesenti Gritti <mpg@redhat.com>", "from_address": "Bert Freudenberg <bert@freudenbergs.de>", "subject": "Re: [sugar] #1560 NORM Trial-2: Activity launch not detected", "body": "On Jun 3, 2007, at 18:01 , Zarro Boogs per Child wrote:\n\n> #1560: Activity launch not detected\n> --------------------- \n> +------------------------------------------------------\n>   Reporter:  bert    |       Owner:  dcbw\n>       Type:  defect  |      Status:  reopened\n>   Priority:  normal  |   Milestone:  Trial-2\n>  Component:  sugar   |     Version:\n> Resolution:          |    Keywords:\n>   Verified:  0       |\n> --------------------- \n> +------------------------------------------------------\n> Comment (by marco):\n>\n>  This should be fixed again in the latest git. Activity id and  \n> bundle id\n>  should now be provided by two properties of the toplevel X window.\n>\n>  _SUGAR_ACTIVITY_ID (utf8 string)\n>  _SUGAR_BUNDLE_ID (utf8 string)\n>\n>  sugar/lib/sugar-x11-util.c has the code which we use to set those\n>  properties for python activities.\n\nThis only complicates matters. Not only for Etoys (which does not  \nhave a way to set X properties currently), but I see you had to  \nresort to C code even for Python activities. I'd much prefer if the  \nonly thing Sugar cares about an activity X-wise is its window ID (and  \nwe're working on a way to make that accessible in Squeak). Everything  \nelse should be handled by DBus, and this is how it actually was  \nbefore your refactoring. If anything I'd shift communication  \n*towards\" DBus, not away from it towards X by introducing arbitrary  \nand unnecessary properties.\n\nBesides, it does not address the original problem - that if an  \nactivity X window is opened and detected by the Sugar shell, but it  \nhas not created its DBus service yet, the shell will mistake it for a  \nraw X app (creating a\n\"raw\" icon in the donut next to the still flashing activity icon).  \nThis can easily be fixed up later by detecting the DBus service  \ncreation and removing the raw icon - this is how my fix worked.\n\nI do like the cleanup you did to the home model code, but please, can  \nwe do away with the properties?\n\n- Bert -\n\n\n_______________________________________________\nSugar mailing list\nSugar@lists.laptop.org\nhttp://lists.laptop.org/listinfo/sugar\n\n"}