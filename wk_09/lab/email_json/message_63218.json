{"category": "ham", "to_address": "lakshmi.sailaja@supersolution.com", "from_address": "\"Tom Phoenix\" <tom@stonehenge.com>", "subject": "Re: su and password in a Perl script", "body": "On 7/5/07, Lakshmi Sailaja  wrote:\n\n> I want to automate the following through Perl:\n> su - user\n> and provide password\n> check if the login is successful or not.\n\nYou'll probably have an easier time using sudo, instead of su; it's\nmade for this sort of thing. See whether yours has the -S command line\noption, to get the password from its standard input instead of the\nterminal. You could try using IPC::Open3, maybe something like this:\n\n  my($wr, $rd, $er);\n  my $pid = open3($wr, $rd, $er, 'sudo -S some command');\n  sleep 1; # let it start and ask for password\n  print $wr \"seCret\\n\";  # the password\n\nGood luck with it!\n\n--Tom Phoenix\nStonehenge Perl Training\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}