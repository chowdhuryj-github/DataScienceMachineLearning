{"category": "ham", "to_address": "Hubert Figuiere <hub@figuiere.net>,\n   CC Developer Mailing List <cc-devel@lists.ibiblio.org>", "from_address": "Jason Kivlighn <jkivlighn@gmail.com>", "subject": "[cc-devel] XMP Embedding in TIFF, Bug?", "body": "Hi Hubert,\n\nI seem to have come across a bug in Adobe's code for embedding XMP in\nthe TIFF format.  The spec[1] says that the XMLPacket tag has type BYTE,\nbut Adobe assigns a type of UNDEFINED.  libtiff complains and is unable\nto read the XMP when given the wrong type.\n\nIn TIFF_Handler.cpp, changing\n\nthis->tiffMgr.SetTag ( kTIFF_PrimaryIFD, kTIFF_XMP, kTIFF_UndefinedType,\nthis->xmpPacket.size(), this->xmpPacket.c_str() );\n\nto\n\nthis->tiffMgr.SetTag ( kTIFF_PrimaryIFD, kTIFF_XMP, kTIFF_ByteType,\nthis->xmpPacket.size(), this->xmpPacket.c_str() );\n\nsolves the problems I'm having.\n\nThis should be passed on to Adobe.  Do you know who to contact to get\nthis fixed?\n\nCheers,\nJason\n\n[1] http://www.awaresystems.be/imaging/tiff/tifftags/xmp.html\n\n_______________________________________________\ncc-devel mailing list\ncc-devel@lists.ibiblio.org\nhttp://lists.ibiblio.org/mailman/listinfo/cc-devel\n\n"}