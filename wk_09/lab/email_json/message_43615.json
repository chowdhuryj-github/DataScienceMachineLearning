{"category": "ham", "to_address": "baldeck <cabaldeck@yahoo.com>, R-help <r-help@stat.math.ethz.ch>", "from_address": "\"Sarah Goslee\" <sarah.goslee@gmail.com>", "subject": "Re: [R] sampling problem - new to R", "body": "Claire,\n\nHere's one way to do it:\n\n# first, generate some sample data to try\n> treedata <- cbind.data.frame(Tree=1:25, Plot=sample(1:5, 25, replace=TRUE))\n> treedata <- treedata[order(treedata$Plot),]\n> treedata\n   Tree Plot\n1     1    1\n2     2    1\n6     6    1\n9     9    1\n11   11    1\n17   17    1\n18   18    1\n23   23    1\n13   13    2\n16   16    2\n25   25    2\n5     5    3\n10   10    3\n4     4    4\n7     7    4\n8     8    4\n24   24    4\n3     3    5\n12   12    5\n14   14    5\n15   15    5\n19   19    5\n20   20    5\n21   21    5\n22   22    5\n\n# then randomly choose one tree from each plot\n# getting a different random set each time\n> sapply(split(treedata$Tree, treedata$Plot), sample, 1)\n 1  2  3  4  5\n 2 25 10  4 21\n> sapply(split(treedata$Tree, treedata$Plot), sample, 1)\n 1  2  3  4  5\n23 13  5  4 14\n\n\nHope that solves it for you,\nSarah\n\nOn 6/5/07, baldeck  wrote:\n>\n> I have a data set of individual trees and the plots that they are in:\n>\n> Tree      Plot\n> 56749    1\n> 63494    1\n> 87375    1\n> 37494    2\n> 92753    3\n> 34847    3\n> 38747    4 etc...\n>\n> So each plot is represented once for every individual that occurrs in it.\n> Plots get different numbers of rows because there can be a different number\n> of individuals in each plot.\n>\n> I want to make a data frame that consists of one individual from each plot.\n> I would like to randomly choose one individual from each plot that is\n> present in the data set.  I will have to do this to multiple data sets which\n> may contain different plots, and may contain up to 1200 plots, so I can't\n> choose the plots by hand.\n>\n> Please help me with this.  I'm an ecologist and I'm in Panama, with no one\n> around who is educated in R.  Whoever solves this problem for me will be\n> acknowledged in any resulting publications.\n>\n> Thanks!\n> -Claire\n> --\n\n\n-- \nSarah Goslee\nhttp://www.functionaldiversity.org\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}