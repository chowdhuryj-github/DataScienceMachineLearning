{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r22543 - in branches: SAMBA_3_0/source/include\n\tSAMBA_3_0_25/source/include", "body": "Author: jra\nDate: 2007-04-28 02:51:55 +0000 (Sat, 28 Apr 2007)\nNew Revision: 22543\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22543\n\nLog:\nFix bad call to talloc_strict (too few args).\nShould fix build farm breakage.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/include/smb_macros.h\n   branches/SAMBA_3_0_25/source/include/smb_macros.h\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/include/smb_macros.h\n===================================================================\n--- branches/SAMBA_3_0/source/include/smb_macros.h\t2007-04-27 23:18:41 UTC (rev 22542)\n+++ branches/SAMBA_3_0/source/include/smb_macros.h\t2007-04-28 02:51:55 UTC (rev 22543)\n@@ -282,7 +282,7 @@\n #define TALLOC_REALLOC_ARRAY(ctx, ptr, type, count) (type *)_talloc_realloc_array(ctx, ptr, sizeof(type), count, #type)\n #define talloc_destroy(ctx) talloc_free(ctx)\n #define TALLOC_FREE(ctx) do { if ((ctx) != NULL) {talloc_free(ctx); ctx=NULL;} } while(0)\n-#define TALLOC_SIZE(ctx, size) talloc_strict(ctx, size)\n+#define TALLOC_SIZE(ctx, size) talloc_strict(ctx, size, __location__)\n #define TALLOC_ZERO_SIZE(ctx, size) talloc_zero_size_strict(ctx, size)\n \n /* only define PARANOID_MALLOC_CHECKER with --enable-developer and not compiling\n\nModified: branches/SAMBA_3_0_25/source/include/smb_macros.h\n===================================================================\n--- branches/SAMBA_3_0_25/source/include/smb_macros.h\t2007-04-27 23:18:41 UTC (rev 22542)\n+++ branches/SAMBA_3_0_25/source/include/smb_macros.h\t2007-04-28 02:51:55 UTC (rev 22543)\n@@ -282,7 +282,7 @@\n #define TALLOC_REALLOC_ARRAY(ctx, ptr, type, count) (type *)_talloc_realloc_array(ctx, ptr, sizeof(type), count, #type)\n #define talloc_destroy(ctx) talloc_free(ctx)\n #define TALLOC_FREE(ctx) do { if ((ctx) != NULL) {talloc_free(ctx); ctx=NULL;} } while(0)\n-#define TALLOC_SIZE(ctx, size) talloc_strict(ctx, size)\n+#define TALLOC_SIZE(ctx, size) talloc_strict(ctx, size, __location__)\n #define TALLOC_ZERO_SIZE(ctx, size) talloc_zero_size_strict(ctx, size)\n \n /* only define PARANOID_MALLOC_CHECKER with --enable-developer and not compiling\n\n"}