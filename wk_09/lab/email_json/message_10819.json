{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22408 - in branches/SAMBA_4_0/source/rpc_server:\n\t.", "body": "Author: metze\nDate: 2007-04-20 11:29:45 +0000 (Fri, 20 Apr 2007)\nNew Revision: 22408\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22408\n\nLog:\nmore private dependecies\n\nsplit MODULE::DCESRV from SUBSYSTEM::dcerpc_server\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/rpc_server/config.mk\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/rpc_server/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/rpc_server/config.mk\t2007-04-20 11:28:25 UTC (rev 22407)\n+++ branches/SAMBA_4_0/source/rpc_server/config.mk\t2007-04-20 11:29:45 UTC (rev 22408)\n@@ -19,7 +19,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\techo/rpc_echo.o\n-PUBLIC_DEPENDENCIES = NDR_ECHO \n+PRIVATE_DEPENDENCIES = NDR_ECHO \n # End MODULE dcerpc_rpcecho\n ################################################\n \n@@ -30,7 +30,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\tepmapper/rpc_epmapper.o\n-PUBLIC_DEPENDENCIES = NDR_EPMAPPER\n+PRIVATE_DEPENDENCIES = NDR_EPMAPPER\n # End MODULE dcerpc_epmapper\n ################################################\n \n@@ -41,7 +41,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\tremote/dcesrv_remote.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tLIBCLI_SMB NDR_TABLE\n # End MODULE dcerpc_remote\n ################################################\n@@ -55,7 +55,7 @@\n OBJ_FILES = \\\n \t\tsrvsvc/dcesrv_srvsvc.o \\\n \t\tsrvsvc/srvsvc_ntvfs.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tDCERPC_COMMON NDR_SRVSVC share\n # End MODULE dcerpc_srvsvc\n ################################################\n@@ -67,7 +67,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\twkssvc/dcesrv_wkssvc.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tDCERPC_COMMON NDR_WKSSVC\n # End MODULE dcerpc_wkssvc\n ################################################\n@@ -79,7 +79,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\tunixinfo/dcesrv_unixinfo.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tDCERPC_COMMON \\\n \t\tSAMDB \\\n \t\tNDR_UNIXINFO\n@@ -95,7 +95,7 @@\n OBJ_FILES = \\\n \t\tsamr/dcesrv_samr.o \\\n \t\tsamr/samr_password.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tSAMDB \\\n \t\tDCERPC_COMMON \\\n \t\tNDR_SAMR\n@@ -110,7 +110,7 @@\n OUTPUT_TYPE = INTEGRATED\n OBJ_FILES = \\\n \t\twinreg/rpc_winreg.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tregistry NDR_WINREG\n # End MODULE dcerpc_winreg\n ################################################\n@@ -122,7 +122,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\tnetlogon/dcerpc_netlogon.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tDCERPC_COMMON \\\n \t\tSCHANNELDB \\\n \t\tNDR_NETLOGON \\\n@@ -137,7 +137,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\tlsa/dcesrv_lsa.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tSAMDB \\\n \t\tDCERPC_COMMON \\\n \t\tNDR_LSA \\\n@@ -154,7 +154,7 @@\n OUTPUT_TYPE = INTEGRATED\n OBJ_FILES = \\\n \t\tspoolss/dcesrv_spoolss.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tDCERPC_COMMON \\\n \t\tNDR_SPOOLSS \\\n \t\tntptr\n@@ -168,7 +168,7 @@\n SUBSYSTEM = dcerpc_server\n OBJ_FILES = \\\n \t\tdrsuapi/dcesrv_drsuapi.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tSAMDB \\\n \t\tDCERPC_COMMON \\\n \t\tNDR_DRSUAPI\n@@ -177,9 +177,7 @@\n \n ################################################\n # Start SUBSYSTEM dcerpc_server\n-[MODULE::dcerpc_server]\n-INIT_FUNCTION = server_service_rpc_init\n-SUBSYSTEM = service\n+[SUBSYSTEM::dcerpc_server]\n PUBLIC_HEADERS = dcerpc_server.h\n PUBLIC_PROTO_HEADER = dcerpc_server_proto.h\n OBJ_FILES = \\\n@@ -188,10 +186,15 @@\n \t\tdcesrv_auth.o \\\n \t\tdcesrv_mgmt.o \\\n \t\thandles.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tLIBCLI_AUTH \\\n \t\tLIBNDR \\\n \t\tdcerpc\n #\n # End SUBSYSTEM DCERPC\n ################################################\n+\n+[MODULE::DCESRV]\n+INIT_FUNCTION = server_service_rpc_init\n+SUBSYSTEM = service\n+PRIVATE_DEPENDENCIES = dcerpc_server\n\n"}