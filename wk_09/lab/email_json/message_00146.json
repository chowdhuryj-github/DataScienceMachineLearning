{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "James Peach <jpeach@samba.org>", "subject": "Re: svn commit: samba r22132 - in branches:\n\tSAMBA_3_0/source/modules SAMBA_3_0/source/smbd\n\tSAMBA_3_0_25/source/modules SAMBA_3_0_25/source/smbd", "body": "On 08/04/2007, at 12:41 PM, jra@samba.org wrote:\n\n> Author: jra\n> Date: 2007-04-08 19:41:47 +0000 (Sun, 08 Apr 2007)\n> New Revision: 22132\n>\n> WebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi? \n> view=rev&root=samba&rev=22132\n>\n> Log:\n> I hate inefficiency. Don't call conv_str_size()\n> on every pread/sendfile call, initialize these\n> variables in an allocated struct at connection\n> time and just refer to them directly.\n\nThis code is so close to vfs_cacheprime that I'm tempted to suggest  \nthey should be merged. Was there a particular reason you didn't do this?\n\n--\nJames Peach | jpeach@samba.org\n\n\n"}