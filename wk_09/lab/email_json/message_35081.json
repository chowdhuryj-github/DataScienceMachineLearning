{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Leeds, Mark \\(IED\\)\" <Mark.Leeds@morganstanley.com>", "subject": "[R] Changing sequential regression code to call systemfit", "body": "I use code ( actually its code from vars package and its directly below\n) to do a sequence of lm calls and the data I use from the matrix \ndepends on restrictions. \n\n for(i in 1:K){\n\n      datares <- datasub[, which(x$restrictions[i, ] == 1),drop=FALSE]\n      y <- yendog[, i]\n      lmres <- lm(y ~ -1 + ., data=datares)\n\n#      x$varresult[[i]] <- lmres\n#      x$resid[, i] <- resid(x$varresult[[i]])\n\n}\n\nI would like to modify the code to make one call to systemfit because I\nreally should be using SUR rather than a sequence of lms.\n\nBut, systemfit needs the following type of setup.\n\n#xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n\neqDemand <- consump ~ -1 + price + income\neqSupply <-  consump ~ -1 + price + farmPrice + trend\nsystem<-list( demand = eqDemand, supply = eqSupply)\n\n#xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n\nThen, the call to systemfit is \n\nfitsur<- systemfit( \"SUR\", system)\n\nDoes anyone know how to change the code in the for loop ( I can deal\nwith the two lines with x$ ) to mimic the 3 lines between\nThe xxxxxxxxxxxxxxxxxxxx lines ?\n\nI'm not good enough in R to do this but my guess is that it is possible\nbecause datares and y both have column names. Thanks.\n--------------------------------------------------------\n\nThis is not an offer (or solicitation of an offer) to buy/se...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}