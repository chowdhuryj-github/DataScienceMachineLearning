{"category": "ham", "to_address": "samba-technical <samba-technical@lists.samba.org>", "from_address": "derrell@samba.org", "subject": "Different behavior between Samba and Windows: ChangeTime", "body": "In info level SMB_QUERY_FILE_BASIC_INFO, I notice that Samba3 returns a\nChangeTime equal to WriteTime.  WriteTime = mtime.\n\nIn Windows, the ChangeTime behaves very similarly to a POSIX ctime (which,\ncontrary to much popular belief, is not a creation time).  POSIX ctime and\nWindows ChangeTime are both effected when the \"status\" of a file changes,\ni.e. when its attributes are modified.  In POSIX, this means such things as\nchanging the mode of the file.  In Windows, this includes such things as\nmodifying the hidden or archive bits.\n\nI have not studied the details of smbd enough to know if changing the\nattribute bits of a file on the server just plays with mode bits or not.  If\nthat's the case, then instead of setting ChangeTime based on get_mtimespec(),\nit should probably be based on get_ctimespec().\n\nCheers,\n\nDerrell\n\n"}