{"category": "ham", "to_address": "parrotbug-followup@parrotcode.org", "from_address": "Bob Rogers <rogers-perl6@rgrjr.dyndns.org>", "subject": "[perl #43107] t/tools/pmc2cutils/05-gen_c:  Warnings being thrown in testing of Parrot::Pmc2c::Pmc2cMain ", "body": "   From: \"James Keenan via RT\" \n   Date: Sat, 02 Jun 2007 05:12:41 -0700\n\n   On Fri Jun 01 19:46:40 2007, rgrjr wrote:\n   > This is from the \"Small tweak to Pmc2c.pm\" I posted on 19-May and\n   > committed as r18646 on 26-May.  Note that lib/Parrot/Pmc2c.pm is not\n   > actually doing anything different now, it's just telling you that none\n   > of the code for these methods is being used in the generated C file.\n   > So\n   > they are certainly not being tested now, and possibly haven't been for\n   > a\n   > while.\n\n   When the expected behavior of a block of code is to throw warnings,\n   then tests should be written to make sure those warnings are, in\n   fact, being thrown.  We can do this in our Perl 5- based tests by\n   using Parrot::IO::Capture::Mini to capture the warnings, then using\n   Test::More::like() to determine if we got the warnings we expected.\n   In r18763 I took this approach and applied the following patch to\n   t/tools/pmc2cutils/05-gen_c.t . . .\n\nThis seems like a lot of trouble just to keep dead code in the codebase.\nIs there some reason not to yank the useless methods?\n\n\t\t\t\t\t-- Bob\n\n"}