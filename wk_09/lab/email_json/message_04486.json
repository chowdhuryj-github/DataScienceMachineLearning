{"category": "ham", "to_address": "R Help Mailing List <r-help@stat.math.ethz.ch>", "from_address": "\"Kevin E. Thorpe\" <kevin.thorpe@utoronto.ca>", "subject": "[R] Problem saving xYplot graph to file", "body": "Hello.\n\nI am having a problem directing the results of xYplot in the Hmisc\npackage to a file.  First I'll give you my sessionInfo and then my\ndata and code, afterwhich I'll describe my problem.\n\n> sessionInfo()\nR version 2.4.1 Patched (2007-02-26 r40806)\ni686-pc-linux-gnu\n\nlocale:\nLC_CTYPE=en_US.UTF-8;LC_NUMERIC=C;LC_TIME=en_US.UTF-8;LC_COLLATE=en_US.UTF-8;LC_MONETARY=en_US.UTF-8;LC_MESSAGES=en_US.UTF-8;LC_PAPER=en_US.UTF-8;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_US.UTF-8;LC_IDENTIFICATION=C\n\nattached base packages:\n[1] \"grid\"      \"stats\"     \"graphics\"  \"grDevices\" \"utils\"     \"datasets\"\n[7] \"methods\"   \"base\"\n\nother attached packages:\n  lattice     Hmisc   acepack\n\"0.14-16\"   \"3.3-1\" \"1.3-2.2\"\n\n`pcs.means.sd` <-\nstructure(list(group = structure(as.integer(c(1, 2, 1, 2, 1,\n2, 1, 2)), .Label = c(\"Strength\", \"Aerobic\"), class = \"factor\"),\n    vis = c(0, 0, 2, 2, 6, 6, 18, 18), pcs = c(39.0334828308696,\n    36.9953199347826, 41.8490848139535, 39.0470522655814, 44.9146868080952,\n    41.04989196775, 46.4435591345946, 39.928985488), sd = c(8.6865669448865,\n    8.133546159086, 8.73403314236636, 8.34564558942182, 9.95941054193798,\n    10.7706814575657, 8.88934684511587, 10.9269199038043)), .Names =\nc(\"group\",\n\"vis\", \"pcs\", \"sd\"), row.names = c(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\",\n\"7\", \"8\"), class = \"data.frame\")\n\nYlim <- c(pcs.means.sd$pcs-pcs.means.sd$sd-1,\n\tpcs.means.sd$pcs+pcs.means.sd$sd+1)\ntrellis.device(\"postscript\",color=FALSE,file=\"pcs.ps\")\nxYplot(Cbind(pcs,pcs-sd,pcs+sd)~vis,data=pcs.means.sd,groups=group,type='b',\n\tmethod=\"bands\",scales=list(x=list(at=c(0,2,6,18))),\n\tylim=Ylim,xlab=\"Months\",ylab=\"PCS\")\ndev.off()\n\nNow, when I call xYplot without the trellis.device() and dev.off() the\ngraph I want displays on the screen.  When I try this with the\ntrellis.device() the plot is only partially created.  The axes are drawn\nbut the actual plot area is empty except for the \"curve\" labels,\nalthough these are plotted on to of each other in the wrong place.\n\nI also tried putting my xYplot() inside a print() which gave the same\nresults.\n\n-- \nKevin E. Thorpe\nBiostatistician/Trialist, Knowledge Translation Program\nAssistant Professor, Department of Public Health Sciences\nFaculty of Medicine, University of Toronto\nemail: kevin.thorpe@utoronto.ca  Tel: 416.864.5776  Fax: 416.864.6057\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}