{"category": "ham", "to_address": "\"H. Paul Benton\" <hpbenton@scripps.edu>, r-help@stat.math.ethz.ch", "from_address": "Stephen Tucker <brown_emu@yahoo.com>", "subject": "Re: [R] data type for block data?", "body": "Hi Paul,\n\nHope this is what you're looking for:\n\n## reading in text (the first 13 rows of cc from your posting)\n## and using smaller indices [(3,8) instead of (10,40)]\n## for this example\n> cc <- \"mode<-\"(do.call(rbind,\n+        strsplit(readLines(textConnection(txt))[-1],\"[ ]{2,}\"))[,-1],\n+        \"numeric\")\n> index <- c(3,8)\n\n## (1) convert cc to data frame\n## (2) split according to factors produced by cut()\n## (3) apply data.matrix() to each element of list\n##     produced by split() to convert back to numeric matrix\n> s <- lapply(split(as.data.frame(cc),\n+                   f=cut(1:nrow(cc),breaks=c(-Inf,index,Inf))),\n+             data.matrix)\n\n## return result. now s[[1]] contains the first \"block\",\n## s[[2]] contains the second \"block\", and so on.\n> s\n$`(-Inf,3]`\n  V1 V2\n1  1 26\n2  2 27\n3  3 28\n\n$`(3,8]`\n  V1 V2\n4  4 29\n5  5 30\n6  6 31\n7  7 32\n8  8 33\n\n$`(8, Inf]`\n   V1 V2\n9   9 34\n10  1 27\n11  1 28\n12  2 30\n13  3 34\n\n\n--- \"H. Paul Benton\"  wrote:\n\n> Dear All,\n> \n> \n>     I have a matrix with data that is not organised. I would like to go\n> through this and extract it. Each feature has 2 vectors which express\n> the data. I also have an index of the places where the data should be cut.\n> eg.\n> >class(cc)\n> \"matrix\"\n> >cc\n>       [,1] [,2]\n>  [1,]    1   26\n>  [2,]    2   27\n>  [3,]    3   28\n>  [4,]    4   29\n>  [5,]    5   30\n>  [6,]    6   31\n>  [7,]    7   32\n>  [8,]    8   33\n>  [9,]    9   34\n> [10,]    1   27\n> [11,]    1   28\n> [12,]    2   30\n> [13,]    3   34\n> ect......\n> > index\n> [1] \"10\" \"40\"\n> \n> \n> Is there a way to take cc[i:index[i-1],] to another format as to where\n> each block could be worked on separately. ie so in one block would be\n> rows1:10 the next block would be rows11:40 and so on.\n> \n> Thanks,\n> \n> Paul\n> \n> \n> \n> -- \n> Research Technician\n> Mass Spectrometry\n>    o The\n>   /\n> o Scripps\n>   \\\n>    o Research\n>   /\n> o Institute\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}