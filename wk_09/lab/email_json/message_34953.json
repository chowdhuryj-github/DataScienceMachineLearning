{"category": "ham", "to_address": "\"Waichler, Scott R\" <Scott.Waichler@pnl.gov>", "from_address": "Joerg van den Hoff <j.van_den_hoff@fzd.de>", "subject": "Re: [R] Reducing the size of pdf graphics files produced with R", "body": "On Wed, May 23, 2007 at 07:24:04AM -0700, Waichler, Scott R wrote:\n> > as you are using MacOS X, you'll have ghostscript installed anyway. so\n> > try in R `dev2bitmap' with `type =pdfwrite'. I believe `gs' _does_\n> > include compression. a quick test showed at least a reduction by about\n> > a factor of 2 relative to `pdf()'. probably one can fiddle with the\n> > ghostscript settings (cf. e.g. `Ps2pdf.htm' in the ghostscipt \n> > docs: you\n> > can adjust the resolution for images in the pdf file) to\n> > improve this, so as a last resort you could indeed export the graphics\n> > as postscript and do the conversion to `pdf' by adjusting the `ps2pdf'\n> > switches. but even with the default settings the pdf produced via\n> > dev2bitmap/ghostscript is the better solution. apart from file size I\n> > by and then ran into problems when converting `pdf()' output to\n> > postscript later on, for instance.\n> \n> Can you give an example of dev2bitmap usage?  I tried using it in place\n> of a pdf() statement.  An X11 window opened and my figure flew by, but I\n> didn't get the file output.  I also used dev2bitmap after opening a\n> pdf() and just before the dev.off() statement, since the help says it\n> works on the \"current device\", but again no written output.  What am I\n> doing wrong?\n> \n> I tried:\n>   dev2bitmap(file = plotfile2, type=\"pdfwrite\", width=8.5, height=11,\n> pointsize=12)\n>   print(myplot())\n>   dev.off()\n> \n> and\n> \n>   pdf(file = plotfile, paper=\"letter\", width=8.5, height=11,\n> pointsize=12)\n>   print(myplot())\n>   dev2bitmap(file = plotfile2, type=\"pdfwrite\", width=8.5, height=11,\n> pointsize=12)\n>   dev.off()\n> \n> Thanks,\n> Scott Waichler\n> scott.waichler _at_ pnl.gov\n\n`dev2bitmap(file = \"rf.pdf\", type = \"pdfwrite\")' copies the current device to the\npdf-file `rf.pdf', i.e. you should have plotted something on the screen prior to\nusing this (the manpage tells you so much...). no `dev.off' is necessary in this case.\n\nin order to \"plot directly\" into the pdffile, you can use `bitmap' instead of\n`dev2bitmap', i.e.\n\nuse either:\n\nplot(1:10)\ndev2bitmap(file = \"rf1.pdf\", type = \"pdfwrite\")\n\nor:\n\nbitmap(file = \"rf2.pdf\", type = \"pdfwrite\")\nplot(1:10)\ndev.off()\n\n\nboth should produce the desired output file (at least after including \nthe correct `width' and `height' settings).\n\n\njoerg\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}