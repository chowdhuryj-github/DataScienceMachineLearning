{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r23222 - in branches: SAMBA_3_0/source/locking\n\tSAMBA_3_0_26/source/locking", "body": "Author: vlendec\nDate: 2007-05-29 18:32:49 +0000 (Tue, 29 May 2007)\nNew Revision: 23222\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23222\n\nLog:\nshare_mode_forall() is only for counting and status display stuff, so\ntraverse_read is enough here\n\nModified:\n   branches/SAMBA_3_0/source/locking/locking.c\n   branches/SAMBA_3_0_26/source/locking/locking.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/locking/locking.c\n===================================================================\n--- branches/SAMBA_3_0/source/locking/locking.c\t2007-05-29 18:14:54 UTC (rev 23221)\n+++ branches/SAMBA_3_0/source/locking/locking.c\t2007-05-29 18:32:49 UTC (rev 23222)\n@@ -1404,5 +1404,5 @@\n \tstate.fn = fn;\n \tstate.private_data = private_data;\n \n-\treturn lock_db->traverse(lock_db, traverse_fn, (void *)&state);\n+\treturn lock_db->traverse_read(lock_db, traverse_fn, (void *)&state);\n }\n\nModified: branches/SAMBA_3_0_26/source/locking/locking.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/locking/locking.c\t2007-05-29 18:14:54 UTC (rev 23221)\n+++ branches/SAMBA_3_0_26/source/locking/locking.c\t2007-05-29 18:32:49 UTC (rev 23222)\n@@ -1404,5 +1404,5 @@\n \tstate.fn = fn;\n \tstate.private_data = private_data;\n \n-\treturn lock_db->traverse(lock_db, traverse_fn, (void *)&state);\n+\treturn lock_db->traverse_read(lock_db, traverse_fn, (void *)&state);\n }\n\n"}