{"category": "ham", "to_address": "\"jim holtman\" <jholtman@gmail.com>", "from_address": "\"Mark Wardle\" <mark@wardle.org>", "subject": "Re: [R] Aggregation of data frame with calculations of proportions", "body": "Dear Jim,\n\nOn 26/06/07, jim holtman  wrote:\n> I think something like this will do it for you.\n>\n>\n>\n> set.seed(1)\n> n <- 10\n> x <- data.frame(a=sample(1:100,n),\n> b=sample(1:100,n),d=sample(1:100,n))\n> x$a[c(1,5)] <- NA\n> x$b[c(7,6,4)] <- NA\n> x$d[c(5,8)] <- NA\n> x$total <- rowSums(x, na.rm=TRUE)\n> x$type <- sample(1:3, n, replace=TRUE)\n> by(x, list(x$type), function(z){\n>     apply(z[,1:3], 2, calc.prevalence, total=z$total)\n> })\n>\n>\n> [...SNIP...]\n> --\n> Jim Holtman\n> Cincinnati, OH\n> +1 513 646 9390\n>\n> What is the problem you are trying to solve?\n\n\nIt works perfectly. The problem now is how to send over that beer I owe you!\n\nMany thanks,\n\nBest wishes,\n\n-- \nDr. Mark Wardle\nClinical research fellow and specialist registrar, Neurology\nCardiff, UK\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}