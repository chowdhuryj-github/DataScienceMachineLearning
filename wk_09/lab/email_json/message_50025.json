{"category": "ham", "to_address": "Robin Hankin <r.hankin@noc.soton.ac.uk>", "from_address": "Duncan Murdoch <murdoch@stats.uwo.ca>", "subject": "Re: [R] triangle contour plots", "body": "On 6/18/2007 8:12 AM, Robin Hankin wrote:\n> Suppose I have three numbers p1, p2, p3 with\n> 0 <= p1,p2,p3 <= 1  and p1+p2+p3=1,\n> and a  function  f=f(p1,p2,p3)   =  f(p1,p2,1-p1-p2).\n> \n> How to draw a contour plot of f() on the p1+p2+p3=1 plane,\n> that is, an equilateral triangle?\n\nThe usual contour function leaves blanks where you give it NA values, so \nyou could put the f values into a rectangular array with NA outside the \ntriangle and use that.\n\nI don't know how you're thinking of displaying things, but one possible \ntransformation from (x,y) to (p1, p2, p3) would be\n\n  f <- function(p1, p2, p3) p3  # just to illustrate\n\n  maxy <- sin(pi/3)\n  x <- seq(0,1,len=100)\n  y <- seq(0, maxy, len=100)\n  p1 <- outer(x,y, function(x,y) x - y/maxy/2)\n  p2 <- outer(x,y, function(x,y) y/maxy)\n  p3 <- 1-p1-p2\n  z <- ifelse(0 < p1 & 0 < p3, f(p1,p2,p3), NA)\n  contour(x,y,z)\n\nThis puts p1==1 at the bottom right, p2==1 at the top, and p3==1 at the \nbottom left.\n\nDuncan Murdoch\n\n> \n> Functions triplot(), triangle.plot(), and ternaryplot()  give\n> only  scatterplots, AFAICS\n> \n> \n> \n> \n> \n> --\n> Robin Hankin\n> Uncertainty Analyst\n> National Oceanography Centre, Southampton\n> European Way, Southampton SO14 3ZH, UK\n>   tel  023-8059-7743\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}