{"category": "ham", "to_address": "\"Andreas Fredriksson\" <deplinenoise@gmail.com>", "from_address": "\"Green, Paul\" <Paul.Green@stratus.com>", "subject": "RE: [Samba] Guide to porting to non-unix like systems?", "body": "One problem you will have to face is that you have no control over the\nclients (on Windows or Linux) that use the SMB protocol to access files\nand directories.  For example, you will soon find that the clients\nrequire you to return an accurate file byte size value, and that some\nclients (e.g., Windows Explorer) ask for the file status information\nover and over.  This isn't exactly a POSIX issue, but it is a\nside-effect of the fact that POSIX makes asking for file status\ninformation cheap.  If you can't map the incoming SMB functions to\nsimilarly cheap operations on your proprietary file system, then you\nwill have a tough time having reasonable performance.\n\nBut whether you implement the mapping from Samba to your FS by emulating\na POSIX environment or by writing a VFS layer, it can be done.  As a\nwild guess, you are looking at writing a few thousand lines of code.\n\nPG\n\n"}