{"category": "ham", "to_address": "Robin Hankin <r.hankin@noc.soton.ac.uk>", "from_address": "Robin Hankin <r.hankin@noc.soton.ac.uk>", "subject": "Re: [R] Inflate/Expand/Resize an array", "body": "[replying to myself]\n\nit might be better to use\n\nsweep(f,(1:6)[-2],m,\"+\")\n\ninstead.\n\n\n\n\nOn 27 Apr 2007, at 11:56, Robin Hankin wrote:\n\n> Hi\n>\n>\n>   f.dims <- c(10,25,1,1,1,14)\n>   m.dims <- c(10, 1,1,1,1,14)\n>   f <- array(1:prod(f.dims),f.dims)\n>   m <- array(1:prod(m.dims),m.dims)\n>   jj <- do.call(abind,c(rep(list(m),25),along=2))\n>\n>\n> Then\n>\n> f + jj\n>\n> will give you what you want.\n>\n>\n> The more general problem is a bit harder, as you say....\n>\n>\n> HTH\n>\n> rksh\n>\n>\n> On 27 Apr 2007, at 10:41, Mark Payne wrote:\n>\n>> Gudday,\n>>\n>> I've had a good look everywhere trying to figure out how to do\n>> this, but\n>> I'm afraid I can seem to find an answer anywhere - maybe its\n>> because I'm\n>> not using the right terms, or maybe its because I'm a dummy. But\n>> unfortunately, I am not completely and utterly stuck. Here's the\n>> problem:\n>>\n>> I have two large, six dimensional arrays that I would like to add\n>> together. Lets call them f and m. Their dimensions are respectively:\n>>\n>>> dim(f)\n>> [1] 10  25  1  1  1 14\n>>> dim(m)\n>> [1] 10 1 1 1 1 14\n>>\n>> You can see that they're pretty close in size, but not identical.\n>> What I\n>> would like to do is expand or inflate m along its second dimension so\n>> that it ends up with dimension 10 25 1 1 1 14, so that I can then add\n>> the two together - the new values created along that second dimension\n>> would simply be copies of the first value..\n>>\n>> What's the fastest way to do this? Is there a dedicated function?\n>> Ideally I envisage something that you feed the input array, and the\n>> desired dimensions, and it does the rest for you. Please also bear in\n>> mind that this is a specific problem - the more general case is\n>> where I\n>> don't know which dimensions are \"out of shape\", so to speak...\n>>\n>> I hope that's clear, and that someone can me out here...\n>>\n>> Cheers,\n>>\n>> Mark\n>>\n>> ______________________________________________\n>> R-help@stat.math.ethz.ch mailing list\n>> https://stat.ethz.ch/mailman/listinfo/r-help\n>> PLEASE do read the posting guide http://www.R-project.org/posting-\n>> guide.html\n>> and provide commented, minimal, self-contained, reproducible code.\n>\n> --\n> Robin Hankin\n> Uncertainty Analyst\n> National Oceanography Centre, Southampton\n> European Way, Southampton SO14 3ZH, UK\n>   tel  023-8059-7743\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting- \n> guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n--\nRobin Hankin\nUncertainty Analyst\nNational Oceanography Centre, Southampton\nEuropean Way, Southampton SO14 3ZH, UK\n  tel  023-8059-7743\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}