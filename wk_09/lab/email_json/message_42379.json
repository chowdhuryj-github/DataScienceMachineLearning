{"category": "ham", "to_address": "\"Stan Hopkins\" <stanhopkins@comcast.net>", "from_address": "\"Sarah Goslee\" <sarah.goslee@gmail.com>", "subject": "Re: [R] Extracting lists in the dataframe $ format", "body": "This is a subset problem, not a problem with plot or lm. You need to\nread eg  help(\"[.data.frame\")\n\n\nHere are two working examples:\n\n# df already means something!\nmydf <- data.frame(out=1:4*3,pred1=1:4,pred2=1:4*2)\n\nregression <- function(tble,a,b)\n{\n           plot.new()\n           plot(tble[,a]~tble[,b])\n           lmm=lm(tble[,a]~tble[,b])\n           abline(lmm)\n           anova(lmm)\n}\n\nregression(mydf, 1, 3)\n\nregression <- function(tble,a,b)\n{\n           plot.new()\n           plot(tble[[a]]~tble[[b]])\n           lmm=lm(tble[[a]]~tble[[b]])\n           abline(lmm)\n           anova(lmm)\n}\n\nregression(mydf, 1, 3)\n\nSarah\n\nOn 6/4/07, Stan Hopkins  wrote:\n> I'm new to R and am trying to extract the factors of a dataframe using numeric indices (e.g. df[1]) that are input to a function definition instead of the other types of references (e.g. df$out).  df[1] is a list(?) whose class is \"dataframe\".  These indexed lists can be printed successfuly but are not agreeable to the plot() and lm() functions shown below as are their df$out references.  Reading the documentation for plot and lm hasn't helped yet.  Thanks in advance - Stan.\n>\n> > df=data.frame(out=1:4*3,pred1=1:4,pred2=1:4*2)\n> > regression=function(tble,a,b)\n> + {\n> +            plot.new()\n> +            plot(tble[a]~tble[b])\n> +            lmm=lm(tble[a]~tble[b])\n> +            abline(lmm)\n> +            anova(lmm)\n> + }\n> > df[1]\n>   out\n> 1   3\n> 2   6\n> 3   9\n> 4  12\n> > df\n>   out pred1 pred2\n> 1   3     1     2\n> 2   6     2     4\n> 3   9     3     6\n> 4  12     4     8\n> > regression(df,1,3)\n> Error in model.frame(formula, rownames, variables, varnames, extras, extranames,  :\n>         invalid type (list) for variable 'tble[a]'\n> >\n>\n>\n\n-- \nSarah Goslee\nhttp://www.functionaldiversity.org\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}