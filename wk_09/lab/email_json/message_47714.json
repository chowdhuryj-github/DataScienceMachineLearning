{"category": "ham", "to_address": "r-help <r-help@stat.math.ethz.ch>", "from_address": "\"Rainer M. Krug\" <Rainer@krugs.de>", "subject": "[R] make sample() faster", "body": "Hi\n\nI have a simulation which is relatively slow. I used Rprofile() and \nidentified the calls to sample() as the culprit is sample():\n\n > summaryRprof(\"Documents/PostDoc/Aloe_Pillansii/R/create.out\")\n$by.self\n                   self.time self.pct total.time total.pct\n\"sample\"               1.30     44.2       1.52      51.7\n\"ifelse\"               0.46     15.6       2.44      83.0\n.\n.\n.\n\nI am using sample() as follow:\nresult <- sample(\n                  x=d.growth.seedling$growth,\n                  size=1,\n                  prob=d.growth.seedling$p,\n                  replace\n                  )\n\nd.growth.seedling$p and d.growth.seedling$growth have a length of 1024 \nand are calculated initially by using density().\n\nMy question: is there any way to make this faster, i.e. replace sample() \nas I use it with another faster algorithm (if necessary implemented in C)?\n\nThanks in advance,\n\nRainer\n\n-- \nNEW EMAIL ADDRESS AND ADDRESS:\n\nRainer.Krug@uct.ac.za\n\nRKrug@sun.ac.za WILL BE DISCONTINUED END OF MARCH\n\nRainer M. Krug, Dipl. Phys. (Germany), MSc Conservation\nBiology (UCT)\n\nLeslie Hill Institute for Plant Conservation\nUniversity of Cape Town\nRondebosch 7701\nSouth Africa\n\nFax:\t\t+27 - (0)86 516 2782\nFax:\t\t+27 - (0)21 650 2440 (w)\nCell:\t\t+27 - (0)83 9479 042\n\nSkype:\t\tRMkrug\n\nemail:\tRainer.Krug@uct.ac.za\n       \tRainer@krugs.de\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}