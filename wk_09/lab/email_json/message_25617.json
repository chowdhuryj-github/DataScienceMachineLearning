{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Rob Dixon <rob.dixon@350.com>", "subject": "Re: looping through a file", "body": "Jeff Pang wrote:\n> \n> -----Original Message-----\n>> From: yaron@kahanovitch.com\n>> Sent: May 8, 2007 9:54 PM\n>> To: sigzero@gmail.com\n>> Cc: beginners@perl.org\n>> Subject: Re: looping through a file\n> \n>> my @lines = <$AFILE>;\n>> foreach my $prime_id ( @id_hits ) {\n>>     foreach my $line( @lines ) {\n>>         if ( $line =~ /$prime_id/ ) {\n>>             print \"$line\\n\";\n>>             next;\n> \n> 'next' is not needed here.\n> \n> Also the whole thing could be written as this simple but more efficient way,\n> \n> sub matching\n> {\n>     my @inits=@_;\n>     my $eval=join \"||\", map { \"\\$_[0]=~m/\\$inits[$_]/o\" } 0 .. $#inits;\n>     my $ref=eval \"sub { $eval }\";\n>     die \"can't eval: $@\" if $@;\n>     return $ref;\n> } \n> \n> my $match_ref=matching(@id_hits); \n> while(<$FILE>) {\n>     print if $match_ref->($_);\n> }\n> \n> Hope this helps.\n\nSimple? I think not.\n\nNo reason to write something incomprehensible if the legible version is\nalready fast enough.\n\nRob\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}