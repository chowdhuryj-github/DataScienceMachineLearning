{"category": "ham", "to_address": "Cody_Hamilton@Edwards.com", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] sas.get problem", "body": "\n--- Cody_Hamilton@Edwards.com wrote:\n\n> \n> John,\n> \n> Do you not have sas on your machine? (That would\n> definitely keep sas.get\n> from executing.)\n> \n> Regards,\n>    -Cody\n\nNo I don't have SAS on my machine. Nobody in my group\nuses it and we seldom use SPSS. I think one person has\nSTATA. Most of the work is more policy than data work\nand the occasional spreadsheet (shudder) does for\nbasic work. \n\nI am too cheap to have us spend a huge amount (well,\nlarge amount anyway) for something that  I am likely\nto use for 5-10 minutes a year. The last time I wanted\na SPSS file exported to \"delimited\" I just asked\nsomeone in another department whom I knew has it on\nhis labtop to do it. \n\nI just hike across campus to the nearest lab with SAS,\nSPSS etc installed. Done occasionally and in decent\nweather it is not a problem. Today it is turning into\na marathon but I need to lose some weight.\n                                            \n>                       \n>              John Kane                              \n>                       \n>                                     \n>              ca>                                    \n>                    To \n>                                       \n> Cody_Hamilton@Edwards.com           \n>              04/11/2007 10:56                       \n>                    cc \n>              AM                        R R-help\n>  \n>                                                     \n>               Subject \n>                                        Re: [R]\n> sas.get problem             \n>                                                     \n>                       \n>                                                     \n>                       \n>                                                     \n>                       \n>                                                     \n>                       \n>                                                     \n>                       \n>                                                     \n>                       \n> \n> \n> \n> \n> \n> --- Cody_Hamilton@Edwards.com wrote:\n> \n> >\n> > John,\n> >\n> > I believe the format file must have a .sc or\n> > .sas7bcat  file extension (not\n> > .sas7bdat which is a sas dataset extension).  I\n> > think that's why you're\n> > getting the error F:/sas/formats.sc? or\n> > formats.sas7bcat not found.\n> \n> I looked at that about 4 times and did not see it.\n> Thanks. That  is probably the major problem I am\n> having getting the files to load in SAS. I knew it\n> was\n> a format problem but since the format worked with\n> SPSS\n> I didn't think of that.\n> \n> \n> >\n> > Also, is the carriage return after '\"C:/Program \n> in\n> > the code below caused\n> > by copying and pasting into the email or is the\n> code\n> > that way in your\n> > program?\n> \n> That's a Cut & Paste problem but thanks for catching\n> it.\n> \n> Well time to finish lunch and hike back to the\n> computer lab.  I'm beginning to regret being to\n> cheap\n> to ask for an SAS licence :(\n> \n> I may get this running today after all.  I really\n> don't want to do a SAS > SPSS > R route.  It is a\n> bit\n> too much like a Rube Goldbeg cartoon.\n> \n> Thanks\n> \n> >\n> > Regards,\n> >     -Cody\n> >\n> >\n> >\n> >\n> >\n> >              John Kane\n> >\n> >               >\n> >              ca>\n> >                    To\n> >              Sent by:\n> > tchur@optusnet.com.au\n> >              r-help-bounces@st\n> >                    cc\n> >              at.math.ethz.ch           R R-help\n> > \n> >\n> >               Subject\n> >                                        Re: [R]\n> > sas.get problem\n> >              04/11/2007 07:41\n> >\n> >              AM\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> >\n> > --- Tim Churches  wrote:\n> >\n> > > John Kane wrote:\n> > > > I  have 3 SAS files all in the directory\n> F:/sas,\n> > > two\n> > > > data files\n> > > > and a format file :\n> > > > form.ea1.sas7bdat\n> > > > form.ea2.sas7bdat\n> > > > sas.fmts.sas7bdat\n> > > >\n> > > > F is a USB.\n> >\n> > > > I am using R2.4.1 under Windows XP\n> > > > SAS files were created with SAS 9.x\n> > > > They convert easily into SPSS 14\n> >\n> > > > Example.\n> > > >\n> > > > library(Hmisc)\n> > > > mydata <- sas.get(library=\"F:/sas\",\n> > > mem=\"form.ea1\",\n> > > >             \n> format.library=\"sas.fmts.sas7bdat\",\n> > > >            sasprog = '\"C:Program Files/SAS/SAS\n> > > > 9.1/sas.exe\"')\n> > > >\n> > > > Error message  (one of several that I have\n> > gotten\n> > > > while trying various things.)\n> > > > The filename, directory name, or volume label\n> > > syntax\n> > > > is incorrect.\n> > > > Error in sas.get(library = \"F:/sas\", mem =\n> > > \"form.ea1\",\n> > > > format.library = \"sas.fmts.sas7bdat\",  :\n> > > >         SAS job failed with status 1\n> > > > In addition: Warning messages:\n> > > > 1: sas.fmts.sas7bdat/formats.sc? or\n> > > formats.sas7bcat\n> > > > not found. Formatting ignored.\n> > > >  in: sas.get(library = \"F:/sas\", mem =\n> > \"form.ea1\",\n> > > > format.library = \"sas.fmts.sas7bdat\",\n> > > > 2: 'cmd' execution failed with error code 1\n> in:\n> > > > shell(cmd, wait = TRUE, intern = output)\n> > >\n> > > The sas.get function in the Hmisc library is\n> > broken\n> > > under Windows.\n> > >\n> > > Change line 127 from:\n> > >\n> > >     status <- sys(paste(shQuote(sasprog),\n> > > shQuote(sasin), \"-log\",\n> > >         shQuote(log.file)), output = FALSE)\n> > >\n> > > to:\n> > >\n> > >     status <- system(paste(shQuote(sasprog),\n> > > shQuote(sasin), \"-log\",\n> > >         shQuote(log.file)))\n> > >\n> > > Tim C\n> >\n> > Thanks Tim,\n> \n=== message truncated ===\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}