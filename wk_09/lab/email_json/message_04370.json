{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Julien Barnier <julien@no-log.org>", "subject": "[R] Two basic data manipulation questions (counting and aggregating)", "body": "Dear R users,\n\nI hav two basic data manipulations questions that I can't resolve.\n\nMy data is a data frame which look like the following :\n\nid     type\n10002  \"7\"\n10061  \"1\"\n10061  \"1\"\n10061  \"4\"\n10065  \"7\"\n10114  \"1\"\n10114  \"1\"\n10114  \"4\"\n10136  \"7\"\n10136  \"2\"\n10136  \"2\"\n\n\nFirst, I would like to create a \"counter\" variable which will count\nthe rank of each row inside each \"id\" level, ie something like :\n\nid     type   counter\n10002  \"7\"      1 \n10061  \"1\"      1\n10061  \"1\"      2\n10061  \"4\"      3\n10065  \"7\"      1\n10114  \"1\"      1 \n10114  \"1\"      2\n10114  \"4\"      3\n10136  \"7\"      1\n10136  \"2\"      2\n10136  \"2\"      3\n\nIs there a straightforward way to do that, without using several\n\"for\" loops ?\n\nThe second thing I would like to do is to aggregate the first\ndata.frame by concatenating the 'type' values for each 'id', ie I'd\nlike to obtain something like :\n\nid     value\n10002  7\n10061  114\n10065  7\n10114  114\n10136  722\n\nI have tried the \"aggregate\" function, but it doesn't work because the\n\"paste\" function doesn't return a scalar value. Using tapply seems to\nwork, but is not straightforward, and I wanted to know if there is a\nsimple way to do this.\n\nThanks in advance for any help.\n\n-- \nJulien\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}