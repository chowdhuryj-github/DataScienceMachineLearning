{"category": "ham", "to_address": "\"Doran, Harold\" <HDoran@air.org>", "from_address": "\"Spielas Bates\" <bates@stat.wisc.edu>", "subject": "Re: [R] Modelling Heteroscedastic Multilevel Models", "body": "May I suggest the Exam data from the mlmRev package as an example.\n\nIf you wish to have a random effect for Sex by school you could write\nthe model as\n\nlmer(test.result ~ homework + Sex + (Sex|school))\n\nwhich gives correlated random effects for the overall achievement in\nschools and the differential effect of Sex by school.  Alternatively\nyou could write\n\nlmer(test.result ~ homework + Sex + (1|school) + (1|Sex:school))\n\nwhich gives uncorrelated effects for the intercept by school and for\nthe effect of sex by school.\n\n\nOn 4/17/07, Doran, Harold  wrote:\n> I think there are many who can help, but this question is quite vague.\n> This assumes we have access to the book you note and can make sense of\n> your question w/o sample data.\n>\n> If you cannot find a sample data set please create a sample data file.\n> However, there are so many sample data sets in the mlmRev package and in\n> other places I doubt you will need to do this. For example, see the\n> egsingle or star data files that are education specific. But, if you for\n> some reason cannot do either at least give a good substantive\n> description of your data and the problem you are trying to solve.\n>\n> In the code you have below, you have a random intercept for each school,\n> but you remove the intercept in the fixed portion of the call. Also,\n> does it make sense to model Sex as random? This is a repeatable factor\n> (I hope), how can it be treated as a random draw from a population?\n>\n> > -----Original Message-----\n> > From: r-help-bounces@stat.math.ethz.ch\n> > [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Rense\n> > Nieuwenhuis\n> > Sent: Monday, April 16, 2007 4:37 PM\n> > To: r-help@stat.math.ethz.ch\n> > Subject: [R] Modelling Heteroscedastic Multilevel Models\n> >\n> > Dear ListeRs,\n> >\n> > I am trying to fit a heteroscedastic multilevel model using\n> > lmer{lme4- package). Take, for instance, the (fictive) model below.\n> >\n> > lmer(test.result ~ homework + Sex -1 + (1 | School))\n> >\n> > Suppose that I suspect the error terms in the predicted\n> > values to differ between men and women (so, on the first\n> > level). In order to model this, I want the 'Sex'-variable to\n> > be random on the first level, as described in Snijders &\n> > Bosker, page 110.\n> >\n> > Does anybody know if this is possible and how this can be\n> > done using R?\n> >\n> > Many thanks in advance.\n> >\n> > Rense Nieuwenhuis\n> >\n> >\n> > PS. Please excuse me for not providing a self-contained\n> > example. I couldn't find a data-set in the lme4-package that\n> > fitted my question.\n> >       [[alternative HTML version deleted]]\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> > http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> >\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}