{"category": "ham", "to_address": "\"Tom Phoenix\" <tom@stonehenge.com>", "from_address": "\"Jen mlists\" <practicalperl@gmail.com>", "subject": "Re: CGI Header", "body": "Thank you.\nBut my error_report function is located in a package,not the main script.\nfor example,\n\npackage Myfunc;\nsub error_report {\n    my($q,$msg) = @_;\n    print $q->header(); # print or not print it??\n    print $msg;\n}\n1;\n\nThen how to use a global variable for label it?Thanks.\n\n\n2007/4/11, Tom Phoenix :\n> On 4/10/07, Jen mlists  wrote:\n>\n> > How to judge whether I've output the http header or not where in cgi\n> > scripts?Thank you.\n>\n> I think you're asking how a programmer can know whether or not the\n> header has already been output when it's time to produce output (in an\n> error-handling subroutine, say). Perhaps you want to use a global flag\n> in your program; that's a simple solution. Or your error handler could\n> simply output the header in any case, since it's an error message\n> anyway.\n>\n> My preferred solution is to use an eval block that returns (rather\n> than outputting) a complete web page. If everything worked, it's\n> simple to output the page; otherwise, it's equally simple to output an\n> error page. In either case, there's no worry about the headers until\n> output time.\n>\n> Is that what you needed?\n>\n> --Tom Phoenix\n> Stonehenge Perl Training\n>\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}