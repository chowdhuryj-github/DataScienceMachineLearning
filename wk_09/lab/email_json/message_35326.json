{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r23110 - in branches/SAMBA_4_0/source/build/m4: .", "body": "Author: metze\nDate: 2007-05-24 09:28:05 +0000 (Thu, 24 May 2007)\nNew Revision: 23110\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23110\n\nLog:\nadd --disable-shared option, very useful for the build-farm...\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/build/m4/check_ld.m4\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/build/m4/check_ld.m4\n===================================================================\n--- branches/SAMBA_4_0/source/build/m4/check_ld.m4\t2007-05-24 09:06:15 UTC (rev 23109)\n+++ branches/SAMBA_4_0/source/build/m4/check_ld.m4\t2007-05-24 09:28:05 UTC (rev 23110)\n@@ -47,7 +47,7 @@\n fi\n ])\n \n-AC_MSG_CHECKING([ability to build shared libraries])\n+AC_MSG_CHECKING([whether to try to build shared libraries on $host_os])\n \n # and these are for particular systems\n case \"$host_os\" in\n@@ -167,6 +167,14 @@\n AC_MSG_CHECKING([STLD_FLAGS])\n AC_MSG_RESULT([$STLD_FLAGS])\n \n+AC_ARG_ENABLE(shared,\n+[  --disable-shared        Disable testing for building shared libraries],\n+[],[enable_shared=yes])\n+\n+if test x\"$enable_shared\" = x\"no\" -o x\"$enable_shared\" = x\"false\"; then\n+\tBLDSHARED=false\n+fi\n+\n #######################################################\n # test whether building a shared library actually works\n if test $BLDSHARED = true; then\n@@ -231,7 +239,7 @@\n AC_SUBST(USESHARED)\n \n AC_ARG_ENABLE(dso,\n-[  --enable-dso \t\tEnable using shared libraries internally (experimental)],\n+[  --enable-dso \t          Enable using shared libraries internally (experimental)],\n [],[enable_dso=no])\n \n if test x\"$enable_dso\" = x\"yes\" -a x\"$BLDSHARED\" != x\"true\"; then\n\n"}