{"category": "ham", "to_address": "\"Ben Fairbank\" <BEN@SSANET.COM>", "from_address": "\"Horace Tso\" <Horace.Tso@pgn.com>", "subject": "Re: [R] Size of an object in workspace", "body": "Aaaah, wonderful. Thanks Ben. lls appears below. Should these functions be a permanent part of R? Just a thought.\n\nH.\n\n> lls\nfunction (pos = 1, pat = \"\") {\n    dimx <- function(dd) if (is.null(dim(dd)))\n        length(dd)\n    else dim(dd)\n    lll <- ls(pos = pos, pat = pat)\n    cat(formatC(\"mode\", 1, 15), formatC(\"class\", 1, 18), formatC(\"name\",\n        1, max(nchar(lll)) + 1), \"size\\n-----------------------------------------------------------------\\n\")\n    if (length(lll) > 0) {\n        for (i in 1:length(lll)) {\n            cat(formatC(eval(parse(t = paste(\"mode(\", lll[i],\n                \")\"))), 1, 15), formatC(paste(eval(parse(t = paste(\"class(\",\n                lll[i], \")\"))), collapse = \" \"), 1, 18), formatC(lll[i],\n                1, max(nchar(lll)) + 1), \" \", eval(parse(t = paste(\"dimx(\",\n                lll[i], \")\"))), \"\\n\")\n        }\n    }\n}\n\n\n>>> \"Ben Fairbank\"  4/24/2007 9:10:20 AM >>>\nHere is a copy of a correspondence I had with Jim Holtman -- his\nfunction, which I now use almost daily, does exactly what I think you\nneed.  Could you send me a copy of Bendix Carstensen's function>\n\nThanks,\n\nBen Fairbank\n\nFrom: jim holtman  \nTo: Ben Fairbank  \nDate: Sep 27 2006 - 4:42pm \n\n \n\nThanks for the suggestion. I did.\n\nOn 9/27/06, Ben Fairbank  wrote:\n> Nicely done. May I suggest you post it to the list? Others probably\n> would benefit also. Or maybe I am the only user dense enough not to\nsee\n> how to write it.\n>\n> Ben\n>\n> -----Original Message-----\n> From: jim holtman [mailto:jholtman@gmail.com] \n> Sent: Wednesday, September 27, 2006 4:36 PM\n> To: Ben Fairbank\n> Subject: Re: [R] Space required by object?\n>\n> That was a function I wrote when I needed a similar thing.\n>\n> On 9/27/06, Ben Fairbank  wrote:\n> > Thank you! Exactly what I needed!\n> >\n> > Is that something you wrote?\n> >\n> > Ben Fairbank\n> >\n> > -----Original Message-----\n> > From: jim holtman [mailto:jholtman@gmail.com] \n> > Sent: Wednesday, September 27, 2006 4:23 PM\n> > To: Ben Fairbank\n> > Subject: Re: [R] Space required by object?\n> >\n> > try this one:\n> >\n\n\tNote --  Horace, the function starts here -- \n\nmy.ls <- function(pos=1, sorted=F){\n.result <- sapply(ls(pos=pos, all.names=TRUE),\nfunction(..x)object.size(eval(as.symbol(..x))))\nif (sorted){\n.result <- rev(sort(.result))\n}\n.ls <-\nas.data.frame(rbind(as.matrix(.result),\"**Total\"=sum(.result)))\nnames(.ls) <- \"Size\"\n.ls$Size <- formatC(.ls$Size, big.mark=',', digits=0, format='f')\n.ls$Mode <- c(unlist(lapply(rownames(.ls)[-nrow(.ls)],\n function(x)mode(eval(as.symbol(x))))), '-------')\n.ls\n}\n\n\tAnd ends there\n\n> >\n> >\n> > On 9/27/06, Ben Fairbank  wrote:\n> > > Does R provide a function analogous to LS() or str() that reports\n> the\n> > > storage space, on disk or in memory, required by objects?\n> > >\n> > > Ben Fairbank\n> > >\n> > > ______________________________________________\n> > > R-help@stat.math.ethz.ch mailing list\n> > > https://stat.ethz.ch/mailman/listinfo/r-help \n> > > PLEASE do read the posting guide\n> > http://www.R-project.org/posting-guide.html \n> > > and provide commented, minimal, self-contained, reproducible code.\n> > >\n> >\n> >\n> > --\n> > Jim Holtman\n> > Cincinnati, OH\n> > +1 513 646 9390\n> >\n> > What is the problem you are trying to solve?\n> >\n\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch \n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Horace Tso\nSent: Tuesday, April 24, 2007 10:59 AM\nTo: r-help@stat.math.ethz.ch \nSubject: [R] Size of an object in workspace\n\nHi folks,\n\nIs there a function to show the size of an R object? eg. in Kbytes?\n\nCouple months ago Bendix Carstensen posted this marvelous little\nfunction lls(), which shows all objects in the current workspace by\nmode, class and 'size'. This is a wonderful enhancement to the build-in\nls() already and I now have it sourced in my Rprofile.site at startup. \n\nThe only drawback is, 'size' is just the length/dim of an object. For\nmatrices and data frames this is good enough. But for a list, knowing\nhow many elements in there doesn't help much. I need to know the\ntotality of the content in a common unit, eg. byte. \n\nThanks in advance. \n\nHorace\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help \nPLEASE do read the posting guide\nhttp://www.R-project.org/posting-guide.html \nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}