{"category": "ham", "to_address": "\"Leeds, Mark (IED)\" <Mark.Leeds@morganstanley.com>", "from_address": "Anders Nielsen <andersn@hawaii.edu>", "subject": "Re: [R] Looking for a cleaner way to implement a setting certain\n indices of a matrix to 1 function", "body": "Hi Mark, \n\nIs this of any help?\n\n  resMat<-function(K=6,lag=2,ncol=3*K){\n    X<-matrix(0,K,ncol)\n    X[,1:(K*lag)]<-diag(K)\n    return(X)\n  } \n\nCheers, \n\nAnders. \n\nOn Tuesday 08 May 2007 11:21 am, Leeds, Mark (IED) wrote:\n> I wrote an ugly algorithm to set certain elements of a matrix to 1\n> without looping and below works and you can see what\n> The output is below the code.\n> \n> K<-6\n> lagnum<-2\n> \n> restrictmat<-matrix(0,nrow=K,ncol=K*3)\n> restrictmat[((col(restrictmat) - row(restrictmat) >= 0 ) &\n> (col(restrictmat)-row(restrictmat)) %% K == 0)]<-1\n> restrictmat[,(lagnum*K+1):ncol(restrictmat)]<-0\n> \n>  restrictmat\n>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\n> [,13] [,14] [,15] [,16] [,17] [,18]\n> [1,]    1    0    0    0    0    0    1    0    0     0     0     0\n> 0     0     0     0     0     0\n> [2,]    0    1    0    0    0    0    0    1    0     0     0     0\n> 0     0     0     0     0     0\n> [3,]    0    0    1    0    0    0    0    0    1     0     0     0\n> 0     0     0     0     0     0\n> [4,]    0    0    0    1    0    0    0    0    0     1     0     0\n> 0     0     0     0     0     0\n> [5,]    0    0    0    0    1    0    0    0    0     0     1     0\n> 0     0     0     0     0     0\n> [6,]    0    0    0    0    0    1    0    0    0     0     0     1\n> 0     0     0     0     0     0\n> \n> For lagnum equals 1 , it also works :\n> \n>  restrictmat\n>      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\n> [,13] [,14] [,15] [,16] [,17] [,18]\n> [1,]    1    0    0    0    0    0    0    0    0     0     0     0\n> 0     0     0     0     0     0\n> [2,]    0    1    0    0    0    0    0    0    0     0     0     0\n> 0     0     0     0     0     0\n> [3,]    0    0    1    0    0    0    0    0    0     0     0     0\n> 0     0     0     0     0     0\n> [4,]    0    0    0    1    0    0    0    0    0     0     0     0\n> 0     0     0     0     0     0\n> [5,]    0    0    0    0    1    0    0    0    0     0     0     0\n> 0     0     0     0     0     0\n> [6,]    0    0    0    0    0    1    0    0    0     0     0     0\n> 0     0     0     0     0     0\n> \n> But I am thinking that there has to be a better way particularly because\n> I'll get an error if I set lagnum to 3. \n> Any improvements or total revampings are appreciated. The number of\n> columns will always be a multiple of the number of rows\n> So K doesn't have to be 6. that was just to show what the commands do.\n> thanks.\n> --------------------------------------------------------\n> \n> This is not an offer (or solicitation of an offer) to buy/se...{{dropped}}\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}