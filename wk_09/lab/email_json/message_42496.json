{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r23348 - in branches: SAMBA_3_0/source/nsswitch\n\tSAMBA_3_0_25/source/nsswitch SAMBA_3_0_26/source/nsswitch", "body": "Author: jra\nDate: 2007-06-04 23:51:19 +0000 (Mon, 04 Jun 2007)\nNew Revision: 23348\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23348\n\nLog:\nFix connection reporting on SIGUSR2 (noticed by\nHerb).\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/nsswitch/winbindd.c\n   branches/SAMBA_3_0_25/source/nsswitch/winbindd.c\n   branches/SAMBA_3_0_26/source/nsswitch/winbindd.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/nsswitch/winbindd.c\n===================================================================\n--- branches/SAMBA_3_0/source/nsswitch/winbindd.c\t2007-06-04 23:31:34 UTC (rev 23347)\n+++ branches/SAMBA_3_0/source/nsswitch/winbindd.c\t2007-06-04 23:51:19 UTC (rev 23348)\n@@ -315,6 +315,9 @@\n \tif (state->mem_ctx == NULL)\n \t\treturn;\n \n+\t/* Remember who asked us. */\n+\tstate->pid = state->request.pid;\n+\n \t/* Process command */\n \n \tfor (table = dispatch_table; table->fn; table++) {\n\nModified: branches/SAMBA_3_0_25/source/nsswitch/winbindd.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/nsswitch/winbindd.c\t2007-06-04 23:31:34 UTC (rev 23347)\n+++ branches/SAMBA_3_0_25/source/nsswitch/winbindd.c\t2007-06-04 23:51:19 UTC (rev 23348)\n@@ -303,6 +303,9 @@\n \tif (state->mem_ctx == NULL)\n \t\treturn;\n \n+\t/* Remember who asked us. */\n+\tstate->pid = state->request.pid;\n+\n \t/* Process command */\n \n \tfor (table = dispatch_table; table->fn; table++) {\n\nModified: branches/SAMBA_3_0_26/source/nsswitch/winbindd.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/nsswitch/winbindd.c\t2007-06-04 23:31:34 UTC (rev 23347)\n+++ branches/SAMBA_3_0_26/source/nsswitch/winbindd.c\t2007-06-04 23:51:19 UTC (rev 23348)\n@@ -320,6 +320,9 @@\n \tif (state->mem_ctx == NULL)\n \t\treturn;\n \n+\t/* Remember who asked us. */\n+\tstate->pid = state->request.pid;\n+\n \t/* Process command */\n \n \tfor (table = dispatch_table; table->fn; table++) {\n\n"}