{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jelmer@samba.org", "subject": "svn commit: samba r22750 - in\n\tbranches/SAMBA_4_0/source/lib/ldb/common: .", "body": "Author: jelmer\nDate: 2007-05-07 15:29:25 +0000 (Mon, 07 May 2007)\nNew Revision: 22750\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22750\n\nLog:\ndlopen() is always available now (and returns a correct error if not supported by the system), thanks to libreplace.\nModified:\n   branches/SAMBA_4_0/source/lib/ldb/common/ldb_modules.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/ldb/common/ldb_modules.c\n===================================================================\n--- branches/SAMBA_4_0/source/lib/ldb/common/ldb_modules.c\t2007-05-07 15:27:50 UTC (rev 22749)\n+++ branches/SAMBA_4_0/source/lib/ldb/common/ldb_modules.c\t2007-05-07 15:29:25 UTC (rev 22750)\n@@ -208,7 +208,6 @@\n \tint (*init_fn) (void);\n \tchar *modulesdir;\n \n-#ifdef HAVE_DLOPEN\n \tif (getenv(\"LD_LDB_MODULE_PATH\") != NULL) {\n \t\tmodulesdir = talloc_strdup(ldb, getenv(\"LD_LDB_MODULE_PATH\"));\n \t} else {\n@@ -241,10 +240,6 @@\n \ttalloc_free(path);\n \n \treturn init_fn();\n-#else\n-\tldb_debug(ldb, LDB_DEBUG_TRACE, \"no dlopen() - not trying to load %s module\\n\", name);\n-\treturn -1;\n-#endif\n }\n \n int ldb_load_modules_list(struct ldb_context *ldb, const char **module_list, struct ldb_module *backend, struct ldb_module **out)\n\n"}