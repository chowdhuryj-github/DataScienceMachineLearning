{"category": "ham", "to_address": "Justin Mason <jm@jmason.org>, beginners-list List <beginners@perl.org>", "from_address": "Tom Allison <tom@tacocat.net>", "subject": "Re: UTF-8/SA WORKAROUND only - NOT - a fix..", "body": "Darn it.  I came in too late on this subject to make any sense out of  \nit.\nBut I have a similar issue that I ran into and I'm wondering if you  \nmight be able to shed some light on it -- like am I going in the  \nright direction.\n\nI have a bayesian spam filter that I wrote in perl and have been  \ndeveloping into something useful for about a month now.\nThe features that make it different from SA is it's speed and the  \noverall approach of managing tokens and data.\nSo far it's extremely fast but I suspect I will lost most or all of  \nthat in the near future.\n\nThe problem that I have run into a little bit is how to parse tokens  \nwith non-ascii text.\n\nExample\nI want to break up every email based on a token defined as /(\\w\\w\\w+)/g;\nThis will give me every \"word\" of three or more letters.\n\nBut when I'm getting mail that is in UTF-8 format this doesn't work  \nthat way I want it to as I can't see an umlat (or similar) as  \nmatching a '\\w'.\n\nMy data storage can handle these characters, but I can't.\n\nAny suggestions?\n(not sure how SA does this either)\n\nSomeone suggested 'use encoding \"utf8\"' but I actually couldn't find  \nmuch on that either.\nSo this seems to be a good list to ask these sort of questions.\n\nOn May 10, 2007, at 4:36 AM, Justin Mason wrote:\n\n>\n> Kevin W. Gagel writes:\n>> Thanks for straightening me out on that Vincent.\n>> Folks - for completeness here are some instructions for the  \n>> WORKAROUND.\n>>\n>> Locate your Message.pm module and edit the section in the begining as\n>> indicated below.\n>>\n>> I have been running this now for a couple of hours with no adverse  \n>> affects\n>> (that I can see at the moment).\n>>\n>> PS\n>> Thanks beginners@perl.org for your help. I'm up and running  \n>> without any\n>> further errors.\n>> ----- Forwarded Message -----\n>>> Vincent,\n>>>\n>>> Where in the Message.pm module do I but \"use bytes\"? Right here  \n>>> (below)\n>>> and do I just add it below the warnings line with a \";\" ending it?\n>>\n>> Yes, you are right, after \"use warnings;\". I ran SA3.2 on my site  \n>> with\n>> \"use bytes;\" added, no problem so far. But it seems SA developers  \n>> did not\n>> mention this, they might have their reasons (break  \n>> normalize_charset for\n>> one reason).\n>\n> Yes, exactly -- breaking one of the major 3.2.0 features is not a good\n> thing. :(\n>\n> --j.\n>\n>>> ---paste---\n>>> package Mail::SpamAssassin::Message;\n>>>\n>>> use strict;\n>>> use warnings;\n>>>\n>>> use Mail::SpamAssassin;\n>>> use Mail::SpamAssassin::Message::Node;\n>>> use Mail::SpamAssassin::Message::Metadata;\n>>> use Mail::SpamAssassin::Constants qw(:sa);\n>>> use Mail::SpamAssassin::Logger;\n>>>\n>>> use vars qw(@ISA);\n>>> ---end paste---\n>>>\n>>> =================================\n>>\n>> Vincent Li\n>> http://bl0g.blogdns.com\n>>\n>> =================================\n>> Kevin W. Gagel\n>> Network Administrator\n>> Information Technology Services\n>> (250) 562-2131 local 448\n>> My Blog:\n>> http://mail.cnc.bc.ca/blogs/gagel\n>>\n>> -------------------------------------------------------------------\n>> The College of New Caledonia, Visit us at http://www.cnc.bc.ca\n>> Virus scanning is done on all incoming and outgoing email.\n>> Anti-spam information for CNC can be found at http://avas.cnc.bc.ca\n>> -------------------------------------------------------------------\n>\n> -- \n> To unsubscribe, e-mail: beginners-unsubscribe@perl.org\n> For additional commands, e-mail: beginners-help@perl.org\n> http://learn.perl.org/\n>\n>\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}