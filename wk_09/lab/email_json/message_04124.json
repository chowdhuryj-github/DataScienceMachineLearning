{"category": "ham", "to_address": "Jose Bustos Melo <jbustosmelo@yahoo.es>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] making a counter of consecitive positive cases in\n\ttime\tseries", "body": "On Thu, 2007-04-12 at 22:30 +0200, Jose Bustos Melo wrote:\n> Hi all..RCounters!\n>    \n>   Im working with standarized time series, and i need make a counter\n> of consecutives positves numbers to  make a cumulative experimental\n> funtion. I have x: the time series (0,1) and y: my counter, i have\n> this for step. What is wrong?.. any can help me please!\n>    \n>   x<-rbinom(15,1,.3)\n>   y<-NULL;s<-0\n>   for (i in 1: length (x))\n>   {if (x[i]>0)\n>   {s<-s+x[i]\n>   s=0}\n>   else\n>   y<-c(y,s)}\n>   y\n>   x\n>    \n>    \n>   Thk u all!\n>   Jos Bustos\n>    \n\nI may be mis-understanding your desired result, but is this what you\nwant:\n\nx <- rbinom(15, 1, .3)\n\n> x\n [1] 1 1 0 0 1 0 0 0 1 1 0 1 1 0 1\n\n> rle(x)\nRun Length Encoding\n  lengths: int [1:9] 2 2 1 3 2 1 2 1 1\n  values : num [1:9] 1 0 1 0 1 0 1 0 1\n\n\nSee ?rle for more information.\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}