{"category": "ham", "to_address": "\"Natalie O'Toole\" <notoole@mtroyal.ca>, r-help@stat.math.ethz.ch", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] select if + other questions", "body": "\n--- Natalie O'Toole  wrote:\n\n> Hi,\n> \n> i am trying to read a .txt file, do a couple of\n> select if statements on my \n> data, and then finally use the ?table function to\n> get frequency counts on \n> the data. Specifically, i am looking at answering\n> the following question:\n> \n> What is the frequency of Grade 7 students in the\n> province of Alberta who \n> are smokers?\n> \n> I am having some problems:\n> \n> 1)i cannot get the column names to show up when\n> print to screen\n\nAre you sure they are there?  Try mydata[1,] and see\nif you get the names.  \n\nIf not just assign the names by using \nnames (mydata) <- myVariableNames\n> \n> 2)I cannot seem to skip variables properly when i\n> choose certain other variables\n\nI don't quite understand what you mean here. \n> \n> 3)i cannot get the combination of Select If\n> statements to work to produce \n> a different table with my new criteria\n\nTry subset rather than which. \nsubset(mydata, PROV==\"AB\" & GRADE == 7  & Y_Q10A != 9)\n\nwhich() is a logical operator and as far as I am aware\nonly will take a TRUE FALSE reponse\n\nwhich(mydata$PROV==\"AB\")  # should work\n\n\n\n> Here are the variables\n> \n> PUMFID position1 length 5\n> PROV position 6 length 2\n> GRADE position 9 length 2\n> Y_Q10A position 33 length 1\n> \n> \n> Y_Q10A has the following 1=yes\n>                            2=no\n>                           9=skip\n> \n> all the others have no skipped or missing values\n> \n> Here is my code:\n> \n> myfile<-(\"c:/test2.txt\")\n> myVariableNames<-c(\"PUMFID\",\"PROV\",\"GRADE\",\"Y_Q10A\")\n> myVariableWidths<-c(5,2,2,1)\n> \n> \n>  mydata<-read.fwf(\n> file=myfile,\n> width=myVariableWidths,\n> col.names=myVariableNames,\n> row.names=\"PUMFID\",\n> fill=TRUE,\n> strip.white=TRUE)\n> \n> \n> print(mydata)\n> \n> print( mydata [which(PROV==\"AB\" & GRADE==7 &\n> Y_Q10A<9), ] )\n> \n> \n> \n> Any help would be greatly appreciated!!\n> \n> Thank-you,\n> \n> Nat\n> \n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}