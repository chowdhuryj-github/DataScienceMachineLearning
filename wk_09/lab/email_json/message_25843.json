{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Robert Hicks <sigzero@gmail.com>", "subject": "Re: looping through a file", "body": "Rob Dixon wrote:\n> Robert Hicks wrote:\n>> I decided to back up a bit and try a more simple routine. I have the \n>> array @id_hits populated and I can search the log for the line and \n>> print it. The problem is it only finds the first match and that is it.\n>>\n>> foreach my $prime_id ( @id_hits ) {\n>>     while ( my $line = <$AFILE> ) {\n>>         if ( $line =~ /$prime_id/ ) {\n>>             print \"$line\\n\";\n>>             next;\n>>         }\n>>     }\n>> }\n>>\n>> Do I need to pass it back to the foreach somehow?\n> \n> If the IDs appear in @id_hits in the same order as in $AFILE then\n> you can just go and fetch the nex id to look for like this:\n> \n>  ID:\n>  foreach my $prime_id ( @id_hits ) {\n>    while ( my $line = <$AFILE> ) {\n>      if ( $line =~ /$prime_id/ ) {\n>        print \"$line\\n\";\n>        next ID;\n>      }\n>    }\n>  }\n> \n> but if they appear in the file in a different sequence then you also\n> need to rewind and start looking at the beginning of the file once\n> again like this:\n> \n>  ID:\n>  foreach my $prime_id ( @id_hits ) {\n>    while ( my $line = <$AFILE> ) {\n>      if ( $line =~ /$prime_id/ ) {\n>        print \"$line\\n\";\n>        seek $AFILE, 0, 0;\n>        next ID;\n>      }\n>    }\n>  }\n> \n> Hope this helps.\n> \n> Rob\n\nThanks! I was thinking about a LABEL as I just read about that the other \nday.\n\nRobert\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}