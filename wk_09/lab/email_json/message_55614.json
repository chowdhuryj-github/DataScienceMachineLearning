{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Zodet, Marc W. (AHRQ)\" <Marc.Zodet@ahrq.hhs.gov>", "subject": "[R] Subscripting specified variables in a function", "body": "I'm trying to create a function which will allow me to subset a data set\nbased on values of various specified variables.  I also want to then\napply some other function(s) (e.g., summary).\n\n \n\nThis is what I've tried so far....\n\n \n\n> test.fx <- function(dta, expvar, expval) {\n\n+ newdta <- subset(dta, eval(expvar)>expval)\n\n+ summary(newdta$eval(expvar))\n\n+ }\n\n> \n\n> test.fx(fyc04s, quote(totexp04), 100)\n\nError in summary(newdta$eval(expvar)) : attempt to apply non-function\n\n> \n\n \n\nThe subset works fine, but the my attempt to access the specified\nvariable bombs.  \n\n \n\nIs there a syntactical change I can make?\n\nIs it better to attach newdta?\n\n \n\nThanks in advance for any guidance.\n\n \n\nMarc\n\n \n\nMarc W. Zodet, MS                           \n\nSenior Health Statistician\n\nAgency for Healthcare Research and Quality\n\nCenter for Financing, Access, and Cost Trends\n\n301-427-1563 (Telephone)\n\n301-427-1276 (Fax)\n\nmarc.zodet@ahrq.hhs.gov\n\n \n\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}