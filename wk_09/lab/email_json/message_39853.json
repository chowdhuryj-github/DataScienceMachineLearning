{"category": "ham", "to_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "from_address": "\"Tobin, Jared\" <TobinJR@DFO-MPO.GC.CA>", "subject": "Re: [R] Partially reading a file (particularly)", "body": "This is perfect, thanks for the help.\n\nThe read-in time for one of these files alone (of 30+) on this machine\nimproves from about 2:30 to 0:10 when using this method.\n\n--\n\njared tobin, student research assistant\ndept. of fisheries and oceans\ntobinjr@dfo-mpo.gc.ca\n\n-----Original Message-----\nFrom: Gabor Grothendieck [mailto:ggrothendieck@gmail.com] \nSent: Thursday, May 31, 2007 10:46 AM\nTo: Tobin, Jared\nCc: r-help@stat.math.ethz.ch\nSubject: Re: [R] Partially reading a file (particularly)\n\nTry this:\n\ncon <- pipe(\"findstr /b 5 myfile.dat\")\nopen(con, \"r\")\nDF <- read.fwf(con, widths = c(1, 1, 2)) # replace with right args\nclose(con)\n\nOn 5/31/07, Tobin, Jared  wrote:\n> The responses are much appreciated, thanks.\n>\n> findstr works and saves a lot of time.  I didn't however have much \n> success with that exact code persay; I get an error message that I \n> don't understand, as follows:\n>\n> > c1 <- read.fwf(pipe(\"findstr /b 5 my.file\"), ...)\n> Error in readLines(con, n, ok, warn, encoding) :\n>        'con' is not a connection\n> Error in close(file) : no applicable method for \"close\"\n>\n> I did however have success with pipe using readLines, albeit in a very\n\n> clumsy fashion:\n>\n> > c1 <- readLines(pipe(\"findstr /b 5 my.file\")) write(c1, \n> > file=\"temp.dat\")\n> > t1 <- read.fwf(\"temp.dat\", ...)\n>\n> Do you receive the same error message as above when using pipe with \n> read.fwf?\n>\n> --\n>\n> jared tobin, student research assistant dept. of fisheries and oceans \n> tobinjr@dfo-mpo.gc.ca\n>\n> -----Original Message-----\n> From: Gabor Grothendieck [mailto:ggrothendieck@gmail.com]\n> Sent: Tuesday, May 29, 2007 10:51 PM\n> To: Charles C. Berry\n> Cc: Tobin, Jared; r-help@stat.math.ethz.ch\n> Subject: Re: [R] Partially reading a file (particularly)\n>\n> On 5/29/07, Charles C. Berry  wrote:\n>\n> On windows XP we can also use findstr which comes with Windows:\n>\n>         res <- read.fwf( pipe( \"findstr /b 5 my.file\" ) , \n> )\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}