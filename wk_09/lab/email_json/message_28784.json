{"category": "ham", "to_address": "Mihai Bisca <mbisca@gmail.com>", "from_address": "Charilaos Skiadas <skiadas@hanover.edu>", "subject": "Re: [R] how to convert a string vector to a numeric vector", "body": "\nOn May 13, 2007, at 7:48 AM, Mihai Bisca wrote:\n\n> Hello all,\n>\n> I'm new to R and I cannot find a simple answer to a simple question.\n> If I have a character vector like v <- c('1/50,'1/2','1/8'...) how can\n> I convert it to a numeric vector like vn <- c(0.02,0.5,0.125...). I\n> tried as.numeric in various ways and failed miserably. Currently I use\n> a function like: for (e in v) { if (e=='1/50') vn<-c(vn,0.02) ...} but\n> that feels bad because it needs to be (humanly) modified everytime a\n> new fraction appears in v.\n\nThe problem is that as.numeric does not expect to see expressions  \nthat would need evaluation, like 1/50 above, but instead it expects  \nto see numbers.\n\nAssuming the entries have always the form a/b, with a and b numbers,  \nthen you could use this:\n\nvn <- sapply(strsplit(v,\"/\"), function(x) as.numeric(x[1])/as.numeric \n(x[2]))\n\nIf your entries are allowed to be more general expressions, like (1 \n+5)/10 or simply 0.2 or whatnot, you could perhaps use:\n\nsapply(parse(text=v), eval)\n\nBut I prefer to avoid parse+eval whenever possible.\n\n> Thanks in advance,\n>\n> -- \n> Mihai.\n\nHaris Skiadas\nDepartment of Mathematics and Computer Science\nHanover College\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}