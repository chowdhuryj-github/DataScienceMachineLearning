{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22190 - in\n\tbranches/SAMBA_4_0/source/torture/rpc: .", "body": "Author: metze\nDate: 2007-04-12 11:02:26 +0000 (Thu, 12 Apr 2007)\nNew Revision: 22190\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22190\n\nLog:\nfix compiler warnings and remove unused talloc_reference()\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/torture/rpc/samsync.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/torture/rpc/samsync.c\n===================================================================\n--- branches/SAMBA_4_0/source/torture/rpc/samsync.c\t2007-04-12 10:48:30 UTC (rev 22189)\n+++ branches/SAMBA_4_0/source/torture/rpc/samsync.c\t2007-04-12 11:02:26 UTC (rev 22190)\n@@ -112,7 +112,7 @@\n struct samsync_state {\n /* we remember the sequence numbers so we can easily do a DatabaseDelta */\n \tuint64_t seq_num[3];\n-\tchar *domain_name[2];\n+\tconst char *domain_name[2];\n \tstruct samsync_secret *secrets;\n \tstruct samsync_trusted_domain *trusted_domains;\n \tstruct creds_CredentialState *creds;\n@@ -130,14 +130,14 @@\n struct samsync_secret {\n \tstruct samsync_secret *prev, *next;\n \tDATA_BLOB secret;\n-\tchar *name;\n+\tconst char *name;\n \tNTTIME mtime;\n };\n \n struct samsync_trusted_domain {\n \tstruct samsync_trusted_domain *prev, *next;\n         struct dom_sid *sid;\n-\tchar *name;\n+\tconst char *name;\n };\n \n static struct policy_handle *samsync_open_domain(TALLOC_CTX *mem_ctx, \n@@ -324,7 +324,6 @@\n \t}\n \tif (samsync_state->domain_handle[database_id]) {\n \t\tsamsync_state->sid[database_id] = talloc_reference(samsync_state, dom_sid);\n-\t\ttalloc_reference(dom_sid, dom_sid->sub_auths);\n \t}\n \n \tprintf(\"\\tsequence_nums[%d/%s]=%llu\\n\",\n\n"}