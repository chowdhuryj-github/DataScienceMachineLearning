{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "Michael Adam <ma@sernet.de>", "subject": "Rev 5358: fix segfault due to missing \"static\" - thanks Volker! in\n\thttp://samba.sernet.de/ma/bzr/SAMBA_3_0-registry.bzr/", "body": "At http://samba.sernet.de/ma/bzr/SAMBA_3_0-registry.bzr/\n\n------------------------------------------------------------\nrevno: 5358\nrevision-id: ma@sernet.de-20070415213118-ba8597bfcc4540b8\nparent: ma@sernet.de-20070415212850-d065eec3f15fccc9\ncommitter: Michael Adam \nbranch nick: SAMBA_3_0-registry.bzr\ntimestamp: Sun 2007-04-15 23:31:18 +0200\nmessage:\n  fix segfault due to missing \"static\" - thanks Volker!\nmodified:\n  source/lib/util_reg.c          util_reg.c-20060711181331-c2d45d0e1f4a8648\n=== modified file 'source/lib/util_reg.c'\n--- a/source/lib/util_reg.c\t2007-04-15 21:28:50 +0000\n+++ b/source/lib/util_reg.c\t2007-04-15 21:31:18 +0000\n@@ -2,6 +2,7 @@\n  * Unix SMB/CIFS implementation.\n  * Registry helper routines\n  * Copyright (C) Volker Lendecke 2006\n+ * Copyright (C) Michael Adam 2007\n  * \n  * This program is free software; you can redistribute it and/or modify it\n  * under the terms of the GNU General Public License as published by the Free\n@@ -261,7 +262,7 @@\n {\n \tBOOL ret = False;\n \tint saved_errno = 0;\n-\tREGISTRY_HOOK smbconf_reg_hook = {KEY_SMBCONF, &smbconf_reg_ops};\n+\tstatic REGISTRY_HOOK smbconf_reg_hook = {KEY_SMBCONF, &smbconf_reg_ops};\n \n \tDEBUG(10, (\"registry_init_regdb called\\n\"));\n \n\n"}