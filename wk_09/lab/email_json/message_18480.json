{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 207: merge from ronnie in http://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 207\nrevision-id: tridge@samba.org-20070428075445-nba7iio36km3x2yt\nparent: tridge@samba.org-20070427152410-zzgcxffd1y2fsyz9\nparent: sahlberg@ronnie-20070427154831-370d9fe887be370f\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Sat 2007-04-28 09:54:45 +0200\nmessage:\n  merge from ronnie\nmodified:\n  common/ctdb.c                  ctdb.c-20061127094323-t50f58d65iaao5of-2\n  common/ctdb_call.c             ctdb_call.c-20061128065342-to93h6eejj5kon81-1\n  common/ctdb_client.c           ctdb_client.c-20070411010216-3kd8v37k61steeya-1\n  common/ctdb_control.c          ctdb_control.c-20070426122724-j6gkpiofhbwdin63-1\n  common/ctdb_daemon.c           ctdb_daemon.c-20070409200331-3el1kqgdb9m4ib0g-1\n  common/ctdb_message.c          ctdb_message.c-20070208224107-9dnio7x7z33prrmt-1\n  direct/ctdbd_test.c            ctdbd_test.c-20070411085057-17kgjzfktsh28g99-1\n  include/ctdb_private.h         ctdb_private.h-20061117234101-o3qt14umlg9en8z0-13\n    ------------------------------------------------------------\n    revno: 197.1.10\n    merged: sahlberg@ronnie-20070427154831-370d9fe887be370f\n    parent: sahlberg@ronnie-20070427151940-bf392f968a1a572f\n    committer: Ronnie Sahlberg \n    branch nick: ctdb\n    timestamp: Sat 2007-04-28 01:48:31 +1000\n    message:\n      ctdb will now verify that the generation id for all CTDB_REQ_CALLs that \n      it receives from remote nodes with its own generation number.\n      \n      if the generation id do not match the daemon will just discard the \n      packet completely.\n      this will require that clients such as samba3 will have to be aware that \n      calls it sends to remote nodes may get lost and will have to resend the \n      requests after a timeout.\n      \n      during cluster recovery/reconfiguration the generation nnumbers will be \n      changing and this can be used to prevent nodes that are still in the \n      \"old\" instance from talking to nodes that belong to the new generation \n      instance\n    ------------------------------------------------------------\n    revno: 197.1.9\n    merged: sahlberg@ronnie-20070427151940-bf392f968a1a572f\n    parent: sahlberg@ronnie-20070427150626-dee305fbe07277d7\n    committer: Ronnie Sahlberg \n    branch nick: ctdb\n    timestamp: Sat 2007-04-28 01:19:40 +1000\n    message:\n      clients should not fill in \"generation\" nor be aware of what generation \n      the cluster is currently in.\n      \n      remove all instances where the clients try to fill in the generation \n      field of the header\n    ------------------------------------------------------------\n    revno: 197.1.8\n    merged: sahlberg@ronnie-20070427150626-dee305fbe07277d7\n    parent: sahlberg@ronnie-20070427143145-4cb964ca7a326893\n    committer: Ronnie Sahlberg \n    branch nick: ctdb\n    timestamp: Sat 2007-04-28 01:06:26 +1000\n    message:\n      add a generation field to the pdu header.\n      this will allow a node to verify that a received pdu is sent from a node \n      in the same generation instance of a cluster.\n\nDiff too large for email (214, the limit is 200).\n\n"}