{"category": "ham", "to_address": "psomogyi@gamax.hu", "from_address": "tridge@samba.org", "subject": "Re: ctdb debug vasprintf memory overwrite in ib", "body": "Peter,\n\n > (gdb) break ibwrapper.c:559\n > Breakpoint 1 at 0x805697b: file ib/ibwrapper.c, line 559.\n > (gdb) run -i 1 -d 10.0.0.2:8001 -t 0 -n 1000\n > Starting program: /root/psomogyi/ctdb/bin/ibwrapper_test -i 1 -d \n > 10.0.0.2:8001 -t 0 -n 1000\n > [Thread debugging using libthread_db enabled]\n > [New Thread -1209997120 (LWP 9731)]\n > [Switching to Thread -1209997120 (LWP 9731)]\n\nwhy is this program linked to a threads library?\n\n > More precisely, after the call vasprintf gets the memory overwritten (shows me \n > gdb by stepping).\n\nI doubt it is the fault of vasprintf(). Can you try running with\nvalgrind and see what it finds?\n\nCheers, Tridge\n\n"}