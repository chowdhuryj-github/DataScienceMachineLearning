{"category": "ham", "to_address": "\"Andrej Kastrin\" <andrej.kastrin@siol.net>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: DBI, postgresql and large table", "body": "On 6/27/07, Andrej Kastrin  wrote:\n> Dear all,\n>\n> I need to process postgresql table with DBI module. The script below\n> works well for small tables, but when I want to process larger tables\n> (100000 rows) out-of-memory occurs.\n>\n> Any suggestion? Thanks in advance,\n> Andrej\n>\n> use strict;\n> use warnings;\n> use DBI;\n>\n> my $dbh = DBI->connect(\"DBI:Pg:dbname=medline;host=localhost\",\n> \"postgres\", \"secret\", {'RaiseError' => 1});\n> my $sth = $dbh->prepare(\"SELECT text_a, text_b FROM tmp_table\");\n> $sth->execute();\n>\n> while (my $ref = $sth->fetchrow_hashref()) {\n>     my $field_a = $ref->{'text_a'};\n>     my $field_b = $ref->{'text_b'};\n>     print \"$field_a \\t $field_b\\n\";\n> }\n\n* When does it fail and what is the exact error message?\n* Have you tried to execute this command in an SQL editor (psql if I\nremember correctly)?\n* How much memory do you have on that box?\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}