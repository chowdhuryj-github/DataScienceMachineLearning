{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Eric Blanc <eric.blanc@kcl.ac.uk>", "subject": "[R] Assignment from list", "body": "I have a list of groups of xy positions I want to set to 0 in an  \narray full of 1s. When the assignments are done directly from the  \nlist, they are incorrect, while if I use a temporary array derived  \nfrom the list the assignments are correct. The following example will  \nhopefully make my problem clearer.\n\nThe matrices z and zz are initialised with 1. The z and zz values at  \ncoordinates in list x are then set to 0 using two different methods.  \nAlthough either method should lead to the same results, z and zz are  \ndifferent. z is incorrect, because some values in its first row have  \nbeen incorrectly set to 0.\n\nx  <- list( matrix( c( 9, 9, 74, 75 ), nrow=2 ),\n             matrix( c( 11, 11, 34, 35 ), nrow=2 ),\n             matrix( c( 14, 15, 58, 58 ), nrow=2 ),\n             c( 16, 142 ),\n             matrix( c( 19, 19, 94, 95 ), nrow=2 ),\n             matrix( c( 19, 20, 127, 127 ), nrow=2 ),\n             matrix( c( 22, 22, 112, 113 ), nrow=2 ),\n             c( 23, 13 ),\n             matrix( c( 26, 27, 81, 81 ), nrow=2 ),\n             matrix( c( 31, 32, 153, 153 ), nrow=2 ) )\nxx <- do.call( \"rbind\", x )\n\nz <- matrix( 1, ncol=249, nrow=240 )\nzz <- matrix( 1, ncol=249, nrow=240 )\n\nfor( k in x ) z[k] <- 0\nzz[xx] <- 0\n\nsum( z != zz )\nc( sum( z[,1] != 1 ), sum( zz[,1] != 1 ) )\n\nSomewhere, I must be doing something wrong, or assuming something  \nincorrect. I would be very grateful if anybody could point me in the  \nright direction.\n\nplatform       i386-apple-darwin8.8.1\narch           i386\nos             darwin8.8.1\nsystem         i386, darwin8.8.1\nstatus\nmajor          2\nminor          4.1\nyear           2006\nmonth          12\nday            18\nsvn rev        40228\nlanguage       R\nversion.string R version 2.4.1 (2006-12-18)\n\n(same results with platform i386-pc-mingw32, R version 2.4.1 and  \nplatform x86_64-unknown-linux-gnu, R version 2.3.1)\n\n--\nDr Eric Blanc\nLecturer in Bioinformatics\nMRC Centre for Developmental Neurobiology\nKing's College London\nNew Hunt's House Room 4.10B\nGuy's Hospital Campus\nLondon SE1 1UL\n\nE-mail: eric.blanc@kcl.ac.uk\nTel: +44 (0)20 7848 6532\nFax: +44 (0)20 7848 6550\n\n\n\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}