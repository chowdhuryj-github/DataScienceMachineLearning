{"category": "ham", "to_address": "Benjamin Saller <bcsaller@objectrealms.net>", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "[sugar] [PATCH] olpc.datastore.dbus_helpers: Stop using internal\n\tinterfaces in dbus-python.", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\n_dbus_bindings is a private implementation detail with no API guarantees;\nit may change incompatibly (or cease to exist) at any time. If you need the\nlow-level, message-based API, use dbus.lowlevel instead.\n\nPatch also available in http://projects.collabora.co.uk/~smcv/git/datastore.git\n- ---\n src/olpc/datastore/dbus_helpers.py |    4 ++--\n 1 files changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/src/olpc/datastore/dbus_helpers.py b/src/olpc/datastore/dbus_helpers.py\nindex 5b712fd..b706741 100644\n- --- a/src/olpc/datastore/dbus_helpers.py\n+++ b/src/olpc/datastore/dbus_helpers.py\n@@ -1,6 +1,6 @@\n import olpc.datastore.utils\n import dbus\n- -import _dbus_bindings\n+from dbus.lowlevel import SignalMessage\n \n \n # A dbus signal emitter factory\n@@ -13,7 +13,7 @@ class emitter(object):\n     \"\"\"\n     def __init__(self, bus, obj_path, dbus_interface):\n         self._connection = bus.get_connection()\n- -        self.message = olpc.datastore.utils.partial(_dbus_bindings.SignalMessage, obj_path,\n+        self.message = olpc.datastore.utils.partial(SignalMessage, obj_path,\n                                                     dbus_interface)\n \n     def __call__(self, name, *args, **kwargs):\n- -- \n1.5.2-rc3.GIT\n\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGUsVpWSc8zVUw7HYRAvgoAKCbsY0rQGNcbt4nugs3JWKHTY4m1gCffLzk\nwIVj4YQBnkSBP3JNgGKuKp0=\n=tZFa\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}