{"category": "ham", "to_address": "derrell@samba.org", "from_address": "Henrik Zagerholm <henke@mac.se>", "subject": "Re: libsmbclient -> smbc_setxattr corrupts context.", "body": "\n7 maj 2007 kl. 21:40 skrev derrell@samba.org:\n\n> Henrik Zagerholm  writes:\n>\n>> Hello list,\n>>\n>> I just found what I believe is a bug in smc_setxattr but wanted  \n>> to  air it\n>> hear before submitting to bugzilla.\n>>\n>> I've notices that every-time I use smbc_setxattr my context gets   \n>> messed up\n>> and I must initialize a new one before I call the function  again.\n>>\n>> My pseudo code is as follow.\n>>\n>> SMB::init_context();\n>> smbc_setxattr(\"smb://SERVER/SHARE/file1\",ACL, ACL.size, 0) ->  \n>> SUCCESS!\n>>\n>> smbc_setxattr(\"smb://SERVER/SHARE/file2\",ACL, ACL.size, 0) -> FAILS!\n>>\n>>\n>> SMB::init_context();\n>> smbc_setxattr(\"smb://SERVER/SHARE/file1\",ACL, ACL.size, 0) ->  \n>> SUCCESS!\n>>\n>> SMB::init_context();\n>> smbc_setxattr(\"smb://SERVER/SHARE/file2\",ACL, ACL.size, 0) ->  \n>> SUCCESS!\n>\n> Hi Henrik,\n>\n> Please post a bugzilla report on this and I'll look into it.  If  \n> can attach a\n> small C program (maybe based on examples/libsmbclient/testacl.c) that\n> demonstrates the problem, I'd appreciate it.\n>\n\nHere ya go!\nhttps://bugzilla.samba.org/show_bug.cgi?id=4599\nCheers, henrik\n\n> Thanks,\n>\n> Derrell\n\n"}