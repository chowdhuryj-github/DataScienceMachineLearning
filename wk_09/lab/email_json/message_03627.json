{"category": "ham", "to_address": "\"Yuchen Luo\" <realityrandom@gmail.com>, r-help@stat.math.ethz.ch", "from_address": "\"Greg Snow\" <Greg.Snow@intermountainmail.org>", "subject": "Re: [R] How to manipulate the pointer of a file?", "body": "?seek\n\n-- \nGregory (Greg) L. Snow Ph.D.\nStatistical Data Center\nIntermountain Healthcare\ngreg.snow@intermountainmail.org\n(801) 408-8111\n \n \n\n> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch \n> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Yuchen Luo\n> Sent: Thursday, April 12, 2007 9:33 AM\n> To: r-help@stat.math.ethz.ch\n> Subject: [R] How to manipulate the pointer of a file?\n> \n> Dear friends.\n> \n> With file( ) to obtain a pointer of a file,  every time we \n> use scan ( ) to read one row of it, the pointer will point to \n> the next row of the file. In the following example, d1 and d2 \n> are obtained the same way but they correspond to different \n> rows of the same file because the pointer of the file moves \n> down a row when a row of the file is read.\n> \n>  The following is an example:\n> \n>  a1 <- list(name=\"Fred\", wife=\"Mary\", no.children=3)\n> \n> a2 <- list(name=\"Tom\", wife=\"Joy\", no.children=9)\n> \n> a3 <- list(name=\"Paul\", wife=\"Alic\", no.children=5)\n> \n> \n> write.table(a1, file = \"tt.csv\", \n> sep=',',row.names=FALSE,col.name=TRUE)\n> \n> write.table(a2, file=\"tt.csv\", sep=',', append=TRUE, row.names=FALSE,\n> col.names=FALSE)\n> \n> write.table(a3, file=\"tt.csv\", sep=',', append=TRUE, row.names=FALSE,\n> col.names=FALSE)\n> \n> \n> fp=file(\"tt.csv\",\"r\")\n> \n>  c=scan(file=fp, sep=',', what=list(c1=\"\", c2=\"\", c3=\"\"), flush=TRUE,\n> nlines=1)\n> \n>  d1=scan(file=fp, sep=',', what=list(name=\"\", wife=\"\", \n> no.kids=0), flush=TRUE, nlines=1)\n> \n> d1\n> \n> \n> R output:\n> \n> -----------------------\n> \n> $name\n> \n> [1] \"Fred\"\n> \n> \n> \n> $wife\n> \n> [1] \"Mary\"\n> \n> \n> \n> $no.kids\n> \n> [1] 3\n> \n> -------------------------\n> \n>  d2=scan(file=fp, sep=',', what=list(name=\"\", wife=\"\", \n> no.kids=0), flush=TRUE, nlines=1)\n> d2\n> \n> \n> \n> R Output:\n> \n> ------------\n> \n> $name\n> \n> [1] \"Tom\"\n> \n> \n> \n> $wife\n> \n> [1] \"Joy\"\n> \n> \n> \n> $no.kids\n> \n> [1] 9\n> \n> ----------------------\n> \n> My question is, how to manipulate the pointer of the file \n> further? For example, what if I need the pointer to go back \n> to the previous row?\n> \n> \n> Best Wishes\n> \n> Yuchen Luo\n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}