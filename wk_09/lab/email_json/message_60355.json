{"category": "ham", "to_address": "debian-laptop <debian-laptop@lists.debian.org>", "from_address": "Freddy Freeloader <fredddy@cableone.net>", "subject": "Re: automatic wlan connection at bootprocess on Etch only on second\n try?", "body": "Michael Lansche wrote:\n> Hi Frank,\n>\n> Am Samstag, 30. Juni 2007 01:05 schrieb Frank Feldner:\n>   \n>> Try adding a wpa-driver statement:\n>>\n>> iface eth2 inet dhcp\n>>   wpa-driver your-driver\n>>   wpa-conf /etc/wpa_supplicant/wpa_supplicant.mynet.conf\n>>   auto eth2\n>>\n>> Than debug WPA-SUPPLICANT Client:\n>> \tsudo wpa_supplicant -i eth2 -D your-driver\n>> -c/etc/wpa_supplicant/wpa_supplicant.conf -d\n>>\n>> Try also:\n>> \tsudo dhclient eth2\n>>\n>> Restarting network interface:\n>> \tsudo ifdown eth2\n>> \tsudo ifup eth2\n>>\n>> Post outputs and syslog entries related to the above activities.\n>>     \n>\n> the wext driver is taken by default.\n>\n> Here's the output after manually taking down eth2 (ifdown eth2).\n>\n> Etch-nb:~# ifup --verbose eth2\n> Configuring interface eth2=eth2 (inet)\n> run-parts --verbose /etc/network/if-pre-up.d\n> run-parts: executing /etc/network/if-pre-up.d/wireless-tools\n> run-parts: executing /etc/network/if-pre-up.d/wpasupplicant\n> wpa_supplicant: using default driver type: wpa-driver wext\n> wpa_supplicant: /sbin/wpa_supplicant -B -P /var/run/wpa_supplicant.eth2.pid -i \n> eth2 -D \n> wext -c /etc/wpa_supplicant/wpa_supplicant.mynet.conf -C /var/run/wpa_supplicant\n> Starting /sbin/wpa_supplicant...\n> wpa_supplicant: ctrl_interface socket located at /var/run/wpa_supplicant/eth2\n>\n> dhclient3 -pf /var/run/dhclient.eth2.pid -lf /var/lib/dhcp3/dhclient.eth2.leases \n> eth2\n> Internet Systems Consortium DHCP Client V3.0.4\n> Copyright 2004-2006 Internet Systems Consortium.\n> All rights reserved.\n> For info, please visit http://www.isc.org/sw/dhcp/\n>\n> Listening on LPF/eth2/00:1b:77:38:26:de\n> Sending on   LPF/eth2/00:1b:77:38:26:de\n> Sending on   Socket/fallback\n> DHCPDISCOVER on eth2 to 255.255.255.255 port 67 interval 4\n> DHCPDISCOVER on eth2 to 255.255.255.255 port 67 interval 8\n> DHCPOFFER from 192.168.0.1\n> DHCPREQUEST on eth2 to 255.255.255.255 port 67\n> DHCPACK from 192.168.0.1\n> bound to 192.168.0.3 -- renewal in 121643 seconds.\n> run-parts --verbose /etc/network/if-up.d\n> run-parts: executing /etc/network/if-up.d/avahi-daemon\n> run-parts: executing /etc/network/if-up.d/mountnfs\n> run-parts: executing /etc/network/if-up.d/ntpdate\n> run-parts: executing /etc/network/if-up.d/wpasupplicant\n>\n> My config is working, but only at the second try at the end of the \n> bootprocess.\n>\n> Any further ideas?\n>\n> Thank you.\n>\n> Regards\n> Michael\n>\n>\n>   \nI had a very similar problem to yours, only my wlan connection would \nwork on the first try about 3 out of ten times.  I ended up removing the \n\"allow-hotplug\" statement in /etc/network/interfaces for that ethernet \ndevice and replaced it with \"auto\".  Now mine works on the first try \nbetter than 95% of the time. \n\nIt was something to do with udev but I can't recall the specifics right now.\n\n\n-- \nTo UNSUBSCRIBE, email to debian-laptop-REQUEST@lists.debian.org\nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org\n\n"}