{"category": "ham", "to_address": "perl6-internals@perl.org", "from_address": "Andrew Shitov <andy@shitov.ru>", "subject": "Executing Perl 6 code using PIR backend", "body": "Hi perlers,\n\nmaybe I have missed something but I cannot run pugs with -C option.\n\nInitial goal was to compile Perl 6 programme into bytecode and run it\n(with parrot or even mod_parrot).\n\nFirst step is to convert the simpliest code test.p6 which contains\n\n   say 'Hi!';\n\ninto .pir-file, so I typed\n\n   pugs -CPIR test.p6 > test.pir\n\nand really received test.pir file.\n\nWhat to do next? There are two ways in mind: either use pugs -B or\nparrot.\n\nWhen I call pugs with an option -B\n\n   pugs -BPIR test.pir\n\nan error occured:\n\n***\n    Unexpected \"'\"\n    expecting comment, operator, statement modifier, \";\" or end of input\n    at h.pir line 2, column 6\n\nLooks like -BPIR is totally ignored. The same error you will get if\nsimply run pugs test.pir.\n\nOK, trying to use parrot for executing PIR-code:\n\n   parrot test.pir\n\nPlenty of errors this time:\n\n    error:imcc:syntax error, unexpected DOT\n        in file 'h.pir' line 7\n    error:imcc:syntax error, unexpected DOT\n        in file 'h.pir' line 180\n    error:imcc:syntax error, unexpected DOT\n        in file 'h.pir' line 194\n    . . .\n\nAll these 'unexpected DOT' messages correspond to staments in PIR-source with\n'new' instruction such as\n\n   $P8 = new .PerlArray\n\n\nWould anyone tell me how to deal and live with it? :-)\n\n\nPugs -v is 6.2.13 and parrot -V is 0.4.10 --without-icu on i386-linux.\n   \n\n--\nAndrew Shitov\n______________________________________________________________________\nandy@shitov.ru | http://www.shitov.ru\n\n"}