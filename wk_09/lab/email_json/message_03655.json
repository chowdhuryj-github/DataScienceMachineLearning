{"category": "ham", "to_address": "bugs-bitbucket@netlabs.develooper.com", "from_address": "Steve Peters (via RT) <parrotbug-followup@parrotcode.org>", "subject": "[perl #42475] [PATCH] Change asm() to __asm__() ", "body": "# New Ticket Created by  Steve Peters \n# Please include the string:  [perl #42475]\n# in the subject line of all future correspondence about this issue. \n# \n\n\n-ansi -pedantic choke on the call to asm() in src/ops/core.ops.  This is\nbecause asm() is gcc-builtin.  However, if you use __asm_() instead, everything\nworks just fine.  The following patch gets Parrot to compile just file,\nalthough rather loudly with -ansi -pedantic.\n\nSteve Peters\nsteve@fisharerojo.org\n\n\nIndex: src/ops/core.ops\n===================================================================\n--- src/ops/core.ops    (revision 18166)\n+++ src/ops/core.ops    (working copy)\n@@ -107,7 +107,7 @@\n inline op cpu_ret() {\n #ifdef __GNUC__\n #  ifdef I386\n-    asm(\"ret\");\n+    __asm__(\"ret\");\n #  endif\n #endif\n     goto NEXT();\n\n"}