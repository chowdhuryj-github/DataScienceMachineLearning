{"category": "ham", "to_address": "Christian Bieli <christian.bieli@unibas.ch>", "from_address": "Martin Morgan <mtmorgan@fhcrc.org>", "subject": "Re: [R] extract index during execution of sapply", "body": "Christian,\n\nA favorite of mine is to use lexical scope and a 'factory' model:\n\n> fun_factory <- function() {\n+     i <- 0                  # 'state' variable(s), unique to each fun_factory\n+     function(x) {           # fun_factory return value; used as sapply FUN\n+         i <<- i + 1         # <<- assignment finds i\n+         x^i                 # return value of sapply FUN\n+     }\n+ }\n> \n> sapply(1:10, fun_factory())\n [1]           1           4          27         256        3125       46656\n [7]      823543    16777216   387420489 10000000000\n\n\nChristian Bieli  writes:\n\n> Hi there\n> During execution of sapply I want to extract the number of times the \n> function given to supply has been executed. I came up with:\n>\n> mylist <- list(a=3,b=6,c=9)\n> sapply(mylist,function(x)as.numeric(gsub(\"[^0-9]\",\"\",deparse(substitute(x)))))\n>\n> This works fine, but looks quite ugly. I'm sure that there's a more \n> elegant way to do this.\n>\n> Any suggestion?\n>\n> Christian\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n-- \nMartin Morgan\nBioconductor / Computational Biology\nhttp://bioconductor.org\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}