{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Jonne Zutt <j.zutt@tudelft.nl>", "subject": "Re: [R] Dropdown boxes in tcltk and R", "body": "Hi Jake,\n\nTwo things I noticed:\n- Don't tkdestroy(tt) too soon, you use comboBox later.\n- Don't use fruitChoice in OnOK if you only define it at the\n  very end of your program.\n\nHere's your code with these two modifications.\n\nGreets,\nJonne.\n\nrequire(tcltk)\ntclRequire(\"BWidget\")\ntt <- tktoplevel()\ntkgrid(tklabel(tt,text=\"What's your favorite fruit?\"))\nfruits <- c(\"Apple\",\"Orange\",\"Banana\",\"Pear\")\ncomboBox <- tkwidget(tt,\"ComboBox\",editable=FALSE,values=fruits)\ntkgrid(comboBox)\n\nOnOK <- function()\n{\n    fruitChoice <<-\nfruits[as.numeric(tclvalue(tcl(comboBox,\"getvalue\")))+1]\n    msg <- paste(\"Good choice! \",fruitChoice,\"s are delicious!\",sep=\"\")\n    tkmessageBox(title=\"Fruit Choice\",message=msg)\n    tkdestroy(tt)\n\n}\nOK.but <-tkbutton(tt,text=\"   OK   \",command=OnOK)\ntkgrid(OK.but)\ntkfocus(tt)\n\ntkwait.window(tt)\n\nfruitChoice\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}