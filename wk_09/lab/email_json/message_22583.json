{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Tony Chiang\" <tchiang@fhcrc.org>", "subject": "[R] Issue with the Matrix package", "body": "Hi all,\n\nI am wondering if this is a bug in the Matrix package or if it something\nthat I am just getting wrong...here is an example:\n\n> m = matrix(0,4,4)\n> dimnames(m) = list(letters[1:4], letters[5:8])\n> r = c(\"a\",\"b\",\"a\",\"d\")\n> m[r,2] = 1\n> m\n  e f g h\na 0 1 0 0\nb 0 1 0 0\nc 0 0 0 0\nd 0 1 0 0\n\n> M = Matrix(0,4,4)\n> dimnames(M) = list(letters[1:4], letters[5:8])\n> M[r,2] = 1\n> M\n4 x 4 sparse Matrix of class \"dgCMatrix\"\n\na . 2 . .\nb . 1 . .\nc . . . .\nd . 1 . .\n\n\nThe documentation reads:\n\n\" Most of the time, the function works via a traditional (_full_)\n     'matrix'.  However, 'Matrix(0, nrow,ncol)' directly constructs an\n     \"empty\" sparseMatrix, as does 'Matrix(FALSE, *)'.\"\n\nSo is this when an exception comes, and if so can someone explain to me why\nwe get the 2? It would seem that it should just reassign the 1 to a 1 not\nadd the number of times it is assigning a 1.\n\nCheers,\n--Tony\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}