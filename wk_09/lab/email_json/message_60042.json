{"category": "ham", "to_address": "\"James R. Milks\" <james.milks@wright.edu>", "from_address": "\"jim holtman\" <jholtman@gmail.com>", "subject": "Re: [R] Extracting sums for individual factors in data frames", "body": "Does this do what you want?\n\n> x <- \"Species BA\n+ ACSA    55.7632696\n+ FRAM    122.9933524\n+ ACSA    67.54424205\n+ ACSA    89.22123136\n+ ACSA    82.46680716\n+ ACSA    22.46238747\n+ ACSA    19.94911335\n+ ACSA    20.42035225\n+ ACSA    19.00663555\n+ ACSA    21.67698931\n+ ACSA    57.80530483\n+ ACSA    30.31636911\n+ Dead    43.98229715\n+ Dead    40.21238597\n+ Dead    16.49336143\n+ Dead    40.21238597\n+ Dead    16.49336143\n+ ACSA    78.53981634\n+ VIPR    3.926990817\n+ AEGL    11.78097245\n+ AEGL    0\n+ AEGL    0\n+ ACSA    0\n+ ACSA    0\n+ ACSA    0\n+ VIPR    0\"\n> x <- read.table(textConnection(x), header=TRUE)\n> # compute area for each species\n> y <- tapply(x$BA, x$Species, sum)\n> # get ratio\n> y/sum(x$BA)\n       ACSA        AEGL        Dead        FRAM        VIPR\n0.656210104 0.013678643 0.182746672 0.142805034 0.004559548\n>\n>\n\n\n\nOn 7/1/07, James R. Milks  wrote:\n>\n> I have a data frame with two columns, one of which is a factor\n> (Species) and the other is numeric (BA, which stands for basal\n> area).  Here's a sample:\n>\n>\n> Species BA\n> ACSA    55.7632696\n> FRAM    122.9933524\n> ACSA    67.54424205\n> ACSA    89.22123136\n> ACSA    82.46680716\n> ACSA    22.46238747\n> ACSA    19.94911335\n> ACSA    20.42035225\n> ACSA    19.00663555\n> ACSA    21.67698931\n> ACSA    57.80530483\n> ACSA    30.31636911\n> Dead    43.98229715\n> Dead    40.21238597\n> Dead    16.49336143\n> Dead    40.21238597\n> Dead    16.49336143\n> ACSA    78.53981634\n> VIPR    3.926990817\n> AEGL    11.78097245\n> AEGL    0\n> AEGL    0\n> ACSA    0\n> ACSA    0\n> ACSA    0\n> VIPR    0\n>\n> I would like to calculate relative basal area for each species in\n> this plot.  For that, I need to divide the total basal area per\n> species by the total basal area in the plot.  Getting the total basal\n> area in the plot is easy.  However, I'm mystified on how to get the\n> total basal area per species.  Is there a way to extract and/or sum\n> the total basal area per species?\n>\n> Thank you in advance.\n>\n> Jim Milks\n>\n> Graduate Student\n> Environmental Sciences Ph.D. Program\n> Wright State University\n> 3640 Colonel Glenn Hwy\n> Dayton, OH 45435\n>\n>        [[alternative HTML version deleted]]\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n\n\n-- \nJim Holtman\nCincinnati, OH\n+1 513 646 9390\n\nWhat is the problem you are trying to solve?\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}