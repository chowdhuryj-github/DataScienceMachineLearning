{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Paul Lalli <mritty@gmail.com>", "subject": "Re: read a list of subdirectories", "body": "On Jun 21, 8:15 am, lubapa...@gmail.com (Luba Pardo) wrote:\n\n> I want to parse through some files of a list of directories. Every directory\n> have the same files, which means that I can make a loop and repeat the\n> process for each directory. I managed to write the code to process the files\n> of a single directory but I do not exaclty how to read a list of directories\n> and open one by one. I can only print the directories that are in the\n> parental directory , but I can't make the script to open the directory and\n> read the list of files. I do not what is the function to use to either open\n> everydir or read the 'subdirectories'.\n\nI can't parse this sentence.  If you meant \"I do not know what is the\nfunction\", then you want the File::Find module.  See `perldoc\nFile::Find`.\n\nIf you meant \"I do not want to read the subdirectories\", then use the\nfiletest operators (`perldoc -f -X`) to determine whether each entry\nis a file or a directory, and skip over the directories.\n\n> I hope someone can help\n> The beginning of the script looks like:\n>\n> #! /usr/bin/perl\n> use strict;\n> use warnings;\n>\n>  my $pwd=$ENV{'PWD'};\n>   my @filedir =<*ctt>;\n>   foreach my $filedir (@filedir) {\n>       opendir ($filedir) || die  \"can't \\n\";\n>        my @f = ;\n\nThis does not do what you think it does.  opendir() only opens a\ndirectory for reading via readdir().  It does not change the current\nworking directory of your script.  You have two options:\n1) Change working directory, and then ask the shell for all files in\nthe current working directory\n2) Open a directory, and read the files in that directory.\nYou, however, are opening a directory, and then asking the shell for\nall the files in the current working directory.\n\nChange these two lines to either:\nopendir my $dh, $filedir or die $!\nmy @f = grep /^mlc/, readdir($dh);\nor\nchdir $filedir or die $!\nmy @f = ;\n\n(You were also calling opendir() without a directory handle argument -\nI'm suprised that didn't give you a syntax error).\n\nSee also:\nperldoc -f opendir\nperldoc -f chdir\nperldoc -f readdir\nperldoc -f glob\n\nHope that helps,\nPaul Lalli\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}