{"category": "ham", "to_address": "debian-laptop@lists.debian.org", "from_address": "Michael <codejodler@gmx.ch>", "subject": "Re: Setting hwclock --localtime fails", "body": "\nrdate is updating the time from timeserver, but is more lightweight than \nntpdate. I couldn't discover a debian boot script for rdate, but it's a simple \nissue, so I added this snippet to a customized /etc/rc.local script:\n\nNTPSERVERS=\"80.237.234.16 130.133.1.10\"\necho \"Setting system clock:\"\nfor timeserver in $NTPSERVERS; do\n   if (ping -q -c 1 -i 0.2 -W 1 $timeserver > /dev/null);\n    then found=true; echo \"`/usr/sbin/rdate $timeserver`\"; break\n    else found=false\n   fi\ndone\n$found || echo \"WARNING: No timeserver was reached!\"\n\n\n--micha\n\n\n\nps. you can direct output to a specific log by using function 'log' instead of echo\n\nlog () {\nlogger -t \"xxx_rc.local\" -p $loglevel \"$1\"\n[ \"$2\" = \"exit\" ] && exit 0\n}\n\n\n-- \nTo UNSUBSCRIBE, email to debian-laptop-REQUEST@lists.debian.org\nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org\n\n"}