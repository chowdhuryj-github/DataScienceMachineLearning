{"category": "ham", "to_address": "\"Francisco J. Zagmutt\" <gerifalte28@hotmail.com>", "from_address": "\"Jared O'Connell\" <jared.oconnell@csiro.au>", "subject": "Re: [R] Expand duplicated observations", "body": "Also, to handle NAs and non-integers:\n\n> x = c(1:3,9.4,NA)\n> tmp = round(x)\n> tmp[is.na(tmp)]=1\n> rep(x,tmp)\n [1] 1.0 2.0 2.0 3.0 3.0 3.0 9.4 9.4 9.4 9.4 9.4 9.4 9.4 9.4 9.4  NA\n\n\nOn 6/6/07, Francisco J. Zagmutt  wrote:\n>\n> I think this will do what you want\n>\n> x=c(1,2,3)\n> rep(x,x)\n> [1] 1 2 2 3 3 3\n>\n> Regards\n>\n> Francisco\n>\n> M. P. Papadatos wrote:\n> > Dear all,\n> >\n> > I am trying to  expand duplicated observations. I need to replace each\n> > observation in the dataset with n copies of the observation, where n is\n> > equal to the required expression rounded to the nearest integer. If the\n> > expression is less than 1 or equal to missing, it is interpreted as if\n> > it were 1, and the observation is retained but not duplicated.\n> >\n> > Example\n> >\n> > From\n> > c(1,2,3)\n> >\n> > To\n> > c(1,2,2,3,3,3)\n> >\n> > Thank you in advance.\n> >\n> > Best wishes,\n> > Martin\n> >\n> >\n> > ------------------------------------------------------------------------\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}