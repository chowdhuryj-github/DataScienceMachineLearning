{"category": "ham", "to_address": "\"'Chris Elsaesser'\" <chris.elsaesser@spadac.com>", "from_address": "Bert Gunter <gunter.berton@gene.com>", "subject": "Re: [R] using lm() with variable formula", "body": "... and note that if a matrix of responses is on the left of ~ , separate\nregressions will be simultaneously fit to each of the columns of the matrix.\nNote that this **is** in TFM -- ?lm.\n\n\nBert Gunter\nGenentech Nonclinical Statistics\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch\n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Gabor Grothendieck\nSent: Thursday, May 17, 2007 8:22 AM\nTo: Chris Elsaesser\nCc: r-help@stat.math.ethz.ch\nSubject: Re: [R] using lm() with variable formula\n\nTry this:\n\n\nlm(Sepal.Length ~., iris[1:3])\n\n# or\n\ncn <- c(\"Sepal.Length\", \"Sepal.Width\", \"Petal.Length\")\nlm(Sepal.Length ~., iris[cn])\n\n\n\nOn 5/17/07, Chris Elsaesser  wrote:\n> New to R; please excuse me if this is a dumb question.  I tried to RTFM;\n> didn't help.\n>\n> I want to do a series of regressions over the columns in a data.frame,\n> systematically varying the response variable and the the terms; and not\n> necessarily including all the non-response columns.  In my case, the\n> columns are time series. I don't know if that makes a difference; it\n> does mean I have to call lag() to offset non-response terms. I can not\n> assume a specific number of columns in the data.frame; might be 3, might\n> be 20.\n>\n> My central problem is that the formula given to lm() is different each\n> time.  For example, say a data.frame had columns with the following\n> headings:  height, weight, BP (blood pressure), and Cals (calorie intake\n> per time frame).  In that case, I'd need something like the following:\n>\n>        lm(height ~ weight + BP + Cals)\n>        lm(height ~ weight + BP)\n>        lm(height ~ weight + Cals)\n>        lm(height ~ BP + Cals)\n>        lm(weight ~ height + BP)\n>        lm(weight ~ height + Cals)\n>        etc.\n>\n> In general, I'll have to read the header to get the argument labels.\n>\n> Do I have to write several functions, each taking a different number of\n> arguments?  I'd like to construct a string or list representing the\n> varialbes in the formula and apply lm(), so to say  [I'm mainly a Lisp\n> programmer where that part would be very simple. Anyone have a Lisp API\n> for R? :-}]\n>\n> Thanks,\n> chris\n>\n> Chris Elsaesser, PhD\n> Principal Scientist, Machine Learning\n> SPADAC Inc.\n> 7921 Jones Branch Dr. Suite 600\n> McLean, VA 22102\n>\n> 703.371.7301 (m)\n> 703.637.9421 (o)\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}