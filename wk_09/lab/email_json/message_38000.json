{"category": "ham", "to_address": "Andrew Yee <andrewjyee@gmail.com>", "from_address": "Stephen Tucker <brown_emu@yahoo.com>", "subject": "Re: [R] looking for the na.omit equivalent for a matrix of\n\tcharacters", "body": "You can also use type.convert() if you did want to convert your characters to\nnumbers and \"NA\"'s to NA's so that you can use na.omit().\n\n> x <- matrix(\"0\",5,5)\n> x[1,3] <- x[4,4] <- \"NA\"\n> newx <- apply(x,2,type.convert)\n> newx\n     [,1] [,2] [,3] [,4] [,5]\n[1,]    0    0   NA    0    0\n[2,]    0    0    0    0    0\n[3,]    0    0    0    0    0\n[4,]    0    0    0   NA    0\n[5,]    0    0    0    0    0\n\n--- jim holtman  wrote:\n\n> Since they are characters you can just compare for them.  You did not show\n> what your data looks like, or what you want to do if there are \"NA\".  Do\n> you\n> want the row removed?  You can use 'apply' to test a row for \"NA\":\n> \n>  > x <- matrix(\"0\",5,5)\n> > x[1,3] <- x[4,4] <- \"NA\"\n> > x\n>      [,1] [,2] [,3] [,4] [,5]\n> [1,] \"0\"  \"0\"  \"NA\" \"0\"  \"0\"\n> [2,] \"0\"  \"0\"  \"0\"  \"0\"  \"0\"\n> [3,] \"0\"  \"0\"  \"0\"  \"0\"  \"0\"\n> [4,] \"0\"  \"0\"  \"0\"  \"NA\" \"0\"\n> [5,] \"0\"  \"0\"  \"0\"  \"0\"  \"0\"\n> > apply(x, 1, function(z) any(z == \"NA\"))\n> [1]  TRUE FALSE FALSE  TRUE FALSE\n> > x[!apply(x, 1, function(z) any(z == \"NA\")),]\n>      [,1] [,2] [,3] [,4] [,5]\n> [1,] \"0\"  \"0\"  \"0\"  \"0\"  \"0\"\n> [2,] \"0\"  \"0\"  \"0\"  \"0\"  \"0\"\n> [3,] \"0\"  \"0\"  \"0\"  \"0\"  \"0\"\n> >\n> \n> \n> \n> On 5/28/07, Andrew Yee  wrote:\n> >\n> > I have a matrix of characters (actually numbers that have been read in as\n> > numbers), and I'd like to remove the NA.\n> >\n> > I'm familiar with na.omit, but is there an equivalent of na.omit when the\n> > NA\n> > are the actual characters \"NA\"?\n> >\n> > Thanks,\n> > Andrew\n> >\n> >        [[alternative HTML version deleted]]\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> > http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> >\n> \n> \n> \n> -- \n> Jim Holtman\n> Cincinnati, OH\n> +1 513 646 9390\n> \n> What is the problem you are trying to solve?\n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n\n\n       \n____________________________________________________________________________________Sick sense of humor? Visit Yahoo! TV's \nComedy with an Edge to see what's on, when.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}