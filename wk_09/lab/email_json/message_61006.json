{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Lin Pan <linpan1975@yahoo.com>", "subject": "[R] how to use mle with a defined function", "body": "\nHi all,\n\nI am trying to use mle() to find a self-defined function. Here is my\nfunction:\n\ntest <- function(a=0.1, b=0.1, c=0.001, e=0.2){\n\n# omega is the known covariance matrix, Y is the response vector, X is the\nexplanatory matrix\n\nodet = unlist(determinant(omega))[1]\n \n# do cholesky decomposition\n\nC = chol(omega)\n\n# transform data\n\nU = t(C)%*%Y\nWW=t(C)%*%X\n\nbeta = lm(U~W)$coef\n\nZ=Y-X%*%beta\nV=solve(t(C), Z)\n\n0.5*odet + 0.5*(t(V)%*%V)\n\n}\n\nand I am trying to call mle() to calculate the maximum likelihood estimates\nfor function (0.5*odet+0.5*(t(V)%*%V)) by\n\nresult = mle(test, method=\"Nelder-Mead\")\n\nBut I get the following error message:\n\nError in optim(start, f, method = method, hessian = TRUE, ...) : \n        (list) object cannot be coerced to 'double'\n\nI am pretty sure that the matrices, parameters etc are numerical before\nimporting to the function. But why I still get such error message? Could\nanybody give some help on this? thanks a lot.\n\n\nLin\n-- \nView this message in context: http://www.nabble.com/how-to-use-mle-with-a-defined-function-tf4015002.html#a11402268\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}