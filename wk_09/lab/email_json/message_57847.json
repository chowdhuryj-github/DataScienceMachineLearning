{"category": "ham", "to_address": "\"Jim Price\" <price_ja@hotmail.com>", "from_address": "\"Deepayan Sarkar\" <deepayan.sarkar@gmail.com>", "subject": "Re: [R] Changing graphics height when using grid and lattice", "body": "On 6/28/07, Jim Price  wrote:\n>\n> Hi,\n>\n> I have recently been playing with the grid package in an attempt to create\n> some pages containing multiple lattice plots on the same page. However, when\n> I specify a grid layout with different widths, such as:\n>\n> pushViewport(viewport(layout = grid.layout(1, 2, unit(c(2, 1), \"null\"))))\n>\n> the individual graphs do not end up as the same height - which is a feature\n> I would prefer to have.\n\nThe default \"padding\" between components of a graph is defined as a\nproportion of the plot area. In particular, it's unit(0.01, \"snpc\"),\nwhich makes it the same on both axes. The problem is that when you\nhave two grid viewports, unit(0.01, \"snpc\") may give different\nphysical length.\n\nOne option is to set all paddings to 0, which can be done with\n\nmyLatticeSettings <- function()\n    list(layout.heights =\n         list(top.padding = 0,\n              main.key.padding = 0,\n              key.axis.padding = 0,\n              axis.xlab.padding = 0,\n              xlab.key.padding = 0,\n              key.sub.padding = 0,\n              bottom.padding = 0),\n         layout.widths =\n         list(left.padding = 0,\n              key.ylab.padding = 0,\n              ylab.axis.padding = 0,\n              axis.key.padding = 0,\n              right.padding = 0)\n         )\n\ntrellis.par.set(myLatticeSettings())\n\nThis may not be what you want, so another option is to set the\npaddings to something absolute; e.g.\n\n\nmyLatticeOptions <- function()\n    list(layout.heights =\n         list(top.padding = list(x = 1, units = \"mm\", data = NULL),\n              main.key.padding = list(x = 1, units = \"mm\", data = NULL),\n              key.axis.padding = list(x = 1, units = \"mm\", data = NULL),\n              axis.xlab.padding = list(x = 1, units = \"mm\", data = NULL),\n              xlab.key.padding = list(x = 1, units = \"mm\", data = NULL),\n              key.sub.padding = list(x = 1, units = \"mm\", data = NULL),\n              bottom.padding = list(x = 1, units = \"mm\", data = NULL)),\n         layout.widths =\n         list(left.padding = list(x = 1, units = \"mm\", data = NULL),\n              key.ylab.padding = list(x = 1, units = \"mm\", data = NULL),\n              ylab.axis.padding = list(x = 1, units = \"mm\", data = NULL),\n              axis.key.padding = list(x = 1, units = \"mm\", data = NULL),\n              right.padding = list(x = 1, units = \"mm\", data = NULL))\n         )\n\nlattice.options(myLatticeOptions())\n\nI'm not particularly attached to the \"snpc\" solution, so I may change\nthem at some point.\n\n-Deepayan\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}