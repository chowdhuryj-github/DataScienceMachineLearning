{"category": "ham", "to_address": "<wildscop@yahoo.com>, <r-help@stat.math.ethz.ch>", "from_address": "Bert Gunter <gunter.berton@gene.com>", "subject": "Re: [R] exclude the unfit data from the iteration", "body": "?try \nWrap each iteration in a try() call\n\nAlso ?tryCatch if you want to get fancy -- and can understand the rather\narcane docs.\n\nBert Gunter\nGenentech Nonclinical Statistics\n\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch\n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Mohammad Ehsanul\nKarim\nSent: Tuesday, April 24, 2007 3:33 PM\nTo: r-help@stat.math.ethz.ch\nSubject: [R] exclude the unfit data from the iteration\n\nDear List, \n\nTrying to explain my situation as simply as possible\nfor me:\n\nI am running a series of iteration on coxph model on\nsimulated data (newly generated data on each iteration\nto run under coxph; in my example below- sim.fr is the\ngenerated data). However, sometimes i get warning\nmessages like \n\"Ran out of iterations and did not converge\" or \n\"Error in var(x, na.rm = na.rm) : missing observations\nin cov/cor\" \nbecause in some cases one of my covariate (say, var5\nor var6 or both who are binary variables) becomes all\n0's!\n\nHow do I exclude the unfit data (that does not\nfit/converge: that produces warning messages) that may\nbe generated in any iteration, and still continue by\nreplacing it by the next iteration data (untill it\ngenerates acceptable data that does not give any\ntrouble like not converging)? Is there any provision\nin R?\n\n\"sim.result\" <- function(...){\n...\nfit.gm.em <- coxph(Surv(times,censored) ~\nvar1+var2+var3+var4+var5+var6 +\nfrailty(id,dist='gamma', method='em'), data= sim.fr)\n...\n}\n\nI know\noptions(warn=-1)\ncan hide warning messages, but I need not hide the\nproblem, all i need to do is to tell the program to\ncontinue untill fixed number of times (say, 100) it\niterates with good data.\n\n\nThank you for your time.\n\nMohammad Ehsanul Karim (R - 2.3.1 on windows)\nInstitute of Statistical Research and Training\nUniversity of Dhaka\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}