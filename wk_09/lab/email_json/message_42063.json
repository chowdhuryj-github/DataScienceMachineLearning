{"category": "ham", "to_address": "\"hadley wickham\" <h.wickham@gmail.com>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] Bug in seq.date?", "body": "Note that chron does give the last day of the month:\n\n> library(chron)\n> seq(chron(\"1/31/2000\"), chron(\"1/31/2001\"), \"month\")\n [1] 01/31/00 02/29/00 03/31/00 04/30/00 05/31/00 06/30/00 07/31/00 08/31/00\n [9] 09/30/00 10/31/00 11/30/00 12/31/00 01/31/01\n\nThe zoo package has a \"yearmon\" class whose as.Date.yearmon can\nconvert a \"Date\" to the end of the month:\nlibrary(zoo)\n> library(zoo)\n> as.Date(as.yearmon(seq(as.Date(\"2000-1-31\"), as.Date(\"2001-1-31\"), \"month\")), 1)\n [1] \"2000-01-31\" \"2000-02-29\" \"2000-03-31\" \"2000-04-30\" \"2000-05-31\"\n [6] \"2000-06-30\" \"2000-07-31\" \"2000-08-31\" \"2000-09-30\" \"2000-10-31\"\n[11] \"2000-11-30\" \"2000-12-31\" \"2001-01-31\"\n\nAnd we do it ourself like this:\n\n> as.Date(format(seq(as.Date(\"2000-1-1\"), as.Date(\"2001-1-1\"), \"month\") + 32, \"%Y-%m-01\"))-1\n [1] \"2000-01-31\" \"2000-02-29\" \"2000-03-31\" \"2000-04-30\" \"2000-05-31\"\n [6] \"2000-06-30\" \"2000-07-31\" \"2000-08-31\" \"2000-09-30\" \"2000-10-31\"\n[11] \"2000-11-30\" \"2000-12-31\" \"2001-01-31\"\n\n\n\n\nOn 6/4/07, hadley wickham  wrote:\n> > seq(as.Date(\"2000-1-1\"), as.Date(\"2001-1-1\"), \"months\")\n>  [1] \"2000-01-01\" \"2000-02-01\" \"2000-03-01\" \"2000-04-01\" \"2000-05-01\"\n>  [6] \"2000-06-01\" \"2000-07-01\" \"2000-08-01\" \"2000-09-01\" \"2000-10-01\"\n> [11] \"2000-11-01\" \"2000-12-01\" \"2001-01-01\"\n>\n>\n> > seq(as.Date(\"2000-1-31\"), as.Date(\"2001-1-31\"), \"months\")\n>  [1] \"2000-01-31\" \"2000-03-02\" \"2000-03-31\" \"2000-05-01\" \"2000-05-31\"\n>  [6] \"2000-07-01\" \"2000-07-31\" \"2000-08-31\" \"2000-10-01\" \"2000-10-31\"\n> [11] \"2000-12-01\" \"2000-12-31\" \"2001-01-31\"\n>\n> Is this a bug?\n>\n> Hadley\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}