{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "gd@samba.org", "subject": "svn commit: samba r23629 - in branches/SAMBA_4_0/source/librpc/idl:\n\t.", "body": "Author: gd\nDate: 2007-06-27 12:30:21 +0000 (Wed, 27 Jun 2007)\nNew Revision: 23629\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23629\n\nLog:\nDocument lsa lookupname lookuplevels Volker discovered a while ago.\n\nGuenther\n\nModified:\n   branches/SAMBA_4_0/source/librpc/idl/lsa.idl\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/librpc/idl/lsa.idl\n===================================================================\n--- branches/SAMBA_4_0/source/librpc/idl/lsa.idl\t2007-06-27 12:27:00 UTC (rev 23628)\n+++ branches/SAMBA_4_0/source/librpc/idl/lsa.idl\t2007-06-27 12:30:21 UTC (rev 23629)\n@@ -339,13 +339,30 @@\n \t\tuint32 max_size;\n \t} lsa_RefDomainList;\n \n+\t/* Level 1: Ask everywhere\n+\t * Level 2: Ask domain and trusted domains, no builtin and wkn\n+\t * Level 3: Only ask domain\n+\t * Level 4: W2k3ad: Only ask AD trusts\n+\t * Level 5: Don't lookup anything\n+\t * Level 6: Like 4\n+\t */\n+\n+\ttypedef enum {\n+\t\tLSA_LOOKUP_NAMES_ALL = 1,\n+\t\tLSA_LOOKUP_NAMES_DOMAINS_ONLY = 2,\n+\t\tLSA_LOOKUP_NAMES_PRIMARY_DOMAIN_ONLY = 3,\n+\t\tLSA_LOOKUP_NAMES_UPLEVEL_TRUSTS_ONLY = 4,\n+\t\tLSA_LOOKUP_NAMES_NONE = 5,\n+\t\tLSA_LOOKUP_NAMES_UPLEVEL_TRUSTS_ONLY2 = 6\n+\t} lsa_LookupNamesLevel;\n+\n \t[public] NTSTATUS lsa_LookupNames (\n \t\t[in]         policy_handle *handle,\n \t\t[in,range(0,1000)] uint32 num_names,\n \t\t[in,size_is(num_names)]  lsa_String names[],\n \t\t[out,unique] lsa_RefDomainList *domains,\n \t\t[in,out]     lsa_TransSidArray *sids,\n-\t\t[in]         uint16 level,\n+\t\t[in]         lsa_LookupNamesLevel level,\n \t\t[in,out]     uint32 *count\n \t\t);\n \n@@ -856,7 +873,7 @@\n \t\t[in,size_is(num_names)]  lsa_String names[],\n \t\t[out,unique]        lsa_RefDomainList *domains,\n \t\t[in,out] lsa_TransSidArray2 *sids,\n-\t\t[in]         uint16 level,\n+\t\t[in]         lsa_LookupNamesLevel level,\n \t\t[in,out] uint32 *count,\n \t\t[in]         uint32 unknown1,\n \t\t[in]         uint32 unknown2\n@@ -909,7 +926,7 @@\n \t\t[in,size_is(num_names)]  lsa_String names[],\n \t\t[out,unique]        lsa_RefDomainList *domains,\n \t\t[in,out] lsa_TransSidArray3 *sids,\n-\t\t[in]         uint16 level,\n+\t\t[in]         lsa_LookupNamesLevel level,\n \t\t[in,out] uint32 *count,\n \t\t[in]         uint32 unknown1,\n \t\t[in]         uint32 unknown2\n@@ -997,7 +1014,7 @@\n \t\t[in,size_is(num_names)]  lsa_String names[],\n \t\t[out,unique]        lsa_RefDomainList *domains,\n \t\t[in,out] lsa_TransSidArray3 *sids,\n-\t\t[in]         uint16 level,\n+\t\t[in]         lsa_LookupNamesLevel level,\n \t\t[in,out] uint32 *count,\n \t\t[in]         uint32 unknown1,\n \t\t[in]         uint32 unknown2\n\n"}