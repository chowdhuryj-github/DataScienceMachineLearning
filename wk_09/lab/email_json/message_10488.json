{"category": "ham", "to_address": "myl@cis.upenn.edu", "from_address": "\"Henrik Bengtsson\" <hb@stat.berkeley.edu>", "subject": "Re: [R] R in cron job: X problems", "body": "Try using png2() in R.utils, which immitates png() but uses bitmap()\nand ghostscript to create the PNG file.  You need to set 'R_GSCMD' to\ntell R where ghostscript is located - you can use\nSystem$findGhostscript() at startup to let R try to locate ghostscript\nfor you.\n\n/H\n\nOn 4/19/07, Mark Liberman  wrote:\n> I'd like to use an R CMD BATCH script as part of a chron job that is set\n> up to run every hour.\n>\n> The trouble is that the script creates a graphical output in a file via\n> png(), and apparently this in turn works through X.\n>\n> When cron invokes the job, no X server is available -- I suppose that\n> the DISPLAY variable is not set -- and so R exits with an error message\n> in the output file. (If I run the same script in an environment where an\n> X server is properly available, it works as I want it to.)\n>\n> I tried setting DISPLAY to thecomputername:0.0 (where \"thecomputername\"\n> is the X.Y.Z form of the computer's name as names it for ssh etc.), but\n> that didn't work.\n>\n> Any advice about how to persuade the graphics subsystem to bypass X, or\n> how to set DISPLAY in a safe way to run in a cron job?\n>\n> This is a linux system (a recent RedHat server system) with R 2.2.1.\n>\n>     Thanks,\n>\n>     Mark Liberman\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}