{"category": "ham", "to_address": "Beate Kowalczyk <beate.kowalczyk@googlemail.com>", "from_address": "Petr Klasterecky <klaster@karlin.mff.cuni.cz>", "subject": "Re: [R] Filled step-function?", "body": "Hi,\n\nplease reply to the entire list (as a carbon copy) - I do not always \nread this list properly or may not know the solution.\n\nI do not know your data, but there does not seem to be much more work. \nThis works well for me with your pH and Tiefe variables:\n\nplot(pH,Tiefe,type=\"s\",main=\"Tiefenfunktion pH\",ylim=c(120,0),xlim=c(0,23))\nfor (i in (1:(length(pH)-2))){\npolygon(x=c(pH[i], pH[i+1], pH[i+1], pH[i]), y=c(Tiefe[i], Tiefe[i], \nmax(Tiefe), max(Tiefe)), col=i)\n}\n\nor\n\nplot(pH,Tiefe,type=\"s\",main=\"Tiefenfunktion pH\",ylim=c(120,0),xlim=c(0,23))\nfor (i in (1:(length(pH)-2))){\npolygon(x=c(pH[i], pH[i+1], pH[i+1], pH[i]), y=c(Tiefe[i], Tiefe[i], \nTiefe[i+1], Tiefe[i+1]), col=i)\n}\n\nYou just need to arrange your coordinates properly.\nIf your variables are not always named pH and Tiefe, just access them \ndirectly from the labdata data.frame: you will have labdata[,1] for \nvariable1 (here pH) and labdata[,2] for variable2 (Tiefe).\n\nhth\nPetr\n\nBeate Kowalczyk napsal(a):\n> Hi Peter,\n> \n> polygon doesn't work very well, because I need a graphical display for \n> the laboratory results of my institute. So I have a lot of data in \n> .csv-format, and I don't really want to define a new polygon for each \n> dataset, because then I have to do a lot of extra-work. I need a \n> solution that works like the following, but with coloring the area under \n> the function (like the image in my first posting):\n> \n> labdata <- read.csv(\"labdata.csv\", header=TRUE)\n> attach(labdata) #for using column-names as variables\n> plot(variable1,variable2,type=\"s\",main=\"Title\",ylim=c(120,0),xlim=c(0,10))\n> \n> For each .csv-dataset I want to use this code with only slight \n> adjustments...\n> \n> Tanks again, Beate\n> \n> Petr Klasterecky schrieb:\n>> Hi,\n>>\n>> I am not sure what exactly you would like to fill up and how, but take \n>> a look at\n>> ?polygon\n>> and the examples given there.\n>>\n>> hth\n>> Petr\n>>\n>>\n>> Beate Kowalczyk napsal(a):\n>>  \n>>> Hello,\n>>>\n>>> I'd like to generate a filled step-function in R as you can see in \n>>> the attachement (image is generated by grapher, but I need a freely \n>>> available alternative). The problem is, that I don't know, how to \n>>> fill it up. My code right now looks like this:\n>>>\n>>> pH <- c(0,6.1,6.1,6.3,6.6,7.3,0)\n>>> Tiefe <- c(0,0,10,40,80,120,10)\n>>> plot(pH,Tiefe,type=\"s\",main=\"Tiefenfunktion \n>>> pH\",ylim=c(120,0),xlim=c(0,23))\n>>>\n>>> Can someone give me an hint how to work on this?\n>>>\n>>> Thanks, Beate\n>>>\n>>>\n>>> ------------------------------------------------------------------------\n>>>\n>>>\n>>> ------------------------------------------------------------------------\n>>>\n>>> ______________________________________________\n>>> R-help@stat.math.ethz.ch mailing list\n>>> https://stat.ethz.ch/mailman/listinfo/r-help\n>>> PLEASE do read the posting guide \n>>> http://www.R-project.org/posting-guide.html\n>>> and provide commented, minimal, self-contained, reproducible code.\n>>>     \n>>\n>>   \n> \n> \n\n-- \nPetr Klasterecky\nDept. of Probability and Statistics\nCharles University in Prague\nCzech Republic\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}