{"category": "ham", "to_address": "\"'Ron E. VanNimwegen'\" <vanron@ksu.edu>, <r-help@stat.math.ethz.ch>,\n   <attenka@utu.fi>", "from_address": "\"Christos Hatzis\" <christos@nuverabio.com>", "subject": "Re: [R] A function for raising a matrix to a power?", "body": "Here is a recursive version of the same function:\n\n\"%^%\" <- function(A, n) if(n == 1) A else A %*% (A %^% (n-1))\n\n> a <- matrix(1:4, 2)\n\n> a %^% 1\n     [,1] [,2]\n[1,]    1    3\n[2,]    2    4\n> a %^% 2\n     [,1] [,2]\n[1,]    7   15\n[2,]   10   22\n> a %^% 3\n     [,1] [,2]\n[1,]   37   81\n[2,]   54  118\n\n\n-Christos\n\n> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch \n> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Ron E. \n> VanNimwegen\n> Sent: Sunday, May 06, 2007 10:48 AM\n> To: r-help@stat.math.ethz.ch; attenka@utu.fi\n> Subject: Re: [R] A function for raising a matrix to a power?\n> \n> >  Hi,\n> >\n> > Is there a function for raising a matrix to a power? For example if \n> > you like to compute A%*%A%*%A, is there an abbreviation \n> similar to A3?\n> >\n> > Atte Tenkanen\n> Hi Atte,\n> \n> I was looking for a similar operator, because R uses scalar products \n> when raising a matrix to a power with \"^\".  There might be something \n> more elegant, but this little loop function will do what you \n> need for a \n> matrix \"mat\" raised to a power \"pow\":\n> \n> mp <- function(mat,pow){\n> ans <- mat\n> for ( i in 1:(pow-1)){\n> ans <- mat%*%ans\n> }\n> return(ans)\n> }\n> \n> Then, for your example:\n> > > A=rbind(c(1,1),c(-1,-2))\n> > > mp(A,3)\n> >      [,1] [,2]\n> > [1,]    1    2\n> > [2,]   -2   -5\n> Cheers,\n> Ron\n> \n> ---\n> Ron E. VanNimwegen\n> Ph.D. Candidate, Division of Biology (EEB)\n> Kansas Cooperative Fish & Wildlife Research Unit\n> 205 Leasure Hall\n> Kansas State University\n> Manhattan, KS 66506-3501\n> vanron@ksu.edu\n> ---\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}