{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 78: merge from ronnie in http://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 78\nrevision-id: tridge@samba.org-20070410030647-42fc31cb19982f18\nparent: tridge@samba.org-20070410030523-6999e1796946bdfe\nparent: ronniesahlberg@gmail.com-20070410023925-skzpy7ls4t4z5lzp\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Tue 2007-04-10 13:06:47 +1000\nmessage:\n  merge from ronnie\nadded:\n  common/ctdb_daemon.c           ctdb_daemon.c-20070409200331-3el1kqgdb9m4ib0g-1\n  common/ctdb_io.c               ctdb_io.c-20070409200335-dzfc7f3rra5rcf60-1\nmodified:\n  Makefile.in                    makefile.in-20061117234101-o3qt14umlg9en8z0-1\n  common/ctdb.c                  ctdb.c-20061127094323-t50f58d65iaao5of-2\n  common/ctdb_call.c             ctdb_call.c-20061128065342-to93h6eejj5kon81-1\n  include/ctdb.h                 ctdb.h-20061117234101-o3qt14umlg9en8z0-11\n  include/ctdb_private.h         ctdb_private.h-20061117234101-o3qt14umlg9en8z0-13\n  tcp/tcp_init.c                 tcp_init.c-20061128004937-x70q1cu5xzg5g2tm-2\n  tests/ctdb_test.c              ctdb_test.c-20061117234101-o3qt14umlg9en8z0-16\n  tests/test.sh                  test.sh-20061128065333-cla80zaxd9eb4o4a-2\n  tests/test1.sh                 test1.sh-20061130223403-jednzcvm60m0j75c-1\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070410023925-skzpy7ls4t4z5lzp\n    parent: ronniesahlberg@gmail.com-20070410022310-vg2sqat3nfcrxvh1\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Tue 2007-04-10 12:39:25 +1000\n    message:\n      move the checking of the CONNECT_WAIT flag into the start method for tcp\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070410022310-vg2sqat3nfcrxvh1\n    parent: ronniesahlberg@gmail.com-20070410021858-cnk4wlf2s612ue5i\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Tue 2007-04-10 12:23:10 +1000\n    message:\n      restore the test script that was updated by mistake in the previous checkin\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070410021858-cnk4wlf2s612ue5i\n    parent: ronniesahlberg@gmail.com-20070409224739-vqgs0b5pvexdf0xu\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Tue 2007-04-10 12:18:58 +1000\n    message:\n      add a CONNECT_WAIT flag to replace the call ctdb_connect_wait() since \n      we can no longer use this function from the application if we are in daemon mode.\n      \n      \n      add a horrible \"sleep()\" to ctdb_test.c   to prevent the daemon from dissapearing (parent process died) when the application exits which may happen before the other nodes in the test have finished talking to our daemon\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070409224739-vqgs0b5pvexdf0xu\n    parent: ronniesahlberg@gmail.com-20070409223829-80dgr2d4m33gant8\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Tue 2007-04-10 08:47:39 +1000\n    message:\n      add a atexit() call to remove the domain socket when the daemon exits\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070409223829-80dgr2d4m33gant8\n    parent: ronniesahlberg@gmail.com-20070409200339-jng2tmd7iz7pbl5k\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Tue 2007-04-10 08:38:29 +1000\n    message:\n      change ctdb_client_read() to use the ctdb_read_pdu() helper\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070409200339-jng2tmd7iz7pbl5k\n    parent: ronniesahlberg@gmail.com-20070409015127-ptae8qdwajxjk4nq\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Tue 2007-04-10 06:03:39 +1000\n    message:\n      make normal/deamon mode controllable by a ctdb flag so that the api looks the same in both modes to a client.\n      \n      send the correct structure back to a client\n      \n      assorted other cleanups\n      \n      (tests/test1.sh now works in daemon mode)\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070409015127-ptae8qdwajxjk4nq\n    parent: ronniesahlberg@gmail.com-20070408021148-2sa1cwikee5mfaki\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Mon 2007-04-09 11:51:27 +1000\n    message:\n      dispatcher daemon   first try.\n      \n      does not yet work\n    ------------------------------------------------------------\n    merged: ronniesahlberg@gmail.com-20070408021148-2sa1cwikee5mfaki\n    parent: ronniesahlberg@gmail.com-20070405230841-qvbelakbhbpl1za4\n    parent: tridge@samba.org-20070407005814-c83829906f25bead\n    committer: Ronnie sahlberg \n    branch nick: ctdb\n    timestamp: Sun 2007-04-08 12:11:48 +1000\n    message:\n      merge from tridge\n\nDiff too large for email (1186, the limit is 200).\n\n"}