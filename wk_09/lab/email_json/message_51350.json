{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Tony marquis <tony.marquis@feinc.com>", "subject": "parse mime email", "body": "I'm trying to read the body and the attachment in a mime message. I keep \ngetting the folling error.\n\nUse of uninitialized value in pattern match (m//) at \n/usr/share/perl5/Email/MIME/ContentType.pm line 24.\n\n\n#!/usr/bin/perl -w\n\nuse Net::POP3;\nuse Email::MIME;\n\nmy ($mail_server, $username, $password, $parsed, $decoded) = (\"xx\", \n\"xx\", \"xx\", \"\", \"\");\n\n$pop = Net::POP3->new($mail_server)\n    or die \"Can't open connection to $mail_server : $!\\n\";\ndefined ($pop->login($username, $password))\n    or die \"Can't authenticate: $!\\n\";\n$messages = $pop->list\n    or die \"Can't get list of undeleted messages: $!\\n\";\nforeach $msgid (keys %$messages) {\n    $message = $pop->get($msgid);\n\n  $parsed = Email::MIME->new(@$message);\n  $decoded = $parsed->body;\n  print \"$decoded\";\n\n    unless (defined $message) {\n        warn \"Couldn't fetch $msgid from server: $!\\n\";\n        next;\n    }\n    # $message is a reference to an array of lines\n#    $pop->delete($msgid);\n}\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}