{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "new ruser <newruser@yahoo.com>", "subject": "[R] substitute \"x\" for \"pattern\" in a list,\n\twhile preservign list \"structure\". lapply, gsub, list...?", "body": "I am experimenting with some of the common r functions.\nI had a question re:using \"gsub\" (or some similar functions) on the contents of a list.\n\nI want to design a function that looks at \"everything\" contained din a list, and anytime it finds the text string \"pattern\" replace it with \"x\".  I also wish to preserve the \"structure\" of the original list.  What is a good way to accomplish this?\n\nI tried :\n\na = matrix(data=c(23,45,'red',78),nrow=2)\nb = c('red','green',1,2,3)\nd = data.frame( test1=c(223,445,'red',78,56) , test2= c('red',NA,NA,NA,NA) )\ne= list(a,b,d)\nlist1 = list(a,b,d,e)\n\nlist2 = lapply(list1,function(list)(gsub(\"red\",\"green\",list)))\n\nstr(list1)\nstr(list2)\n\nbut the structue fo the list changed.\n\n       \n---------------------------------\nGive spam the boot. Take control with tough spam protection\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}