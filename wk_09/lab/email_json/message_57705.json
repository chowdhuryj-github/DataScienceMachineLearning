{"category": "ham", "to_address": "\"Patrik Hasibuan\" <patrikh@penguin-teknologi.com>,\n   \"Milis CPAN-Perl-Beginners\" <beginners@perl.org>", "from_address": "\"Wagner, David --- Senior Programmer Analyst --- WGO\" \n    <David.Wagner@freight.fedex.com>", "subject": "RE: Need idea for doing automatic iteration, please.", "body": "> -----Original Message-----\n> From: Patrik Hasibuan [mailto:patrikh@penguin-teknologi.com] \n> Sent: Thursday, June 28, 2007 12:55\n> To: Milis CPAN-Perl-Beginners\n> Subject: Need idea for doing automatic iteration, please.\n> \n> Dear my friends...\n> \n> I want my code does an action if it find a directory or file, \n> namely: storing the url/path of a file or a directory onto \n> mysql database.\n\tWorking too hard, just use File::Find and you can control how\ndeep you want to go, but if  you just want all files, then take a look\nat the doc and with thexamples provided, should be very simple to do.\n\n  Wags ;)\nDavid R Wagner\nSenior Programmer Analyst\nFedEx Freight\n1.408.323.4225x2224 TEL\n1.408.323.4449           FAX\nhttp://fedex.com/us \n\n> \n> I am meaning, my code should look up every file/directory \n> name resides under the \"$rootdir\" iteratively for doing \n> storing onto mysql on each find.\n> \n> The algorithm For doing find from beginning to the end of the \n> 1 level under $rootdir is still simple, it's only a \"while{..}{...}\". \n> But the problem comes when the directory has a/some \n> directory/-es whereas my code should also find them and \n> stores them onto the mysql. \n> If every directory has a limited level (for instance maximum \n> only 3 level subdirectories below to the bottom) then all I \n> have to do is simply creating nested \"while(...)[..] \" for 3 \n> level. But in this case of course each directory may \n> unpredictably has hundreds or thousands subdirectories/files \n> in hundreds or thousands levels below to the bottom.\n> \n> Please suggest me some ideas where I can implement into my \n> codes in order to enable my code to find all subdirectories \n> and files where placed under $rootdir.\n> A very simple code-sample is very......very.......welcomed.\n> \n> Here is my current code under below. This code still only can \n> find 1 level, only exactly 1 level under $rootdir.\n> ---------------------\n> package iterdir;\n> use kueri;\n> \n> sub baru{\n>   my $kelas = shift if @_;\n>   print \"Nama superkelas: $kelas \\n\";\n>   return( bless{} );\n> }\n> \n> sub bukadir{\n>   my $kelas = shift;\n>   $rootdir=\"/home/patrikh/sementara/tes\";\n>   opendir(\"dirku\", \"$rootdir\");\n>   $statusp=chdir($rootdir);\n>   if ($statusp){\n>     print \"berhasil membuka direktori-->$rootdir\\n\";\n>     while ($entridir=readdir(\"dirku\")){\n>       print \"entridir: $entridir\\n\";\n>       $sqlku=kueri->baru;\n>       $sqlku->konek;\n>       if (($entridir ne '.') and ($entridir ne '..')){\n> \tmy $strsql = \"insert into tblarsip (location) values \n> ('\".$entridir.\"')\";\n> \tprint \"strsql: $strsql\\n\";\n> \t$sth=$kueri::dbh->prepare($strsql);\n> \t$sth->execute;\n> \t$sth->finish;\n>       }\n>     }\n>   } else{\n>     print \"gagal membuka direktori yang diinginkan: $rootdir\\n\";\n>     exit 1;\n>   }\n> }\n> \n> 1;\n> \n> -- \n> Patrik Hasibuan \n> Junior Programmer\n> \n> -- \n> To unsubscribe, e-mail: beginners-unsubscribe@perl.org\n> For additional commands, e-mail: beginners-help@perl.org\n> http://learn.perl.org/\n> \n> \n> \n\n**********************************************************************\nThis message contains information that is confidential and proprietary to FedEx Freight or its affiliates.  It is intended only for the recipient named and for the express  purpose(s) described therein.  Any other use is prohibited.\n**********************************************************************\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n\n"}