{"category": "ham", "to_address": "Marc Bernard <bernarduse1@yahoo.fr>", "from_address": "Cody_Hamilton@Edwards.com", "subject": "Re: [R] bootstrap", "body": "\nMarc,\n\nI believe the problem is with the function you are passing to the statistic\noption.  According to the documentation for boot, the statistic option\nprovides:\n                                                                            \n A function which when applied to data returns a vector containing the      \n statistic(s) of interest. When sim=\"parametric\", the first argument to     \n statistic must be the data. For each replicate a simulated dataset         \n returned by ran.gen will be passed. In all other cases statistic must take \n at least two arguments. The first argument passed will always be the       \n original data. The second will be a vector of indices, frequencies or      \n weights which define the bootstrap sample.  [italics added]                \n                                                                            \n I haven't verified this yet, but try                                       \n                                                                            \n y <- rnorm(100)                                                            \n Quantile <- function(df,i){                                                \n    quantile(df[i],  probs=c(0.05,0.95))                                    \n }                                                                          \n boot.ci(boot.out,index=1,type='basic',conf=0.95)                           \n boot.ci(boot.out,index=2,type='basic',conf=0.95)                           \n                                                                            \n This should give you a 95% CI on the 5th and 95th percentiles,             \n respectively.                                                              \n                                                                            \n Regards,                                                                   \n     -Cody                                                                  \n                                                                            \n\n\n\n\n\n\n                                                                           \n             Marc Bernard                                                  \n                                                                   To \n             Sent by:                  r-help@stat.math.ethz.ch            \n             r-help-bounces@st                                          cc \n             at.math.ethz.ch                                               \n                                                                   Subject \n                                       [R] bootstrap                       \n             04/27/2007 03:36                                              \n             AM                                                            \n                                                                           \n                                                                           \n                                                                           \n                                                                           \n\n\n\n\nDear All,\n\n  I would like to use a nonparametric bootstrap to calculate the confidence\nintervals for the 5% and 95% quantiles using boot.ci. As you know, boot.ci\nrequires the use of boot to generate bootstrap replicates for my statistic.\nHowever this last function  doesn't work in my case because I am missing\nsomething. Here is an example\n\n  y <- rnorm(100)\n  Quantile <- function(df)\n{\nquantile(df,  probs=c(0.05,0.95))\n  }\n  boot.out <- boot(y,Quantile, R=999, sim=\"ordinary\")\n\n  Error in statistic(data, original, ...) : unused argument(s) (c(1, 2, 3,\n4, 5, 6, 7, 8\n\n  I think  that it's due to another parameter (stype) that I have not\nincluded but I don't know what this paremeter represents.\n\n  Many thanks for any suggestion.\n\n  Bernard\n\n\n\n---------------------------------\n\n             [[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide\nhttp://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}