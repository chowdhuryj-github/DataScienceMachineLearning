{"category": "ham", "to_address": "ronggui <ronggui.huang@gmail.com>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] method of rpart when response variable is binary?", "body": "On Fri, 15 Jun 2007, ronggui wrote:\n\n> Dear all,\n>\n> I would like to model the relationship between y and x. y is binary\n> variable, and x is a count variable which may be possion-distribution.\n>\n> I think it is better to divide x into intervals and change it to a\n> factor before calling glm(y~x,data=dat,family=binomail).\n>\n> I try to use rpart. As y is binary, I use \"class\" method and get the\n> following result.\n>> rpart(y~x,data=dat,method=\"class\")\n> n=778 (22 observations deleted due to missingness)\n>\n> node), split, n, loss, yval, (yprob)\n>      * denotes terminal node\n>\n> 1) root 778 67 0 (0.91388175 0.08611825) *\n>\n>\n> If with the default method, I get such a result.\n>\n>> rpart(y~x,data=dat)\n> n=778 (22 observations deleted due to missingness)\n>\n> node), split, n, deviance, yval\n>      * denotes terminal node\n>\n> 1) root 778 61.230080 0.08611825\n>  2) x< 19.5 750 53.514670 0.07733333\n>    4) x< 1.25 390 17.169230 0.04615385 *\n>    5) x>=1.25 360 35.555560 0.11111110 *\n>  3) x>=19.5 28  6.107143 0.32142860 *\n>\n> If I use 1.25 and 19.5 as the cutting points, change x into factor by\n>> x2 <- cut(q34b,breaks=c(0,1.25,19.5,200),right=F)\n>\n> The coef in y~x2 is significant and makes sense.\n>\n> My problem is: is it OK use the default method in rpart when response\n> varibale is binary one?  Thanks.\n\nNot unless you want a least-squares fit.  Note that you have only 8.6% of \none class, and for such an unbalanced classification problem you are \nunlikely to do better than declaring class 1 for all examples.\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}