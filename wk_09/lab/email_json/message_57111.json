{"category": "ham", "to_address": "Andrej Kastrin <andrej.kastrin@siol.net>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] Populate matrix from data.frame", "body": "On Thu, 28 Jun 2007, Andrej Kastrin wrote:\n\n> Dear all,\n>\n> I have a data frame\n> a <- data.frame(cbind(x=c('a','a','a','b','c'),\n> y=c('a','b','c','d','e'),z=c(1,2,3,4,5)))\n> > a\n>  x y z\n> 1 a a 1\n> 2 a b 2\n> 3 a c 3\n> 4 b d 4\n> 5 c e 5\n>\n> and a matrix\n> mm <- matrix(0,5,5)\n> colnames(mm) <- c('a','b','c','d','e')\n> rownames(mm) <- c('a','b','c','d','e')\n> > mm\n>  a b c d e\n> a 0 0 0 0 0\n> b 0 0 0 0 0\n> c 0 0 0 0 0\n> d 0 0 0 0 0\n> e 0 0 0 0 0\n>\n> How to populate matrix in a way that first column of data frame 'a'\n> correspond to rownames(mm), second column to colnames(mm) and the third\n> column is the element of matrix 'mm'?\n\nmm[cbind(a$x, a$y)] <- a$z\n\nPlease read about the forms of indexing matrices in 'An Introduction to \nR'.\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}