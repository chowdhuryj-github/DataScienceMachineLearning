{"category": "ham", "to_address": "sugar@laptop.org", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "[sugar] [PATCH] sugar.presence.presenceservice: Use absolute imports", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\n- ---\n sugar/presence/presenceservice.py |   15 +++------------\n 1 files changed, 3 insertions(+), 12 deletions(-)\n\ndiff --git a/sugar/presence/presenceservice.py b/sugar/presence/presenceservice.py\nindex 9d435e7..a0b60ee 100644\n- --- a/sugar/presence/presenceservice.py\n+++ b/sugar/presence/presenceservice.py\n@@ -23,17 +23,8 @@ import dbus.exceptions\n import dbus.glib\n import gobject\n \n- -# XXX use absolute imports\n- -#   from sugar.presence import buddy, activity\n- -# this *kind* of relative import is deprecated\n- -# with an explicit relative import slated to be \n- -# introduced (available in Python 2.5 with a __future__\n- -# import), that would read as:\n- -#   from . import buddy, activity \n- -# see PEP: http://docs.python.org/whatsnew/pep-328.html\n- -\n- -import buddy\n- -from activity import Activity\n+from sugar.presence.buddy import Buddy\n+from sugar.presence.activity import Activity\n \n \n DBUS_SERVICE = \"org.laptop.Sugar.Presence\"\n@@ -163,7 +154,7 @@ class PresenceService(gobject.GObject):\n             obj = self._objcache[object_path]\n         except KeyError:\n             if object_path.startswith(self._PS_BUDDY_OP):\n- -                obj = buddy.Buddy(self._bus, self._new_object,\n+                obj = Buddy(self._bus, self._new_object,\n                         self._del_object, object_path)\n             elif object_path.startswith(self._PS_ACTIVITY_OP):\n                 obj = Activity(self._bus, self._new_object,\n- -- \n1.5.2-rc3.GIT\n\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGUYH3WSc8zVUw7HYRApJwAJ9c8Pvg51cP562OT2Ug9G1kJBqqSwCfc9HC\nOgPfOD8E0M7ZvkBNdPnIkKE=\n=JHie\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}