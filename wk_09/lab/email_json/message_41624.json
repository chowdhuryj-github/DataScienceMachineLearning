{"category": "ham", "to_address": "Frank E Harrell Jr <f.harrell@vanderbilt.edu>", "from_address": "Raymond Wan <rwan@kuicr.kyoto-u.ac.jp>", "subject": "Re: [R] R's Spearman", "body": "\nDear Frank and Felipe,\n\nThank you both for your replies.  The code looks exactly like the \nformula in Japanese wikipedia which I was trying to make sense of (as it \nwasn't in English wikipedia).  Thank you for sharing your code with, Felipe!\n\nAnd the clarification, Frank.  Knowing many ways of calculating it helps \nunderstanding it...thanks to both of you!\n\nRay\n\n\nFrank E Harrell Jr wrote:\n> Mendiburu, Felipe (CIP) wrote:\n>> Dear Ray,\n>>\n>> The R's Spearman calculated by R is correct for ties or nonties, \n>> which is not correct is the probability for the case of ties. I send \n>> to you formulates it for the correlation with ties, that is equal to R.\n>> Regards,\n>>\n>> Felipe de Mendiburu\n>> Statistician\n>\n> Just use midranks for ties (as with rank()) and compute the ordinary \n> correlation on those (see also the spearman2 and rcorr functions in \n> Hmisc package).  No need to use complex formulas.  And the t \n> approximation for p-values works pretty well.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}