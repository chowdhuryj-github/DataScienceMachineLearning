{"category": "ham", "to_address": "beginners@perl.org, perl-beginners@moderators.isc.org", "from_address": "Paul Lalli <mritty@gmail.com>", "subject": "Re: accesing a hash of an array of hashes", "body": "On May 26, 1:51 pm, mumia.w.18.spam+nos...@earthlink.net (Mumia W.)\nwrote:\n> On 05/26/2007 07:17 AM, pauld wrote:\n>\n> > ive read a load of data in  from a CSV file with Text::CSV and ended\n> > up with a hash (%hash) where the keys are the column labels.\n> > my  @headings=split(/,/,$rows[0])\n> > and then\n>\n> > for (my $j=1;$j<$#rows;$j++)\n> > {\n> > my $status  = $csv->parse ($rows[$j]);   # parse a CSV string into\n> > fields\n>\n> You don't check $status to see if the parse succeeded.\n>\n> > my @columns = $csv->fields ();           # get the parsed fields\n>\n> > for (my $i=0;$i<$#columns;$i++)\n> >   {$hash{$headings[$i]}=$columns[$i];}\n>\n> Now %hash contains the data for the last record processed; however, data\n> from any previous records have been obliterated.\n>\n> > I want to  process the data once its grouped by the date field present\n> > in $hash. So i think I want a hash of dates  where the key is that\n> > date field\n> > I  push onto the value the hashes of the records that contain the date\n>\n> > push @{$Hofdates{$hash{DATE}}},\\%hash;\n>\n> > but im having a problem working out how to access the  individual\n> > items in the  hashes that are elements of the array\n>\n> The module Data::Dumper can help you see what's in your hash, but you\n> need to rethink how you initialize the first hash (%hash).\n\nSo long as the OP declares his %hash in the for loop, there's nothing\nwrong with how it's initialized.  The OP did not show where he's\ndeclaring it, unfortunately.  If he made the mistake of declaring it\noutside the for loop, then he's adding multiple copies of the same\nhash to the array, and that single hash is going to be repeatedly\nchanged through the program.\n\nPaul Lalli\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}