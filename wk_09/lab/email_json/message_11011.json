{"category": "ham", "to_address": "Andy Spieherty <spiehera@lafayette.edu>", "from_address": "\"Patrick R. Michaud\" <pmichaud@pobox.com>", "subject": "Re: [perl #42620] PGE 'Out of memory' panics.", "body": "On Fri, Apr 20, 2007 at 10:18:41AM -0400, Andy Spieherty wrote:\n> On Thu, 19 Apr 2007, Patrick R. Michaud via RT wrote:\n> > This does prompt the question of removing -G from the tests, \n> > but the last time I looked into doing this (about a month ago) Parrot\n> > still had intermittent GC errors that would cause random\n> > failures in the tests.  \n> \n> [...]  With -G, I get to test 395 in p5regex/p5rx.t.  \n> Without the -G, I memory usage still grows, and I only get to test 185 \n> before getting the PANIC.  \n\nIs it still the \"out of memory\" panic?  \n\nJust to add a \"me too\", I've also noticed that running PGE-based\nroutines with GC enabled causes them to consume memory much faster\nthan with GC disabled, which seems totally counterintuitive.\n\nAFAIK, PGE isn't creating any global references (beyond its\nstatic internal tables) that would cause objects to stick \naround \"forever\".  It certainly isn't part of PGE's design\nfor that to happen.  So, maybe we need to do a bit of forensics \nto find out where the memory consumption is occurring.\n\nPm\n\n"}