{"category": "ham", "to_address": "\"Mikhail T.\" <mi+metlife@aldan.algebra.com>", "from_address": "\"Timur I. Bakeyev\" <timur@gnu.org>", "subject": "Re: prs_uint32 applied to pointers?", "body": "Hi, Mikhail!\n\nHaven't looked into this deeply, I'm on vacation in cold Russia right\nnow, but...\n\nOn Thu, May 17, 2007 at 09:46:59AM -0400, Mikhail T. wrote:\n> David Collier-Brown wrote:\n> >>The way things are now, it could be getting it wrong every once in a while, when the lower 32-bits of the pointer happen \n> >>to be zeros. :-( How about:\n> >>\n> >>    uni_p = (fl3->path != NULL);\n> >>\n> --- source/rpc_parse/parse_srv.c   Tue Mar 20 18:25:39 2007\n> +++ source/rpc_parse/parse_srv.c   Thu May 17 09:41:19 2007\n> @@ -2414,5 +2414,5 @@\n>        }\n> \n> -       uni_p = fl3->user ? (uint32)fl3->user : 0;\n> +       uni_p = fl3->path != NULL;\n>        if(!prs_uint32(\"ptr\", ps, depth, &uni_p))\n>                return False;\n\nAre you sure that \"user\" can be magically replaced by \"path\"?\n\nWith best regards,\nTimur.\n\n"}