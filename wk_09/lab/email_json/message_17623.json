{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "(Ted Harding) <ted.harding@nessie.mcc.ac.uk>", "subject": "Re: [R] proportional sampling", "body": "On 27-Apr-07 12:15:29, tibi.codilean@ges.gla.ac.uk wrote:\n> Dear All,\n> \n> I wonder if you could help me.\n> \n> I have a table with a series of sites that I would like to\n> sample from.\n> The table has 5 columns:\n> \n> ID\n> X Coordinate\n> Y Coordinate\n> Value\n> Factor\n> \n> \n> The conditions are that each site can be selected more than\n> once and the probability of it being selected (or sampled)\n> is proportional to a factor located in column 'Factor'\n> \n> I am novice in terms of R, and am not entirely sure how to\n> do the proportional sampling.\n> \n> Any help would be appreciated\n> Thanks\n> Tibi\n\nSince you want each site to be able to appear more than once\nin the sample, there should be no problems in using sample():\n\n  ID.sample <- sample(ID, N, replace=TRUE, prob=Factor)\n\nwhere N is the sample size you want. (You do not need to make\nFactor sum to 1: sample() looks after that).\n\nOr, if you want an index which you can use to identify whole\nrows (especially if, e.g., values of ID are repeated in the\ntable):\n\n  ix <- sample((1:R), N, replace=TRUE, prob=Factor)\n\nwhere R is the number of rows in the table. Then your sample\nis the subset\n\n  Table[ix,]\n\nof rows of the table (where \"Table\" stands for the name of your table).\n\nThere are more complicated issues which can arise if you are\nsampling without replacement with probability proportional to\nsome variable. Have a look at the packages 'pps' and 'sampfling'\nfor an indication of methods.\n\nHoping this helps,\nTed.\n\n--------------------------------------------------------------------\nE-Mail: (Ted Harding) \nFax-to-email: +44 (0)870 094 0861\nDate: 27-Apr-07                                       Time: 14:07:03\n------------------------------ XFMail ------------------------------\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}