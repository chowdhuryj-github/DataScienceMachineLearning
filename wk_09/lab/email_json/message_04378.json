{"category": "ham", "to_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "from_address": "\"tom soyer\" <tom.soyer@gmail.com>", "subject": "Re: [R] Construct time series objects from raw data stored in csv\n\tfiles", "body": "Thanks Gabor!!\n\nOn 4/12/07, Gabor Grothendieck  wrote:\n>\n> On 4/12/07, tom soyer  wrote:\n> > What should I do for weekly and daily data series? Are there functions\n> > similar to yearmon() for other time intervals? I see that there is a\n> > built-in yearqtr() function for quarterly data, but that's it.\n>\n> ts series cannot directly represent daily and weekly\n> series other than somehow deciding on a numeric representation\n> for time.\n>\n> Here we will use the number of days and the number of weeks\n> since the Epoch (1970-01-01) and assume we assume weeks\n> start on Sunday.  We will also do it over again using the number\n> of weeks since the first point in the series and the number of\n> days since the first point.\n>\n> Lines.raw is from my original post on this thread.\n>\n>\n> z <- read.zoo(textConnection(Lines.raw), header = TRUE, sep = \",\")\n>\n> # ts series will represent days as no of days since Epoch\n> zday <- z\n> frequency(zday) <- 1\n> tsday <- as.ts(zday)\n>\n> # ts series will represent weeks as no of weeks since Epoch\n> zweek <- zday\n> offset <- -3 # weeks start on Sun\n> # offset <- -4 # weeks start on Mon\n> zweek <- aggregate(z, (as.numeric(time(z)) + offset) %/% 7, mean)\n> frequency(zweek) <- 1\n> tsweek <- as.ts(zweek)\n>\n> ##########################################################\n> # alternately use number of days since first day in series\n> # and number of weeks since first week in series\n>\n>\n> zday0 <- aggregate(zday, time(zday) - min(time(zday)), c)\n> frequency(zday0) <- 1\n> tsday0 <- as.ts(zday0)\n>\n> zweek0 <- aggregate(zweek, time(zweek) - min(time(zweek)), c)\n> frequency(zweek0) <- 1\n> tsweek0 <- as.ts(zweek0)\n>\n\n\n\n-- \nTom\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}