{"category": "ham", "to_address": "Andrej Kastrin <andrej.kastrin@siol.net>, beginners@perl.org", "from_address": "Andrew Curry <andrew.curry@pa-sport.com>", "subject": "RE: How to sum up values", "body": "Something as crude as \n\nuse Data::Dumper;\nopen( FILE, '< file' )\n  || die $!;\n  my ( $line, $ela, $elb, $pre, %count, $i, $tot); $tot = 0; \n  while ( $line =  ) {\n\t$i++;\n\t( $ela, $elb ) = split ( '\\|', $line );\n\n\t#\n\t# remove any white space\n\t#\n\n\t$elb=~s/\\s+$//g;\n\t$elb=~s/^\\s+//g;\n\n\t#\n\t# dont do the first element as will always\n\t# be different\n\t#\n\n\tif ( ( $ela ne $pre ) && $i != 1 ) {\n\t\t$count{$pre} = $tot;\n\t\t$tot = 0;\n\t\t$tot += $elb;\n\t}\n\telse {\n\t\t$tot += $elb;\n\t}\n\t\t$pre=$ela;\n}\n\n#\n# get the final row total\n#\n$count{$pre} = $tot;\nprint Dumper(\\%count);\n\nWill probably do the job \n\n-----Original Message-----\nFrom: Andrej Kastrin [mailto:andrej.kastrin@siol.net] \nSent: 24 April 2007 12:34\nTo: beginners@perl.org\nSubject: How to sum up values\n\nDear all,\n\nQuestion about the sum function; the file structure is as follows:\n\nA|100\nA|200\nA|150\nB|20\nB|90\nC|10\nC|30\nC|300\n\nThe result I want to obtain is to sum values in the second column\n(columnB) for each particular letter in the first column (ColumnA); e.g.:\n\nA|450\nB|100\nC|330\n\nI don't want to use hash structure because the input file is very large. \nIs there any simple way to do that step-by-step: to sum up values in columnB\nuntil the letter in columnA changes and print the result...\n\nThanks in advance for any suggestion, Andrej\n\n\n#!/usr/bin/perl\nuse strict;\nuse warnings;\n \nopen FH1, \"< test.txt\" or die \"Can't open file : $!\"; while () {\n    chomp;\n    ($columnA,$columnB)=split /\\|/;\n    ... ???\n}\n\n--\nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org For additional\ncommands, e-mail: beginners-help@perl.org http://learn.perl.org/\n\n\n\nThis e-mail is from the PA Group.  For more information, see\nwww.thepagroup.com.\n\nThis e-mail may contain confidential information.  Only the addressee is\npermitted to read, copy, distribute or otherwise use this email or any\nattachments.  If you have received it in error, please contact the sender\nimmediately.  Any opinion expressed in this e-mail is personal to the sender\nand may not reflect the opinion of the PA Group.\n\nAny e-mail reply to this address may be subject to interception or\nmonitoring for operational reasons or for lawful business practices.\n\n\n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}