{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22332 - in\n\tbranches/SAMBA_4_0/source/script/tests: .", "body": "Author: metze\nDate: 2007-04-18 11:55:03 +0000 (Wed, 18 Apr 2007)\nNew Revision: 22332\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22332\n\nLog:\nescape bad chars with '_' to form a nice filename\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/script/tests/selftest.pl\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/script/tests/selftest.pl\n===================================================================\n--- branches/SAMBA_4_0/source/script/tests/selftest.pl\t2007-04-18 11:31:55 UTC (rev 22331)\n+++ branches/SAMBA_4_0/source/script/tests/selftest.pl\t2007-04-18 11:55:03 UTC (rev 22332)\n@@ -659,7 +659,9 @@\n \n \t\tsetup_env($envname);\n \n-\t\tmy $pcap_file = \"$pcap_dir/$name.cap\";\n+\t\tmy $shname = $name;\n+\t\t$shname =~ s%[^abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0090687678\\-]%_%g;\n+\t\tmy $pcap_file = \"$pcap_dir/$shname.cap\";\n \n \t\tSocketWrapper::setup_pcap($pcap_file) if ($opt_socket_wrapper_pcap);\n \t\tmy $result;\n\n"}