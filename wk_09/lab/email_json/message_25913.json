{"category": "ham", "to_address": "\"Will Coleda\" <will@coleda.com>", "from_address": "\"Alek Storm\" <alek.storm@gmail.com>", "subject": "Re: [perl #42905] [PATCH] implement vtable overriding for PDD15, bugfix", "body": "On 5/9/07, Will Coleda <will@coleda.com> wrote:\nLooking at PDD15, I see this paragraph... > To override a vtable function, either add the :vtable pragma to the\n > declaration of the method, or pass a named parameter \"vtable\" intothe > add_method method on a class or role.... which is kind of lonely, since, as you point out, there is no way\n\nin PDD15 to *declare* a method (and not that vtable ISA method, either.)Oops, missed that part.\u00a0 Attached a patch to bring that in line with the rest of the patch, and also to s/vtable function/vtable method/gi.\u00a0 In addition, a vtable method ISA method; it's just not returned by 'find_method'.\nOn a related note, :method is mentioned in docs/compiler_faq.pod &\ndocs/imcc/calling_conventions.pod. If it's dead, it needs to bedeprecated; if it's not, it should probably be mentioned in PDD15.As far as I know, we still need :method, because it changes the arg signature of the sub to get 'self' as the first argument.\u00a0 If we were to remove it, we could work around this and still get 'self' to work without it being an argument, but then how would 'self' be defined if the sub is called as a non-method, and uses 'self'?\n-- Alek Storm\n"}