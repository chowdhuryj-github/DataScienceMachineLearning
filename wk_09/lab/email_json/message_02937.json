{"category": "ham", "to_address": "\"John Kane\" <jrkrideau@yahoo.ca>", "from_address": "\"Nordlund, Dan (DSHS/RDA)\" <NordlDJ@dshs.wa.gov>", "subject": "Re: [R] sas.get problem", "body": "> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch \n> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of John Kane\n> Sent: Wednesday, April 11, 2007 11:30 AM\n> To: Cody_Hamilton@edwards.com\n> Cc: R R-help\n> Subject: Re: [R] sas.get problem\n> \n> \n<<>>\n> \n> Current state of play:\n> Files : SAS 9.x\n> \n> formea1.sas7bdat\n> formea2.sas7bdat\n> formats.sas7bcat\n> \n> I notice that the formats.sas7bcat is drastically\n> different from the sas.bdat\n> icons.\n> \n> We seem to  be making some progress even if the data\n> file still has not loaded.\n> \n> In the ammended sas.get condition I get an error\n> object \".R.\" not found.\n> I hope this is not an Hmisc object.\n> \n> Thanks\n> \n> \n> Run with Hmisc\n> \n> mydata <- sas.get(library=\"F:/sas\", mem=\"formea1\",\n>              format.library=\"F:/sas\",\n>   sasprog = '\"C:Program Files/SAS/SAS 9.1/sas.exe\"')\n>            \n> Error in sas.get(library = \"F:/sas\", mem = \"formea1\",\n> format.library = \"F:/sas\",  :\n>         SAS job failed with status -1\n> In addition: Warning message:\n> \"\\\"C:Program not found\n> \n\nThe warning here is due to wrapping the sasprog argument in single and double quotes.  Sometimes you need to do this in R when trying to run a command using system() under Windows.  However, sas.get() uses the function shQuote() to wrap Windows system calls in double quotes and escapes any internal double quotes with \"\\\".  You can see the escape character in the warning message above.  If you remove the single quotes the warning should disappear.  \n\n> \n> Run with modified sas.get (Hmisc not loaded)\n> \n> Error in sas.get(library = \"F:/sas\", mem = \"formea1\",\n> format.library = \"F:/sas\",  :\n>         object \".R.\" not found\n> \n\nActually, you should load Hmisc using library(Hmisc) and then source in your corrected sas.get() function.  Then execute the following call\n\nmydata <- sas.get(library=\"F:/sas\", mem=\"formea1\",\n              format.library=\"F:/sas\",\n   sasprog = \"C:/Program Files/SAS/SAS 9.1/sas.exe\") #no single quotes\n\nThis assuming that your sas dataset and formats.sas7bcat are in F:\\SAS and the SAS executable is in the specified directory on the c: drive of the machine you are running this on.\n\nHope this is helpful,\n\nDan\n\n\nDaniel J. Nordlund\nResearch and Data Analysis\nWashington State Department of Social and Health Services\nOlympia, WA  98504-5204\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}