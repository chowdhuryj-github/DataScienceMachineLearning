{"category": "ham", "to_address": "R-Help <r-help@stat.math.ethz.ch>", "from_address": "ronggui <ronggui.huang@gmail.com>", "subject": "[R] Question about \"evalq\"", "body": "The help page of eval says: The 'evalq' form is equivalent to\n'eval(quote(expr), ...)'.  But the following is not equivalent.  Can\nanyone give me some explaination? Thanks very much.\n\n> f1 <- function(x,digits=5) lapply(x, f2)\n> f2 <- function(x) eval(quote(print(x+1,digits=digits)),list(x=x),parent.frame(2))\n> f1(list(x1=1))\n[1] 2\n$x1\n[1] 2\n\n>\n> f1 <- function(x,digits=5) lapply(x, f2)\n> f2 <- function(x) evalq(print(x+1,digits=digits),list(x=x),parent.frame(2))\n> f1(list(x1=1))\nError in print.default(x + 1, digits = digits) :\n  object \"digits\" not found\n\n\n\n-- \nRonggui Huang\nDepartment of Sociology\nFudan University, Shanghai, China\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}