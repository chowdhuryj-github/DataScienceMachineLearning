{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "simo <idra@samba.org>", "subject": "Re: svn commit: samba r23718 -\n\tin\tbranches/SAMBA_4_0/source/dsdb/samdb/ldb_modules: .", "body": "On Thu, 2007-07-05 at 09:02 +0200, Stefan (metze) Metzmacher wrote:\n> -----BEGIN PGP SIGNED MESSAGE-----\n> Hash: SHA1\n> \n> abartlet@samba.org schrieb:\n> > Author: abartlet\n> > Date: 2007-07-05 03:06:59 +0000 (Thu, 05 Jul 2007)\n> > New Revision: 23718\n> > \n> > WebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23718\n> > \n> > Log:\n> > Make Samba4 work against the LDAP backend again. \n> > \n> > When we set up the schema, we don't have a partitions container yet.\n> > The LDAP error differs from that given by LDB, so I think we still\n> > have some conformance work to do.\n> \n> yes, the problem is that ldb_tdb returns just 0 search results, but\n> success when the basedn isn't present. And it realy should return\n> LDB_ERR_NO_SUCH_OBJECT in this case, but we have too many code not\n> checking for LDB_ERR_NO_SUCH_OBJECT, so that we would break a lot\n> if we would let ldb_tdb return LDB_ERR_NO_SUCH_OBJECT.\n\nI think it is reasonable to change tdb to throw an error if the base\ndoes not exists.\nWe need to deal with LDB_ERR_NO_SUCH_OBJECT as ldap backends can happily\nreturn that. I will look into this as soon as I can carve some time for\nit.\n\nSimo.\n\n-- \nSimo Sorce\nSamba Team GPL Compliance Officer\nemail: idra@samba.org\nhttp://samba.org\n\n"}