{"category": "ham", "to_address": "Perl Beginners <beginners@perl.org>", "from_address": "Rob Dixon <rob.dixon@350.com>", "subject": "Re: hash containing a hash, sorting keys help", "body": "Ken Foskey wrote:\n>\n> I cannot get the syntax right for child lookup, Data::Dumper confirms\n> that I have the structure as I expect (logic may be totally wrong\n> though).  I going to do a webpage pstree command.\n> \n>     foreach my $child (sort keys( $parent{$pid} )) {\n>         dump_process( $child );\n>     }\n> \n> Type of arg 1 to keys must be hash (not hash element) at ./visualise.cgi\n> line 46, near \"} )\"\n> \n> Initial $pid is zero and the entry looks like this:\n> \n>             '0' => {\n>                      'ntp' => 1,\n>                      'hplip' => 1,\n>                      '1' => 1,\n>                      'klog' => 1,\n>                      'cupsys' => 1,\n>                      '101' => 1,\n>                      'root' => 1,\n>                      '117' => 1,\n>                      'avahi' => 1,\n>                      'user' => 1\n>                    },\n\n\nAs Perl has told you, keys() takes a hash, not hash element. $parent{$pid}\nis an element whose value is a reference to that hash you're interested in,\nso you must dereference that to provde a hash:\n\n  foreach my $child (sort keys %{$parent{$pid}}) {\n    :\n  }\n\nI hope this helps,\n\nRob\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}