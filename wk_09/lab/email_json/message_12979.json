{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Alfonso Sammassimo\" <cincinattikid@bigpond.com>", "subject": "[R]  Help on manipulating a data frame", "body": "Hi R-experts,\n\n\n\nI have a large set of weekly data in this format:\n\n\n\n2007-01-05 -1.52377151\n2007-01-12  1.04787390\n2007-01-19  0.61647047\n2007-01-26  1.87864283\n2007-02-02  0.54992405\n2007-02-09  1.96850069\n2007-02-16  0.26850159\n2007-02-23  1.56305144\n2007-03-02 -4.19500573\n2007-03-09  0.77127814\n2007-03-16  0.32387312\n2007-03-23  2.02163219\n2007-03-30  0.63175605\n2007-04-06  1.33346284\n2007-04-13  0.96021569\n\n\n\nHow might this data be sorted to something like this?:\n\n\n\nDate               Week of Month     Value\n\n2007-01-05          1                     -1.52377151\n2007-01-12          2                      1.04787390\n2007-01-19          3                      0.61647047\n2007-01-26          4                      1.87864283\n\n2007-02-02          1                      0.54992405\n\n\n\nMy aim is to return the last value of every month where the previous values \nin that month were negative values, hence the need to split the data by \nmonth. Any guide as to how this might this be possible without a loop?\n\n\n\nAny help would be much appreciated.\n\n\n\nThanks,\n\n\n\nAlf Sammassimo\n\nMelbourne, Australia\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}