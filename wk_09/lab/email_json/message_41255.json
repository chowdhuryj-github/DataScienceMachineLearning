{"category": "ham", "to_address": "Rehceb Rotkiv <scame@fastmail.fm>", "from_address": "Chuck Cleland <ccleland@optonline.net>", "subject": "Re: [R] Calculating column percentages of a table", "body": "Rehceb Rotkiv wrote:\n> Hello,\n> \n> I know, this is a real newbie question, but I can't find anything on this in\n> the manuals! I know that I get calculate the column totals of a table with\n> `apply(mytable, 2, sum)'. Now I want each column total to be 100% and\n> calculate the percentage of each field of the column. How would I do that?\n> Rcommander, the ultimate newb-tool, has a function `colPercents' which is\n> exactly what I need, but I do not want to load the whole thing into memory\n> just for this function. Is there a way to load just this single function\n> from the Rcmdr package?\n\n  Does this help?\n\n> mymat <- matrix(sample(1:10, 40, replace=TRUE), ncol=4)\n\n> mymat\n      [,1] [,2] [,3] [,4]\n [1,]    9    2    5    8\n [2,]    8    5    2    3\n [3,]    4    1    5    8\n [4,]    9    8    6    7\n [5,]    7   10    7   10\n [6,]    1    9    5    4\n [7,]   10   10    1    3\n [8,]    5    3    5    7\n [9,]    6    1    8    6\n[10,]    1    6   10    9\n\n> prop.table(mymat, margin=2)*100\n           [,1]      [,2]      [,3]      [,4]\n [1,] 15.000000  3.636364  9.259259 12.307692\n [2,] 13.333333  9.090909  3.703704  4.615385\n [3,]  6.666667  1.818182  9.259259 12.307692\n [4,] 15.000000 14.545455 11.111111 10.769231\n [5,] 11.666667 18.181818 12.962963 15.384615\n [6,]  1.666667 16.363636  9.259259  6.153846\n [7,] 16.666667 18.181818  1.851852  4.615385\n [8,]  8.333333  5.454545  9.259259 10.769231\n [9,] 10.000000  1.818182 14.814815  9.230769\n[10,]  1.666667 10.909091 18.518519 13.846154\n\n> colSums(prop.table(mymat, margin=2)*100)\n[1] 100 100 100 100\n\n> Many thanks,\n> Rehceb Rotkiv\n\n-- \nChuck Cleland, Ph.D.\nNDRI, Inc.\n71 West 23rd Street, 8th floor\nNew York, NY 10010\ntel: (212) 845-4495 (Tu, Th)\ntel: (732) 512-0171 (M, W, F)\nfax: (917) 438-0894\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}