{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "psomogyi@gamax.hu", "subject": "Rev 90: merged tridge's branch in http://samba.org/~tridge/psomogyi/", "body": "------------------------------------------------------------\nrevno: 90\nrevision-id: psomogyi@gamax.hu-20070429142748-xzhvikj20c14dnaf\nparent: psomogyi@gamax.hu-20070427151316-6tnxdw3zc2lasjga\nparent: tridge@samba.org-20070428161833-g1jbj1dibtxk28ih\ncommitter: Peter Somogyi \nbranch nick: ctdb\ntimestamp: Sun 2007-04-29 16:27:48 +0200\nmessage:\n  merged tridge's branch\nadded:\n  tests/run_tests.sh             run_tests.sh-20070428085745-ec2w6vybjf07vtvg-1\nrenamed:\n  lib/replace/test => lib/replace/tests test-20070125040949-7t3f5zdl1q4z9hyv-33\nmodified:\n  Makefile.in                    makefile.in-20061117234101-o3qt14umlg9en8z0-1\n  common/ctdb.c                  ctdb.c-20061127094323-t50f58d65iaao5of-2\n  common/ctdb_call.c             ctdb_call.c-20061128065342-to93h6eejj5kon81-1\n  common/ctdb_client.c           ctdb_client.c-20070411010216-3kd8v37k61steeya-1\n  common/ctdb_control.c          ctdb_control.c-20070426122724-j6gkpiofhbwdin63-1\n  common/ctdb_daemon.c           ctdb_daemon.c-20070409200331-3el1kqgdb9m4ib0g-1\n  common/ctdb_message.c          ctdb_message.c-20070208224107-9dnio7x7z33prrmt-1\n  common/ctdb_util.c             ctdb_util.c-20061128065342-to93h6eejj5kon81-3\n  direct/ctdbd_test.c            ctdbd_test.c-20070411085057-17kgjzfktsh28g99-1\n  include/ctdb.h                 ctdb.h-20061117234101-o3qt14umlg9en8z0-11\n  include/ctdb_private.h         ctdb_private.h-20061117234101-o3qt14umlg9en8z0-13\n  tcp/tcp_io.c                   tcp_io.c-20061128004937-x70q1cu5xzg5g2tm-3\n  tests/ctdb_messaging.c         ctdb_messaging.c-20070411034205-6d6vne56pbih2x1p-1\n  tests/ctdb_test.c              ctdb_test.c-20061117234101-o3qt14umlg9en8z0-16\n  tools/ctdb_control.c           ctdb_control.c-20070426122705-9ehj1l5lu2gn9kuj-1\n    ------------------------------------------------------------\n    revno: 44.1.174\n    merged: tridge@samba.org-20070428161833-g1jbj1dibtxk28ih\n    parent: tridge@samba.org-20070428154637-riqjifjcu6a6e1ws\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 18:18:33 +0200\n    message:\n      much simpler redirect logic\n    ------------------------------------------------------------\n    revno: 44.1.173\n    merged: tridge@samba.org-20070428154637-riqjifjcu6a6e1ws\n    parent: tridge@samba.org-20070428154240-5dmi2gyuh4m54wpy\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 17:46:37 +0200\n    message:\n      better name for this hack\n    ------------------------------------------------------------\n    revno: 44.1.172\n    merged: tridge@samba.org-20070428154240-5dmi2gyuh4m54wpy\n    parent: tridge@samba.org-20070428151330-t6lvd3jhu28vr1gl\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 17:42:40 +0200\n    message:\n      use ctdb_get_connected_nodes for node listing\n    ------------------------------------------------------------\n    revno: 44.1.171\n    merged: tridge@samba.org-20070428151330-t6lvd3jhu28vr1gl\n    parent: tridge@samba.org-20070428151302-5gdl26m1r156w6xb\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 17:13:30 +0200\n    message:\n      added status all and debug all control operations\n    ------------------------------------------------------------\n    revno: 44.1.170\n    merged: tridge@samba.org-20070428151302-5gdl26m1r156w6xb\n    parent: tridge@samba.org-20070428131521-53ws6e7u06s1llsm\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 17:13:02 +0200\n    message:\n      use rsync to avoid text busy on install\n    ------------------------------------------------------------\n    revno: 44.1.169\n    merged: tridge@samba.org-20070428131521-53ws6e7u06s1llsm\n    parent: tridge@samba.org-20070428110259-azfdeu63sz5zb2xw\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 15:15:21 +0200\n    message:\n      report number of clients in ping\n    ------------------------------------------------------------\n    revno: 44.1.168\n    merged: tridge@samba.org-20070428110259-azfdeu63sz5zb2xw\n    parent: tridge@samba.org-20070428100146-vc86b04jx6za7v7h\n    parent: sahlberg@ronnie-20070428104242-6b8810b511e6b587\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 13:02:59 +0200\n    message:\n      merged from ronnie\n        ------------------------------------------------------------\n        revno: 44.1.153.1.15\n        merged: sahlberg@ronnie-20070428104242-6b8810b511e6b587\n        parent: sahlberg@ronnie-20070428104026-28c326c0819f0a82\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 20:42:42 +1000\n        message:\n          print vnn as decimal instead of hex\n        ------------------------------------------------------------\n        revno: 44.1.153.1.14\n        merged: sahlberg@ronnie-20070428104026-28c326c0819f0a82\n        parent: sahlberg@ronnie-20070428100050-b8dbc20a1658033e\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 20:40:26 +1000\n        message:\n          add a few more controls that are useful for debugging a cluster\n        ------------------------------------------------------------\n        revno: 44.1.153.1.13\n        merged: sahlberg@ronnie-20070428100050-b8dbc20a1658033e\n        parent: sahlberg@ronnie-20070428092825-f1d7a68dbdf3b691\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 20:00:50 +1000\n        message:\n          add a control to pull the database list from a remote node\n        ------------------------------------------------------------\n        revno: 44.1.153.1.12\n        merged: sahlberg@ronnie-20070428092825-f1d7a68dbdf3b691\n        parent: sahlberg@ronnie-20070428085222-291a66dc8ba1b7c7\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 19:28:25 +1000\n        message:\n          you cant dereference ctdb->vnnmap in the client since it is null in hte \n          client\n        ------------------------------------------------------------\n        revno: 44.1.153.1.11\n        merged: sahlberg@ronnie-20070428085222-291a66dc8ba1b7c7\n        parent: sahlberg@ronnie-20070427154831-370d9fe887be370f\n        parent: tridge@samba.org-20070428085032-9ny107w9wqvh7jnl\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 18:52:22 +1000\n        message:\n          merge from tridge\n    ------------------------------------------------------------\n    revno: 44.1.167\n    merged: tridge@samba.org-20070428100146-vc86b04jx6za7v7h\n    parent: tridge@samba.org-20070428093549-hn7t2tsfo8e3ru1m\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 12:01:46 +0200\n    message:\n      allow ctdbd_allocate_pkt to be used in client code\n    ------------------------------------------------------------\n    revno: 44.1.166\n    merged: tridge@samba.org-20070428093549-hn7t2tsfo8e3ru1m\n    parent: tridge@samba.org-20070428085758-hq0l44zjdfogmk23\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 11:35:49 +0200\n    message:\n      fixed some warnings\n    ------------------------------------------------------------\n    revno: 44.1.165\n    merged: tridge@samba.org-20070428085758-hq0l44zjdfogmk23\n    parent: tridge@samba.org-20070428085032-9ny107w9wqvh7jnl\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 10:57:58 +0200\n    message:\n      added make test and make valgrindtest targets\n    ------------------------------------------------------------\n    revno: 44.1.164\n    merged: tridge@samba.org-20070428085032-9ny107w9wqvh7jnl\n    parent: tridge@samba.org-20070428075445-nba7iio36km3x2yt\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 10:50:32 +0200\n    message:\n      factor out the packet allocation code\n    ------------------------------------------------------------\n    revno: 44.1.163\n    merged: tridge@samba.org-20070428075445-nba7iio36km3x2yt\n    parent: tridge@samba.org-20070427152410-zzgcxffd1y2fsyz9\n    parent: sahlberg@ronnie-20070427154831-370d9fe887be370f\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Sat 2007-04-28 09:54:45 +0200\n    message:\n      merge from ronnie\n        ------------------------------------------------------------\n        revno: 44.1.153.1.10\n        merged: sahlberg@ronnie-20070427154831-370d9fe887be370f\n        parent: sahlberg@ronnie-20070427151940-bf392f968a1a572f\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 01:48:31 +1000\n        message:\n          ctdb will now verify that the generation id for all CTDB_REQ_CALLs that \n          it receives from remote nodes with its own generation number.\n          \n          if the generation id do not match the daemon will just discard the \n          packet completely.\n          this will require that clients such as samba3 will have to be aware that \n          calls it sends to remote nodes may get lost and will have to resend the \n          requests after a timeout.\n          \n          during cluster recovery/reconfiguration the generation nnumbers will be \n          changing and this can be used to prevent nodes that are still in the \n          \"old\" instance from talking to nodes that belong to the new generation \n          instance\n        ------------------------------------------------------------\n        revno: 44.1.153.1.9\n        merged: sahlberg@ronnie-20070427151940-bf392f968a1a572f\n        parent: sahlberg@ronnie-20070427150626-dee305fbe07277d7\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 01:19:40 +1000\n        message:\n          clients should not fill in \"generation\" nor be aware of what generation \n          the cluster is currently in.\n          \n          remove all instances where the clients try to fill in the generation \n          field of the header\n        ------------------------------------------------------------\n        revno: 44.1.153.1.8\n        merged: sahlberg@ronnie-20070427150626-dee305fbe07277d7\n        parent: sahlberg@ronnie-20070427143145-4cb964ca7a326893\n        committer: Ronnie Sahlberg \n        branch nick: ctdb\n        timestamp: Sat 2007-04-28 01:06:26 +1000\n        message:\n          add a generation field to the pdu header.\n          this will allow a node to verify that a received pdu is sent from a node \n          in the same generation instance of a cluster.\n    ------------------------------------------------------------\n    revno: 44.1.162\n    merged: tridge@samba.org-20070427152410-zzgcxffd1y2fsyz9\n    parent: tridge@samba.org-20070427151047-fvef601i9ea2dnrj\n    committer: Andrew Tridgell \n    branch nick: tridge\n    timestamp: Fri 2007-04-27 17:24:10 +0200\n    message:\n      added install target\n\nDiff too large for email (1495, the limit is 1000).\n\n"}