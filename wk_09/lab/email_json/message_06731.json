{"category": "ham", "to_address": "tridge@samba.org", "from_address": "simo <idra@samba.org>", "subject": "Re: ctdb shortcut locking", "body": "On Mon, 2007-04-16 at 17:20 +1000, tridge@samba.org wrote:\n> The risk with all this is that the client will die before it updates\n> the header on the record, thus leaving the database with an inconsistent\n> dmaster. We can handle that in the destructor for the client, by\n> checking that the record header wasupdated for the last record it\n> operated on. We only have to check at most 1 record per client\n> (assuming clients are single threaded).\n\nDoes this cover the client segfaulting before an update?\n\nSimo.\n\n-- \nSimo Sorce\nSamba Team GPL Compliance Officer\nemail: idra@samba.org\nhttp://samba.org\n\n"}