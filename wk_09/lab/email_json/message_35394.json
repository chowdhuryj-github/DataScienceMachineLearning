{"category": "ham", "to_address": "sugar@laptop.org", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "[sugar] [PATCH] services/presence/server_plugin: Stop using private\n\tAPI of telepathy-python and dbus-python", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\n- ---\n services/presence/server_plugin.py |    4 ++--\n 1 files changed, 2 insertions(+), 2 deletions(-)\n\ndiff --git a/services/presence/server_plugin.py b/services/presence/server_plugin.py\nindex 20b6088..49280e3 100644\n- --- a/services/presence/server_plugin.py\n+++ b/services/presence/server_plugin.py\n@@ -315,7 +315,7 @@ class ServerPlugin(gobject.GObject):\n         chan_path = self._conn[CONN_INTERFACE].RequestChannel(\n             CHANNEL_TYPE_CONTACT_LIST, CONNECTION_HANDLE_TYPE_LIST,\n             handle, True)\n- -        channel = Channel(self._conn._dbus_object._named_service, chan_path)\n+        channel = Channel(self._conn.service_name, chan_path)\n         # hack\n         channel._valid_interfaces.add(CHANNEL_INTERFACE_GROUP)\n         return channel\n@@ -449,7 +449,7 @@ class ServerPlugin(gobject.GObject):\n             self._join_activity_channel_props_set_cb(activity_id, signal, handle, channel, userdata)\n \n     def _join_activity_create_channel_cb(self, activity_id, signal, handle, userdata, chan_path):\n- -        channel = Channel(self._conn._dbus_object._named_service, chan_path)\n+        channel = Channel(self._conn.service_name, chan_path)\n         props = {\n             'anonymous': False,         # otherwise buddy resolution breaks\n             'invite-only': False,       # XXX: should be True in future\n- -- \n1.5.2-rc3.GIT\n\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGVXqdWSc8zVUw7HYRAhwRAKDldXOsdH95JWt6un5vP58zaeOewQCgk/8y\nv/rkTo4ccsvPjYzF0bj+ZAU=\n=OYb+\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}