{"category": "ham", "to_address": "\"John W. Krahn\" <krahnj@telus.net>", "from_address": "Igor Sutton Lopes <igor.sutton@gmail.com>", "subject": "Re: Sorting dir output", "body": "Sorry! I was testing and sent the last version -TextMate integrated with Mail.app- :-(On Apr 10, 2007, at 4:40 PM, John W. Krahn wrote:[...]Did you test this?\u00a0 Where do you distinguish between files \"older than 3 days\"and other files?\u00a0 Where is \"name('trunk')\" specified by the OP?The correct answer:<code>use strict;use warnings;use File::Copy;use File::Find::Rule;use File::Spec;my $basedir = \"/Users/igorsutton/workspace\";sub move_file {\u00a0 \u00a0 # using -M is better than doing the calculation to obtain the difference\u00a0 \u00a0 # from now and three days ago.\u00a0 \u00a0 return unless -M $_ < 3;\u00a0 \u00a0 move( $_[2], File::Spec->catdir( $basedir, 'history', $_ ) )\u00a0 \u00a0 \u00a0 or warn $!;\u00a0 \u00a0 # cheat with File::Find::Rule returning an undefined value, to not waste\u00a0 \u00a0 # memory with unused data.\u00a0 \u00a0 return;}# we use the name '*' to remove the current directory.File::Find::Rule->directory()->maxdepth(1)->name('*')->exec( \\&move_file )\u00a0 ->in($basedir);</code>Sorry for the erroneous code before.--Igor Suttonigor.sutton@gmail.com "}