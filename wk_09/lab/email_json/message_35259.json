{"category": "ham", "to_address": "David Kane <dave@kanecap.com>", "from_address": "Petr PIKAL <petr.pikal@precheza.cz>", "subject": "[R] Odp:  Showing NAs when using table()", "body": "Hi\n\nproblem is with your extra empty levels in your d factor. Without it\n\n> d1<-factor(d, exclude=NULL)\n> d1\n [1] A    B      B    C    A    B    C    A    B    C    A    B C  \n A    B    C    A    B    C    A    B    C    A    B    C    A    B    C \nLevels: A B C \n> table(b,d1)\n   d1\nb    A  B  C \n  A  9  0  0    1\n  B  0 10  0    0\n  C  0  0  9    1\n\nregards\nPetr\n\n\n\nr-help-bounces@stat.math.ethz.ch napsal dne 23.05.2007 17:39:49:\n\n> I want to use table() to show NA values with factor variables. Using\n> the set up from the help page, I have:\n> \n> > b <- factor(rep(c(\"A\",\"B\",\"C\"), 10))\n> > d <- factor(rep(c(\"A\",\"B\",\"C\"), 10), levels=c(\"A\",\"B\",\"C\",\"D\",\"E\"))\n> > is.na(d) <- 3:4\n> > table(b, d)\n>    d\n> b    A  B  C  D  E\n>   A  9  0  0  0  0\n>   B  0 10  0  0  0\n>   C  0  0  9  0  0\n> > \n> \n> All of which is fine. But how can I get table() --- or some other\n> function --- to include the observations which are NA for d? This does\n> not do what I want (although I can see how it does what it is\n> documented to do).\n> \n> > table(b, d, exclude = NULL)\n>    d\n> b    A  B  C  D  E\n>   A  9  0  0  0  0\n>   B  0 10  0  0  0\n>   C  0  0  9  0  0\n> > \n> \n> Note that this dilemma only arises with factor variables. With numeric\n> variables, things work differently.\n> \n> > a <- c(1, 1, 2, 2, NA, 3); b <- c(2, 1, 1, 1, 1, 1); table(a, b)\n>    b\n> a   1 2\n>   1 1 1\n>   2 2 0\n>   3 1 0\n> > table(a, b, exclude = NULL)\n>       b\n> a      1 2\n>   1    1 1\n>   2    2 0\n>   3    1 0\n>    1 0\n> > \n> \n> How can I get similar behavior with factor variables?\n> \n> \n> Thanks,\n> \n> Dave Kane\n> \n> > R.version\n>                _ \n> platform       i686-pc-linux-gnu \n> arch           i686 \n> os             linux-gnu \n> system         i686, linux-gnu \n> status \n> major          2 \n> minor          5.0 \n> year           2007 \n> month          04 \n> day            23 \n> svn rev        41293 \n> language       R \n> version.string R version 2.5.0 (2007-04-23)\n> >\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}