{"category": "ham", "to_address": "John Kane <jrkrideau@yahoo.ca>, R R-help <r-help@stat.math.ethz.ch>", "from_address": "Stephen Tucker <brown_emu@yahoo.com>", "subject": "Re: [R] Function call within a function.", "body": "Dear John,\n\nPerhaps I am mistaken in what you are trying to accomplish but it seems like\nwhat is required is that you call lstfun() outside of ukn(). [and remove the\ncall to lstfun() in ukn()].\n\nnts <- lstfun(myfile, aa, bb)\nresults <- ukn(dd1, \"a\", \"b\", nts$cda)\n\nAlternatively, you can eliminate the fourth argument in ukn() and assign (via\n'<-') the results of lstfun() to 'nam1' within ukn() instead of saving to\n'nts'...\n\n--- John Kane  wrote:\n\n> I am trying to call a funtion within another function\n> and I clearly am misunderstanding what I should do. \n> Below is a simple example.\n> I know lstfun works on its own but I cannot seem to\n> figure out how to get it to work within ukn. Basically\n> I need to create the variable \"nts\". I have probably\n> missed something simple in the Intro or FAQ.\n> \n> Any help would be much appreciated.\n> \n> EXAMPLE\n>\n-------------------------------------------------------------------------------\n> # create data.frame\n> cata <- c( 1,1,6,1,1,4)\n> catb <- c( 1,2,3,4,5,6)\n> id <- c('a', 'b', 'b', 'a', 'a', 'b')\n> dd1  <-  data.frame(id, cata,catb)\n> \n> # function to create list from data.frame\n> lstfun  <- function(file, alpha , beta ) {\n> cda  <-  subset(file, file[,1] == alpha)\n> cdb  <-  subset (file, file[,1]== beta)\n> list1 <- list(cda,cdb)\n> }\n> \n> # funtion to operate on list\n> ukn  <-  function(file, alpha, beta, nam1){\n> aa  <- alpha\n> bb  <- beta\n> myfile  <- file\n> nts <- lstfun(myfile, aa, bb)\n> mysum <- nam1[,3]*5\n> return(mysum)\n> }\n> \n> results <- ukn(dd1, \"a\", \"b\", nts$cda)\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}