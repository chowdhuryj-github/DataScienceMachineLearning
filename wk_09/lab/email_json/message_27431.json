{"category": "ham", "to_address": "Takatsugu Kobayashi <tkobayas@indiana.edu>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] A simple question about PRINCOMP", "body": "Yes, rounding error does happen in real-life computation.  It would be \nextraordinary to compile the correlation of real data and get exactly 0: \nthis would require that the data could be represented exactly, for \nexample.\n\nYou might find ?zapsmall helpful.\n\nOn Thu, 10 May 2007, Takatsugu Kobayashi wrote:\n\n> Hi,\n>\n> I just wonder if this is a rounding error by the princomp command in R.\n>\n> Although this does not make much sense, using a hypothetical dataset, a,\n>\n> a<-matrix(runif(1000),100,10)\n>\n> I did PCA with the princomp, and compared it with the results estimated\n> with the eigen and the prcomp commands. And I found some differences in\n> the results: opposite signs in the loadings; slight differences in\n> variances (lambdas), etc. Since the components are orthogonal to each\n> other, correlation coefficients between the PC scores should be zero.\n> But when I type\n>\n> test2<-princomp(a)\n> cor(test2$scores)\n>\n> I obtained the following cor matrix:\n>\n>               Comp.1        Comp.2        Comp.3        Comp.4\n> Comp.5        Comp.6        Comp.7        Comp.8\n> Comp.1   1.000000e+00 -5.819229e-15  1.952317e-16 -1.631710e-16\n> 5.489998e-17  5.624600e-17  1.582736e-16 -3.048016e-17\n> Comp.2  -5.819229e-15  1.000000e+00 -1.942578e-16  7.219253e-17\n> -7.107726e-17  3.492899e-17 -6.670908e-17  1.527489e-16\n> Comp.3   1.952317e-16 -1.942578e-16  1.000000e+00  4.922440e-16\n> 4.105868e-17  6.342858e-16  2.930614e-16  6.296834e-17\n> Comp.4  -1.631710e-16  7.219253e-17  4.922440e-16  1.000000e+00\n> 1.308663e-17 -4.556627e-16  2.927150e-16 -1.001956e-17\n> Comp.5   5.489998e-17 -7.107726e-17  4.105868e-17  1.308663e-17\n> 1.000000e+00  1.169042e-16  1.401771e-16  4.732978e-17\n> Comp.6   5.624600e-17  3.492899e-17  6.342858e-16 -4.556627e-16\n> 1.169042e-16  1.000000e+00 -4.193547e-16  5.742884e-17\n> Comp.7   1.582736e-16 -6.670908e-17  2.930614e-16  2.927150e-16\n> 1.401771e-16 -4.193547e-16  1.000000e+00  3.179465e-16\n> Comp.8  -3.048016e-17  1.527489e-16  6.296834e-17 -1.001956e-17\n> 4.732978e-17  5.742884e-17  3.179465e-16  1.000000e+00\n> Comp.9  -4.092284e-17  1.977862e-16 -1.140905e-16 -2.566213e-16\n> 2.647648e-17  8.279450e-17  1.603418e-16 -4.015096e-17\n> Comp.10 -1.017709e-17 -2.673821e-17 -5.851822e-17  4.417901e-17\n> 2.760632e-17  1.247873e-17 -1.622996e-17  4.921851e-17\n>               Comp.9       Comp.10\n> Comp.1  -4.092284e-17 -1.017709e-17\n> Comp.2   1.977862e-16 -2.673821e-17\n> Comp.3  -1.140905e-16 -5.851822e-17\n> Comp.4  -2.566213e-16  4.417901e-17\n> Comp.5   2.647648e-17  2.760632e-17\n> Comp.6   8.279450e-17  1.247873e-17\n> Comp.7   1.603418e-16 -1.622996e-17\n> Comp.8  -4.015096e-17  4.921851e-17\n> Comp.9   1.000000e+00  2.843887e-16\n> Comp.10  2.843887e-16  1.000000e+00\n>\n> Aren't all off-diagonal elements in this particular matrix zeros? I am\n> sure that these off-diagonal values are substantially small and close to\n> zero. But is this because of these commands' rounding error or that I\n> did something wrong...?\n>\n> Thanks in advance.\n>\n> Taka\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}