{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "francogrex <francogrex@mail.com>", "subject": "[R] Cross-validation for logistic regression with lasso2", "body": "\nHello, I am trying to shrink the coefficients of a logistic regression for a\nsparse dataset, I am using the lasso (lasso2) and I am trying to determine\nthe shrinkinage factor by cross-validation. I would like please some of the\nexperts here to tell me whether i'm doing it correctly or not. Below is my\ndataset and the functions I use\n\nw=\na\tb\tc\td\te\tP\tA\n0\t0\t0\t0\t0\t1\t879\n1\t0\t0\t0\t0\t1\t3\n0\t1\t0\t0\t0\t7\t7\n0\t0\t1\t0\t0\t230\t2\n0\t0\t0\t1\t0\t450\t7\n0\t0\t0\t0\t1\t4\t\n\n#The GLM output shows that the coefficients c and d are larger than 10:\nresp=cbind(w$P,w$A)\nsummary(glm(resp~a+b+c+d+e,data=w,family=binomial))\nCoefficients:\n            Estimate Std. Error z value Pr(>|z|)    \n(Intercept)   -6.779      1.001  -6.775 1.24e-11 ***\na              5.680      1.528   3.718 0.000201 ***\nb              6.779      1.134   5.976 2.29e-09 ***\nc             11.524      1.227   9.392  < 2e-16 ***\nd             10.942      1.071  10.220  < 2e-16 ***\ne              3.688      1.124   3.282 0.001031 ** \n\n#so I wrote this below using the lasso2 package to determine the best\nshrinkage factor using the gcv cross-validation:\n\nfor (i in seq(1,40,1)) {\nglmba=gl1ce(resp~a+b+c+d+e, data = w, family = binomial(),bound=i) \necco=round(gcv(glmba,type=\"Tibshirani\",gen.inverse.diag =1e11),digits=3)\nprint(ecco)\n}\n#and it gives me 21 with the lowest gcv.\n\n#then I determine the shrunken coefficients:\n>gl1ce( resp ~ a + b + c + d + e, data = w, family = binomial(),  bound =\n21)\nCoefficients:\n(Intercept)           a               b               c                 d                \ne \n  -4.749816    2.776215    4.342661    8.956583    8.661593    1.264660 \nFamily:\nFamily: binomial \nLink function: logit \nThe absolute L1 bound was       :  21 \nThe Lagrangian for the bound is :  1.843283 \n\nThanks\n\n-- \nView this message in context: http://www.nabble.com/Cross-validation-for-logistic-regression-with-lasso2-tf3777173.html#a10680591\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}