{"category": "ham", "to_address": "James Peach <jpeach@samba.org>", "from_address": "\"Gerald (Jerry) Carter\" <jerry@samba.org>", "subject": "Re: [PATCH] Expanding nested groups in winbindd_getgrnam()", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nJames Peach wrote:\n> On Jun 12, 2007, at 10:22 PM, Gerald (Jerry) Carter wrote:\n>>\n>> Here's a rough patch for expanding domain group membership\n>> in the winbindd_getgrnam() call.\n> \n> What's the use case for this? What does it solve \n> that \"winbind nested groups\"?\n\nThe names are confusing but \"windows nested groups\"\nimplements the NT4 model of local groups (e.g.\nBUILTIN\\Administrators).  The \"winbind expand groups\"\npatch unrolls nested domain groups.\n\nFor example, suppose the dodmain global group\nDOM\\outergroup has 2 members: user1 and innergroup.\nDOM\\innergroup is another domain global group with\none member: user2.\n\nBefore this patch, \"getent group DOM\\outergroup\" would\nreturn:\n\n  DOM\\outergroup:x:10000:DOM\\user1\n\nIf you set 'winbind expand groups = 2' (to unroll\nup to 2 levels of nesting), you will get\n\n  DOM\\outergroup:x:10000:DOM\\user1,DOM\\user2\n\nThis is useful for Unix applications that need check\nif a user is a member of a group using NSS.\n\nCome to think of it, I'll probably have to do some more\nwork to get domain group unrolling to work with machine\nlocal groups.\n\n\n\ncheers, jerry\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: Using GnuPG with Mozilla - http://enigmail.mozdev.org\n\niD8DBQFGcCd3IR7qMdg1EfYRAiNCAKCK5z0hURBb2uplW3lOWeVDHq9EEwCeKFf+\n4BKBIdIABaWibAMWmWC+Sm0=\n=rVxa\n-----END PGP SIGNATURE-----\n\n"}