{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22989 - in\n\tbranches/SAMBA_4_0/source/lib/ldb/common: .", "body": "Author: metze\nDate: 2007-05-18 07:41:43 +0000 (Fri, 18 May 2007)\nNew Revision: 22989\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22989\n\nLog:\nallow '@foo' attributes searchable as we allow '@foo' attributes\nin all other places too...\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/lib/ldb/common/ldb_parse.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/ldb/common/ldb_parse.c\n===================================================================\n--- branches/SAMBA_4_0/source/lib/ldb/common/ldb_parse.c\t2007-05-18 06:53:57 UTC (rev 22988)\n+++ branches/SAMBA_4_0/source/lib/ldb/common/ldb_parse.c\t2007-05-18 07:41:43 UTC (rev 22989)\n@@ -264,6 +264,10 @@\n \t/* retrieve attributetype name */\n \tt = p;\n \n+\tif (*p == '@') { /* for internal attributes the first char can be @ */\n+\t\tp++;\n+\t}\n+\n \twhile ((isascii(*p) && isalnum((unsigned char)*p)) || (*p == '-')) { /* attribute names can only be alphanums */\n \t\tp++;\n \t}\n\n"}