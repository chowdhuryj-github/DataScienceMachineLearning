{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "Michael Adam <ma@sernet.de>", "subject": "Rev 5378: merge from upstream in\n\thttp://samba.sernet.de/ma/bzr/SAMBA_3_0-registry.bzr/", "body": "At http://samba.sernet.de/ma/bzr/SAMBA_3_0-registry.bzr/\n\n------------------------------------------------------------\nrevno: 5378\nrevision-id: ma@sernet.de-20070602232613-1ohum1a444koaoeo\nparent: ma@sernet.de-20070531124612-vhxd3m9v060b6bj7\nparent: metze@samba.org-20070602091615-xqyv9sa9e5bvil52\ncommitter: Michael Adam \nbranch nick: SAMBA_3_0-registry.bzr\ntimestamp: Sun 2007-06-03 01:26:13 +0200\nmessage:\n  merge from upstream\nremoved:\n  source/include/core/           core-20060908151636-j1lb96adrin24xtq-1\n  source/include/core/nterr.h    nterr.h-20060908151636-j1lb96adrin24xtq-2\nmodified:\n  REVISION                       REVISION-20060530022625-68239662668b41c3\n  source/Makefile.in             Makefile.in-20060530022626-b16dac2328ebe703\n  source/configure.in            configure.in-20060530022626-07e74bc1e326c82d\n  source/include/includes.h      includes.h-20060530022627-d1a059a99c05e8be\n  source/include/rpc_eventlog.h  rpc_eventlog.h-20060530055248-c99df29844c74a4e\n  source/include/rpc_svcctl.h    rpc_svcctl.h-20060530055249-75f5a151cac2ff2f\n  source/include/smb.h           smb.h-20060530022627-6c2e6fe4eb631e83\n  source/lib/replace/Makefile.in makefile.in-20060919015053-50coyc2ouwpsm77j-6\n  source/lib/replace/README      readme-20060919015053-50coyc2ouwpsm77j-17\n  source/lib/replace/configure.ac configure.ac-20060919015053-50coyc2ouwpsm77j-22\n  source/lib/replace/dlfcn.c     dlfcn.c-20060919015053-50coyc2ouwpsm77j-27\n  source/lib/replace/dlfcn.m4    dlfcn.m4-20060919015053-50coyc2ouwpsm77j-26\n  source/lib/replace/libreplace.m4 libreplace.m4-20060919015053-50coyc2ouwpsm77j-4\n  source/lib/replace/libreplace_cc.m4 libreplace_cc.m4-20060919015053-50coyc2ouwpsm77j-12\n  source/lib/replace/replace.c   replace.c-20060919015053-50coyc2ouwpsm77j-15\n  source/lib/replace/replace.h   replace.h-20060919015053-50coyc2ouwpsm77j-19\n  source/lib/replace/system/aio.h aio.h-20070116140337-kvwj8hsibej3ya2z-1\n  source/lib/replace/system/capability.h capability.h-20060919015053-50coyc2ouwpsm77j-50\n  source/lib/replace/system/dir.h dir.h-20060919015053-50coyc2ouwpsm77j-47\n  source/lib/replace/system/filesys.h filesys.h-20060919015053-50coyc2ouwpsm77j-46\n  source/lib/replace/system/glob.h glob.h-20060919015053-50coyc2ouwpsm77j-52\n  source/lib/replace/system/iconv.h iconv.h-20060919015053-50coyc2ouwpsm77j-45\n  source/lib/replace/system/kerberos.h kerberos.h-20060919015053-50coyc2ouwpsm77j-44\n  source/lib/replace/system/locale.h locale.h-20060919015053-50coyc2ouwpsm77j-38\n  source/lib/replace/system/network.h network.h-20060919015053-50coyc2ouwpsm77j-34\n  source/lib/replace/system/passwd.h passwd.h-20060919015053-50coyc2ouwpsm77j-39\n  source/lib/replace/system/printing.h printing.h-20060919015053-50coyc2ouwpsm77j-35\n  source/lib/replace/system/readline.h readline.h-20060919015053-50coyc2ouwpsm77j-51\n  source/lib/replace/system/select.h select.h-20060919015053-50coyc2ouwpsm77j-48\n  source/lib/replace/system/shmem.h shmem.h-20060919015053-50coyc2ouwpsm77j-42\n  source/lib/replace/system/syslog.h syslog.h-20060919015053-50coyc2ouwpsm77j-49\n  source/lib/replace/system/terminal.h terminal.h-20060919015053-50coyc2ouwpsm77j-43\n  source/lib/replace/system/time.h time.h-20060919015053-50coyc2ouwpsm77j-37\n  source/lib/replace/system/wait.h wait.h-20060919015053-50coyc2ouwpsm77j-40\n  source/libmsrpc/cac_svcctl.c   cac_svcctl.c-20060530073654-79bec7da5293255c\n  source/librpc/gen_ndr/cli_svcctl.c cli_svcctl.c-20060920230954-xultw3055aka8a8w-1\n  source/librpc/gen_ndr/cli_svcctl.h cli_svcctl.h-20060920230955-x52ape11lz7b8jeo-1\n  source/librpc/gen_ndr/ndr_svcctl.c ndr_svcctl.c-20060920230957-h0bix6fzhe0qanm6-1\n  source/librpc/gen_ndr/srv_svcctl.c srv_svcctl.c-20060920231001-dc3uih95sitqxf3u-1\n  source/librpc/gen_ndr/svcctl.h svcctl.h-20060920231002-3107qr7u541y32gl-1\n  source/librpc/idl/svcctl.idl   svcctl.idl-20060919014733-4p5kqorwk9bqvxnk-13\n  source/modules/nfs4_acls.c     nfs4_acls.c-20060919014541-p8h6pru3wr0qvdka-1\n  source/modules/vfs_gpfs.c      vfs_gpfs.c-20061109202948-faf4b3d9745o8b1q-1\n  source/nsswitch/winbindd_ads.c winbindd_ads.c-20060530022627-7c5e13eefe48f902\n  source/nsswitch/winbindd_cache.c winbindd_cache.c-20060530022627-45b83e217d38566d\n  source/rpc_client/cli_svcctl.c cli_svcctl.c-20060530055340-916e41dfa21360ed\n  source/rpc_parse/parse_eventlog.c parse_eventlog.c-20060530055252-4bbbca3b61f41e79\n  source/rpc_parse/parse_svcctl.c parse_svcctl.c-20060530055253-9e7c3c6de024c0bf\n  source/rpc_server/srv_eventlog.c srv_eventlog.c-20060530055254-db3eb6fd21fab8d7\n  source/rpc_server/srv_eventlog_nt.c srv_eventlog_nt.c-20060530055256-b613397e1e3267b5\n  source/rpc_server/srv_pipe.c   srv_pipe.c-20060530022627-4557e12950afc71b\n  source/rpc_server/srv_svcctl.c srv_svcctl.c-20060530055257-a61d26dc0ae20a9d\n  source/rpc_server/srv_svcctl_nt.c srv_svcctl_nt.c-20060530055258-a8fea52fa6f0c241\n  source/smbd/reply.c            reply.c-20060530022627-92de20342694c043\n  source/smbd/server.c           server.c-20060530022627-212a418ec1144979\n  source/utils/net_rpc_service.c net_rpc_service.c-20060530055341-4e68404dde899ff5\n    ------------------------------------------------------------\n    revno: 5275.1.770\n    merged: metze@samba.org-20070602091615-xqyv9sa9e5bvil52\n    parent: metze@samba.org-20070602084547-0yghq0uskqx8e26i\n    committer: metze@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Sat 2007-06-02 04:16:15 -0500\n    message:\n      metze@samba.org (r23309)  2007-06-02 04:10:08 -0500 (Sat, 02 Jun 2007)\n          \n          sync lib/replace with SAMBA_4_0\n          \n          metze\n    ------------------------------------------------------------\n    revno: 5275.1.769\n    merged: metze@samba.org-20070602084547-0yghq0uskqx8e26i\n    parent: metze@samba.org-20070602081628-0kq7ml5or6tpmwda\n    committer: metze@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Sat 2007-06-02 03:45:47 -0500\n    message:\n      metze@samba.org (r23307)  2007-06-02 03:30:42 -0500 (Sat, 02 Jun 2007)\n          \n          move readahead stuff out of libreplace and make it samba3 specific\n          as we can't replace this function in libreplace and we do\n          the some stuff for other function in the same way. \n          \n          metze\n    ------------------------------------------------------------\n    revno: 5275.1.768\n    merged: metze@samba.org-20070602081628-0kq7ml5or6tpmwda\n    parent: ab@samba.org-20070602063032-uvrj3iidyne9hqe1\n    committer: metze@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Sat 2007-06-02 03:16:28 -0500\n    message:\n      metze@samba.org (r23305)  2007-06-02 03:14:27 -0500 (Sat, 02 Jun 2007)\n          \n          merge from samba4:\n          \n          fix large file support on HP-UX 11.00 and 11.11\n          \n          metze\n    ------------------------------------------------------------\n    revno: 5275.1.767\n    merged: ab@samba.org-20070602063032-uvrj3iidyne9hqe1\n    parent: jpeach@samba.org-20070601194603-2rsnwyp9rvcwm1vq\n    committer: ab@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Sat 2007-06-02 01:30:32 -0500\n    message:\n      ab@samba.org (r23302)  2007-06-02 01:28:38 -0500 (Sat, 02 Jun 2007)\n          \n          Refactor vfs_gpfs module, fix problems with chmod Tridge has found during ctdb tests\n    ------------------------------------------------------------\n    revno: 5275.1.766\n    merged: jpeach@samba.org-20070601194603-2rsnwyp9rvcwm1vq\n    parent: jpeach@samba.org-20070601194558-fttfr5wtsn6mz5or\n    committer: jpeach@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 14:46:03 -0500\n    message:\n      jpeach@samba.org (r23300)  2007-06-01 14:42:23 -0500 (Fri, 01 Jun 2007)\n          \n          AFAICT these are not needed. Jerry, can you please review and revert\n          if this is not correct.\n          \n    ------------------------------------------------------------\n    revno: 5275.1.765\n    merged: jpeach@samba.org-20070601194558-fttfr5wtsn6mz5or\n    parent: vlendec@samba.org-20070601184600-q14exoauy7tk2uj5\n    committer: jpeach@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 14:45:58 -0500\n    message:\n      jpeach@samba.org (r23299)  2007-06-01 14:34:08 -0500 (Fri, 01 Jun 2007)\n          \n          Fix the build for !WITH_SENDFILE.\n          \n    ------------------------------------------------------------\n    revno: 5275.1.764\n    merged: vlendec@samba.org-20070601184600-q14exoauy7tk2uj5\n    parent: jpeach@samba.org-20070601161556-m511bqwz19c7xtzs\n    committer: vlendec@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 13:46:00 -0500\n    message:\n      vlendec@samba.org (r23297)  2007-06-01 13:39:50 -0500 (Fri, 01 Jun 2007)\n          \n          This introduces the winbind:ads parameter which defaults to True. Setting it\n          to False makes winbind use RPC and not LDAP methods to connect to the DCs,\n          even when it figured out they are AD.\n    ------------------------------------------------------------\n    revno: 5275.1.763\n    merged: jpeach@samba.org-20070601161556-m511bqwz19c7xtzs\n    parent: obnox@samba.org-20070601123105-5xvaaroct989x0w9\n    committer: jpeach@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 11:15:56 -0500\n    message:\n      jpeach@samba.org (r23295)  2007-06-01 11:06:40 -0500 (Fri, 01 Jun 2007)\n          \n          binaries.  Fix vfs_zfsacl build rule in SAMBA_3_0.\n          \n    ------------------------------------------------------------\n    revno: 5275.1.762\n    merged: obnox@samba.org-20070601123105-5xvaaroct989x0w9\n    parent: obnox@samba.org-20070601123101-t3id1cjvibxmwfpd\n    committer: obnox@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 07:31:05 -0500\n    message:\n      obnox@samba.org (r23291)  2007-06-01 07:24:57 -0500 (Fri, 01 Jun 2007)\n          \n          Undo the somewhat naive change of r23279:\n          The clear text presentaion of the sid in the ldap expression\n          does work with w2k3 but not with w2k....\n          \n          Thanks to Guenther for advising me of this issue.\n          \n          Michael\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.761\n    merged: obnox@samba.org-20070601123101-t3id1cjvibxmwfpd\n    parent: obnox@samba.org-20070601101551-60dd45eqlxezsisx\n    committer: obnox@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 07:31:01 -0500\n    message:\n      obnox@samba.org (r23290)  2007-06-01 07:18:16 -0500 (Fri, 01 Jun 2007)\n          \n          Fix another small and stupid but severe typo. \n          Hopfully, I have finally got this right... :-)\n          \n          Michael\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.760\n    merged: obnox@samba.org-20070601101551-60dd45eqlxezsisx\n    parent: obnox@samba.org-20070601000110-8vugr58jdmtvgzv0\n    committer: obnox@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Fri 2007-06-01 05:15:51 -0500\n    message:\n      obnox@samba.org (r23287)  2007-06-01 05:10:57 -0500 (Fri, 01 Jun 2007)\n          \n          Use talloc_move instead of talloc_steal as this is what I really\n          wanted to do.\n          \n          Michael\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.759\n    merged: obnox@samba.org-20070601000110-8vugr58jdmtvgzv0\n    parent: obnox@samba.org-20070601000106-klyr8j9j8srqfr8d\n    committer: obnox@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 19:01:10 -0500\n    message:\n      obnox@samba.org (r23284)  2007-05-31 18:58:56 -0500 (Thu, 31 May 2007)\n          \n          Oh what a nasty typo! This gave me some headache,\n          with talloc randomly failing.\n          \n          Hey, shouldn't TALLOC_ARRAY _not_ return NULL when\n          requested to allocate an array with zero entries? :-)\n          \n          Michael\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.758\n    merged: obnox@samba.org-20070601000106-klyr8j9j8srqfr8d\n    parent: obnox@samba.org-20070531221546-2iu2wmmsehwo881s\n    committer: obnox@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 19:01:06 -0500\n    message:\n      obnox@samba.org (r23283)  2007-05-31 18:55:37 -0500 (Thu, 31 May 2007)\n          \n          Use a temporary talloc context in ads:lookup_groupmem. \n          And clean up unused stuff at the end.\n          Daringly, I use talloc_steal at some point, where it \n          appears natural to me.\n          \n          Michael\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.757\n    merged: obnox@samba.org-20070531221546-2iu2wmmsehwo881s\n    parent: jerry@samba.org-20070531180122-vn0zef6l4o4ns9r0\n    committer: obnox@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 17:15:46 -0500\n    message:\n      obnox@samba.org (r23279)  2007-05-31 17:02:49 -0500 (Thu, 31 May 2007)\n          \n          Replace occurrence of sid_binstring inside lookup_groupmem \n          by sid_string_static.\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.756\n    merged: jerry@samba.org-20070531180122-vn0zef6l4o4ns9r0\n    parent: jra@samba.org-20070531173108-pd20mn8o4mjoxzlp\n    committer: jerry@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 13:01:22 -0500\n    message:\n      jerry@samba.org (r23274)  2007-05-31 12:59:04 -0500 (Thu, 31 May 2007)\n          \n          merge CloseEventlog() pidl conversion from 3.0.26 && fix a few init call renames for svcctl in the previous commit\n    ------------------------------------------------------------\n    revno: 5275.1.755\n    merged: jra@samba.org-20070531173108-pd20mn8o4mjoxzlp\n    parent: jerry@samba.org-20070531173102-nevn4ep73ntl5i8b\n    committer: jra@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 12:31:08 -0500\n    message:\n      jra@samba.org (r23272)  2007-05-31 12:26:30 -0500 (Thu, 31 May 2007)\n          \n          Fix main event loop - reviewed by Volker.\n          Jeremy.\n          \n    ------------------------------------------------------------\n    revno: 5275.1.754\n    merged: jerry@samba.org-20070531173102-nevn4ep73ntl5i8b\n    parent: jerry@samba.org-20070531160135-6i1zq1rwoayfl4q0\n    committer: jerry@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 12:31:02 -0500\n    message:\n      jerry@samba.org (r23271)  2007-05-31 12:24:30 -0500 (Thu, 31 May 2007)\n          \n          merge service control pidl change for CloseServiceHandle() from SAMBA_3_0_26\n    ------------------------------------------------------------\n    revno: 5275.1.753\n    merged: jerry@samba.org-20070531160135-6i1zq1rwoayfl4q0\n    parent: jerry@samba.org-20070531154556-gsp0tnnuy07kbvm9\n    committer: jerry@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 11:01:35 -0500\n    message:\n      jerry@samba.org (r23269)  2007-05-31 10:46:01 -0500 (Thu, 31 May 2007)\n          \n          Regenerate svcctl files after IDL fixes\n          \n          \n    ------------------------------------------------------------\n    revno: 5275.1.752\n    merged: jerry@samba.org-20070531154556-gsp0tnnuy07kbvm9\n    parent: vlendec@samba.org-20070531093055-7noao632793n3yf8\n    committer: jerry@samba.org\n    branch nick: SAMBA_3_0.bzr\n    timestamp: Thu 2007-05-31 10:45:56 -0500\n    message:\n      jerry@samba.org (r23268)  2007-05-31 10:43:40 -0500 (Thu, 31 May 2007)\n          \n          Rename some variables in the svcctl.idl to prevent \n          redeclaration compile failures in the generated client \n          code.\n          \n          \n\nDiff too large for email (4069 lines, the limit is 1000).\n\n"}