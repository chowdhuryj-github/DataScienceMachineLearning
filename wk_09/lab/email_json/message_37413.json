{"category": "ham", "to_address": "R-help@stat.math.ethz.ch", "from_address": "Robert A LaBudde <ral@lcfltd.com>", "subject": "Re: [R] How to reference or sort rownames in a data frame", "body": "Thanks, Gabor.\n\nI have to say I wouldn't have figured this out easily.\n\nI'd summarize your comments by:\n\n1. Remember to use arrays of logicals as indices.\n2. Remember %in% for combination matches.\n3. Remember which() to get indices.\n\nIt is the small tasks which appear most difficult to figure out in R.\n\nAt 10:29 PM 5/27/2007, Gabor wrote:\n>On 5/27/07, Robert A. LaBudde  wrote:\n>>As I was working through elementary examples, I was using dataset\n>>\"plasma\" of package \"HSAUR\".\n>>\n>>In performing a logistic regression of the data, and making the\n>>diagnostic plots (R-2.5.0)\n>>\n>>data(plasma,package='HSAUR')\n>>plasma_1<- glm(ESR ~ fibrinogen * globulin, data=plasma, family=binomial())\n>>layout(matrix(1:4,nrow=2))\n>>plot(plasma_1)\n>>\n>>I find that data points corresponding to rownames 17 and 23 are\n>>outliers and high leverage.\n>>\n>>I would then like to perform a fit without these two rows.\n>>\n>>In principle this should be easy, using an update() with subset=-c(17,23).\n>>\n>>The problem is that the rownames in this dataset are not ordered,\n>>and, in fact, the relevant rows are 30 and 31, not 17 and 23.\n>>\n>>This brings up the following (elementary?) questions:\n>>\n>>1. How do you reference rows in \"subset=\" for which you know the\n>>rownames, but not the row numbers?\n>\n>Use a logical vector:\n>\n>   rownames(plasma) %in% c(17, 23)\n>\n>>\n>>2. How do you discovery the rows corresponding to particular\n>>rownames? (Using plasma[rownames(plasma)==17,] shows the data, but\n>>NOT the row number!) (Probably the same answer as in Q. 1 above.)\n>\n>  which(rownames(plasma) %in% c(17, 23)) # 30, 31\n>\n>>\n>>3. How do you sort (order) the rows of an existing data frame so that\n>>the rownames are in order?\n>\n>\n>  plasma[order(as.numeric(rownames(plasma))), ]\n\n================================================================\nRobert A. LaBudde, PhD, PAS, Dpl. ACAFS  e-mail: ral@lcfltd.com\nLeast Cost Formulations, Ltd.            URL: http://lcfltd.com/\n824 Timberlake Drive                     Tel: 757-467-0954\nVirginia Beach, VA 23464-3239            Fax: 757-467-2947\n\n\"Vere scire est per causas scire\"\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}