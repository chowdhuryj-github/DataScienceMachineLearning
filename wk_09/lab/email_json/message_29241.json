{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "jake <jake@fantasticteam.com>", "subject": "[R] Dropdown boxes in tcltk and R", "body": "Hello,\n\nI'm very much a newbie in R and more so in tcltk so apologies if this \nquestion is stupid.  Basically I am trying to use the combobox example \nfound here: \nhttp://bioinf.wehi.edu.au/~wettenhall/RTclTkExamples/DropDown.html .\n\nWhat I want to do is in that example get fruitChoice as a variable in R \nin general. When I run that code, however, and the ask for fruitChoice \nit says 'error not found'. I suspect it's because its embedded in a \nfunction, but I can't work out how to unravel it. I've tried something \nlike this to no avail.\n\nrequire(tcltk)\ntclRequire(\"BWidget\")\ntt <- tktoplevel()\ntkgrid(tklabel(tt,text=\"What's your favorite fruit?\"))\nfruits <- c(\"Apple\",\"Orange\",\"Banana\",\"Pear\")\ncomboBox <- tkwidget(tt,\"ComboBox\",editable=FALSE,values=fruits)\ntkgrid(comboBox)\n\nOnOK <- function()\n{\n    tkdestroy(tt)\n    msg <- paste(\"Good choice! \",fruitChoice,\"s are delicious!\",sep=\"\")\n    tkmessageBox(title=\"Fruit Choice\",message=msg)\n\n}\nOK.but <-tkbutton(tt,text=\"   OK   \",command=OnOK)\ntkgrid(OK.but)\ntkfocus(tt)\n\ntkwait.window(tt)\n\nfruitChoice <- fruits[as.numeric(tclvalue(tcl(comboBox,\"getvalue\")))+1]\n\nfruitChoice\n\nWhich gives me:\n\nError in structure(.External(\"dotTclObjv\", objv, PACKAGE = \"tcltk\"), \nclass = \"tclObj\") :\n        [tcl] invalid command name \".14.2\".\n\nWhat do I need to change to get the variable? That is, if I pick \n\"orange\", I want a variable with the value \"orange\".\n\nThanks for your reply, I'm sure this is something simple I've overlooked,\n\nJake\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}