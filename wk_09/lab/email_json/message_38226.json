{"category": "ham", "to_address": "beginners@perl.org", "from_address": "zentara <zentara@highstream.net>", "subject": "Re: IO::Socket::INET client hangs on no server  on windoze", "body": "On 28 May 2007 08:28:35 -0700, ken@shail.co.uk (kenTk) wrote:\n\n>If there is no server or no connection this hangs for about 20 seconds\n>and then crashes with the following error message.\n>The Timeout seems to make no difference and the 'warn' does not occur.\n>If works file with a good connection to a server.\n>Using 5.8.8 active perl.\n>Anyone got any suggestions for making it return undef in an orderly\n>fashion?\n>(I have tested it on Linux and it seems to work fine both ways)\n>\n>use strict;\n>use warnings;\n>use IO::Socket::INET;\n>\n>sub testSocket\n>{\n>  my $sock;\n>  my $ok=0;\n>  unless( $sock=IO::Socket::INET->new(192.168.5.41,\n>                                 PeerPort => '21',\n>                                 Proto    => 'tcp',\n>                                 Timeout  =>'3'))\n\nare you sure that '21' and  '3' should be quoted?\nMaybe Perl figures it's context and does the right thing on linux?\n\n>  {  warn 'Cant connect'; }\n>  else\n>  { $sock->close;  $ok=1; }\n> return $ok;\n>}\n>\n\nI don't use win32, but have seen these somewhat related posts:\nhttp://perlmonks.org?node_id=567912\n\nhttp://perlmonks.org?node_id=529812\n\n\n\nzentara\n\n\n\n\n\n\n\n\n-- \nI'm not really a human, but I play one on earth.\nhttp://zentara.net/japh.html\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}