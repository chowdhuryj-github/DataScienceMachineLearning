{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 164: - added a --torture option to all ctdb tools. This sets in\n\thttp://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 164\nrevision-id: tridge@samba.org-20070419062756-3173365728e1cd4f\nparent: tridge@samba.org-20070419025451-eaea0b4b18ce3fa5\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Thu 2007-04-19 16:27:56 +1000\nmessage:\n  - added a --torture option to all ctdb tools. This sets\n    CTDB_FLAG_TORTURE, which forces some race conditions to be much more\n    likely. For example a 20% chance of not getting the lock on the\n    first try in the daemon\n  \n  - abstraced the ctdb_ltdb_lock_fetch_requeue() code to allow it to\n    work with both inter-node packets and client->daemon packets\n  \n  - fixed a bug left over in ctdb_call from when the client updated the\n    header on a call reply\n  \n  - removed CTDB_FLAG_CONNECT_WAIT flag (not needed any more)\nmodified:\n  common/cmdline.c               cmdline.c-20070416041216-w1zvz91bkdsgjckw-1\n  common/ctdb.c                  ctdb.c-20061127094323-t50f58d65iaao5of-2\n  common/ctdb_call.c             ctdb_call.c-20061128065342-to93h6eejj5kon81-1\n  common/ctdb_client.c           ctdb_client.c-20070411010216-3kd8v37k61steeya-1\n  common/ctdb_daemon.c           ctdb_daemon.c-20070409200331-3el1kqgdb9m4ib0g-1\n  common/ctdb_ltdb.c             ctdb_ltdb.c-20061128065342-to93h6eejj5kon81-2\n  include/ctdb.h                 ctdb.h-20061117234101-o3qt14umlg9en8z0-11\n  include/ctdb_private.h         ctdb_private.h-20061117234101-o3qt14umlg9en8z0-13\n  tcp/tcp_init.c                 tcp_init.c-20061128004937-x70q1cu5xzg5g2tm-2\n\nDiff too large for email (471, the limit is 200).\n\n"}