{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Mohammad Ehsanul Karim <wildscop@yahoo.com>", "subject": "Re: [R] Extracting approximate Wald test (Chisq) from\n\tcoxph(..frailty)", "body": "Dear list,\n\nI need to extract the approximate Wald test (Chisq) so\nthat I can put it in a loop. str seemed like a great\nidea, but I cannot seem to find the approximate Wald\ntest for frailty (in the example data below: 17.89 and\nits p-value 0.12000) there. I cannot seem to find it\nin capture.output either as numeric form. Do I need to\nmodify some given values? If yes, please give me a\nclue for the example:\n\nlibrary(survival)\nkfitm1<-coxph(formula = Surv(time, status) ~ age +\nsex +disease + frailty(id, dist = \"gauss\"), \ndata = kidney)\nstr(kfitm1)\ncapture.output( print(kfitm1) )\n\n\nMohammad Ehsanul Karim (R - 2.3.1 on windows)\nwildscop at yahoo dot com\nInstitute of Statistical Research and Training\nUniversity of Dhaka\n\n\n________________________________\nOn Tue, 17 Apr 2007, Mohammad Ehsanul Karim wrote:\nYou _can_ use  \ttmp <- capture.output( print(  ) ) and then further process tmp. A _better_\nsolution for most purposes is to look at the object\nproduced by coxph() and figure out how to calculate\nthe Wald statistic from that \nobject. See  \t?coxph.object and  \t?str\nAnother tactic is to look at how print.coxph() does\nits work and use the code in it to produce just the\noutput you desire. Look at page(\nsurvival:::print.coxph, \"print\" )\n\nAssign the output of coxph to some object, and use the\n$ extractor function to obtain what you need. ie:\nrtfm <- coxph(formula = Surv(time, status) ~ age + sex\n+  disease + frailty(id, dist = \"gauss\"), data =\nkidney) \nAge <- coef(rtfm)[\"age\"]\nOR\nSex <- rtfm$coef[\"sex\"]\n\nMohammad Ehsanul Karim wrote:\n> Dear List,\n> How do I extract the approximate Wald test for the\n> frailty (in the following example 17.89 value)?\n> What about the P-values, other Chisq, DF, se(coef)\nand > se2? How can they be extracted?\n######################################################>\nkfitm1\n> Call:\n> coxph(formula = Surv(time, status) ~ age + sex +\n> disease + frailty(id, dist = \"gauss\"), data =\nkidney)\n> \n>                           coef     se(coef)\n> age                        0.00489 0.0150  \n> sex                       -1.69703 0.4609  \n> diseaseGN                  0.17980 0.5447  \n> diseaseAN                  0.39283 0.5447  \n> diseasePKD                -1.13630 0.8250  \n> frailty(id, dist = \"gauss                  \n>                           se2    Chisq DF  \n> age                       0.0106  0.11  1.0\n> sex                       0.3617 13.56  1.0\n> diseaseGN                 0.3927  0.11  1.0\n> diseaseAN                 0.3982  0.52  1.0\n> diseasePKD                0.6173  1.90  1.0\n> frailty(id, dist = \"gauss        17.89 12.1\n>                           p      \n> age                       0.74000\n> sex                       0.00023\n> diseaseGN                 0.74000\n> diseaseAN                 0.47000\n> diseasePKD                0.17000\n> frailty(id, dist = \"gauss 0.12000\n> \n> Iterations: 6 outer, 30 Newton-Raphson\n>      Variance of random effect= 0.493 \n> Degrees of freedom for terms=  0.5  0.6  1.7 12.1 \n> Likelihood ratio test=47.5  on 14.9 df, p=2.82e-05 \nn=\n> 76\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}