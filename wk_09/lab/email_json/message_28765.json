{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jerry@samba.org", "subject": "svn commit: samba r22822 - in\n\tbranches/SAMBA_3_0_RELEASE/source/auth: .", "body": "Author: jerry\nDate: 2007-05-13 11:55:59 +0000 (Sun, 13 May 2007)\nNew Revision: 22822\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22822\n\nLog:\nmerge vl's fix for BUG 4613\nModified:\n   branches/SAMBA_3_0_RELEASE/source/auth/auth_util.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0_RELEASE/source/auth/auth_util.c\n===================================================================\n--- branches/SAMBA_3_0_RELEASE/source/auth/auth_util.c\t2007-05-13 04:38:44 UTC (rev 22821)\n+++ branches/SAMBA_3_0_RELEASE/source/auth/auth_util.c\t2007-05-13 11:55:59 UTC (rev 22822)\n@@ -1874,6 +1874,30 @@\n \t\treturn NT_STATUS_NO_MEMORY;\n \t}\n \n+\tif (!pdb_set_pass_last_set_time(\n+\t\t    sam_account,\n+\t\t    nt_time_to_unix(info3->pass_last_set_time),\n+\t\t    PDB_CHANGED)) {\n+\t\tTALLOC_FREE(sam_account);\n+\t\treturn NT_STATUS_NO_MEMORY;\n+\t}\n+\n+\tif (!pdb_set_pass_can_change_time(\n+\t\t    sam_account,\n+\t\t    nt_time_to_unix(info3->pass_can_change_time),\n+\t\t    PDB_CHANGED)) {\n+\t\tTALLOC_FREE(sam_account);\n+\t\treturn NT_STATUS_NO_MEMORY;\n+\t}\n+\n+\tif (!pdb_set_pass_must_change_time(\n+\t\t    sam_account,\n+\t\t    nt_time_to_unix(info3->pass_must_change_time),\n+\t\t    PDB_CHANGED)) {\n+\t\tTALLOC_FREE(sam_account);\n+\t\treturn NT_STATUS_NO_MEMORY;\n+\t}\n+\n \tresult = make_server_info(NULL);\n \tif (result == NULL) {\n \t\tDEBUG(4, (\"make_server_info failed!\\n\"));\n\n"}