{"category": "ham", "to_address": "\"Pedro Mardones\" <mardones.p@gmail.com>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] question about formula for lm", "body": "A couple of easy ways are to create the calling sequence as a call or\ncharacter string and then evaluate it:\n\neval(bquote(lm(.(as.name(Ytext)) ~ Xvar, X)))\n\neval(parse(text = paste(\"lm(\", Ytext, \"~ Xvar, X)\")))\n\nNote that these solutions both have the advantage over some of the prior\nsolutions that the output from print.lm shows which variable was actually used\nafter Call:\n\n\n> eval(bquote(lm(.(as.name(Ytext)) ~ Xvar, X)))\nCall:\nlm(formula = Yvar ~ Xvar, data = X)  <--- This line comes out meaningfully!!!\n\nCoefficients:\n(Intercept)         Xvar\n     0.3300       0.9729\n\n\nOn 6/14/07, Pedro Mardones  wrote:\n> Dear all;\n>\n> Is there any way to make this to work?:\n>\n> .x<-rnorm(50,10,3)\n> .y<-.x+rnorm(50,0,1)\n>\n> X<-data.frame(.x,.y)\n> colnames(X)<-c(\"Xvar\",\"Yvar\")\n>\n> Ytext<-\"Yvar\"\n>\n> lm(Ytext~Xvar,data=X) # doesn't run\n>\n> lm(Yvar~Xvar,data=X) # does run\n>\n> The main idea is to use Ytext as input in a function, so you just type\n> \"Yvar\" and the model should fit....\n> Also, I need to avoid the expression X$Yvar~X$Xvar\n>\n> Thanks for any idea\n>\n> PM\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}