{"category": "ham", "to_address": "<juryef@yahoo.com>", "from_address": "\"S Ellison\" <S.Ellison@lgc.co.uk>", "subject": "Re: [R] Legend outside plotting area", "body": "Judith,\n\nHaven't tried it in anger myself, but two things suggest themselves. The first is to use the lattice package, which seems to draw keys (autokey option) outside the plot region by default. Look at the last couple of examples in ?xyplot. May save a lot of hassle...\n\nIn classical R graphics, have you tried plotting everything explicitly inside a plot region with margins at zero? \n\nFor example:\nplot.new()\npar(mar=c(0,0,0,0))\nplot.window(xlim=c(-2,11), ylim=c(-3,13))\npoints(1:10,1:10, pch=1)\npoints(1:10,10:1, pch=19)\npar(srt=90)\ntext(x=-2, y=5, \"y-axis\", pos=1, offset=0.5)\npar(srt=0)\ntext(c(5,5), c(13,-1), labels=c(\"Title\",\"x-axis\"), pos=1, offset=0.7, cex=c(1.5,1))\nrect(-0.2,-0.2, 11.2,11.2)\naxis(side=1, at=0:10, pos=-0.2)\naxis(side=2, at=0:10, pos=-0.2)\nlegend(x=5, y=-2, xjust=0.5, pch=c(1,19), legend=c(\"Type 1\", \"Type 19\"), ncol=2)\n\nAll very tedious, but it works. Also, fiddling around with things like pretty() on the data can automate most of the above positional choices if you're so inclined. And legend(..., plot=F) returns the legend size and coordinates if you want to fine-tune the location.\n\nSteve E\n\n>>>  23/05/2007 13:14:54 >>>\nQuoting Judith Flores :\n\n> Hi,\n>\n>     I have been trying many of the suggested options\n> to place a legend outside plotting area, including\n> something like this:\n>\n> par(xpd=T,\n> oma=par()$oma+c(4.5,0,1.5,0),mar=par()$mar+c(1,0,1,0)\n>\n>\n>     But the aspect of the four plots gets compromised\n> when I change the margin settings. I cannot use mtext\n> because I need to use colors for the text. I tried\n> layout, but wouldn't let me include the legend, only\n> plots.\n>\n>    I would appreciate very much some more help.\n>\n> Regards,\n>\n> J\n\n\n*******************************************************************\nThis email and any attachments are confidential. Any use, co...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}