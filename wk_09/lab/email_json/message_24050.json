{"category": "ham", "to_address": "attenka@utu.fi, r-help@stat.math.ethz.ch", "from_address": "(Ted Harding) <ted.harding@nessie.mcc.ac.uk>", "subject": "Re: [R] A function for raising a matrix to a power?", "body": "[Apologies: This will probably break the thread, but at the moment\nI cannot receive mail since my remote mail-server is down, and so\nam responding to the message as found on the R-help archives;\nhence this is not a \"Reply\"]\n\nFrom:\nAtte Tenkanen attenka at utu.fi\nSun May 6 11:07:07 CEST 2007\n\n> Is there a function for raising a matrix to a power? For example if you\n> like to compute A%*%A%*%A, is there an abbreviation similar to A^3?\n> \n> Atte Tenkanen\n> \n> > A=rbind(c(1,1),c(-1,-2))\n> > A\n>      [,1] [,2]\n> [1,]    1    1\n> [2,]   -1   -2\n> > A^3\n>      [,1] [,2]\n> [1,]    1    1\n> [2,]   -1   -8\n> \n> But:\n> \n> > A%*%A%*%A\n>      [,1] [,2]\n> [1,]    1    2\n> [2,]   -2   -5\n\n\nOf course, \"^\" alone acts element-wise on the matrix A, so the result\nof A^3 is the matrix B where B[i,j] = A[i,j]^3.\n\nHowever, you can write your own, and call it for instance \"%^%\":\n\n\"%^%\"<-function(A,n){\n  if(n==1) A else {B<-A; for(i in (2:n)){A<-A%*%B}}; A\n  }\n\nThen:\n\n> A\n     [,1] [,2]\n[1,]    1    1\n[2,]   -1   -2\n\n> A%^%1\n     [,1] [,2]\n[1,]    1    1\n[2,]   -1   -2\n\n> A%^%2\n     [,1] [,2]\n[1,]    0   -1\n[2,]    1    3\n\n> A%^%3\n     [,1] [,2]\n[1,]    1    2\n[2,]   -2   -5\n\n> A%^%100\n              [,1]          [,2]\n[1,] -1.353019e+20 -3.542248e+20\n[2,]  3.542248e+20  9.273727e+20\n\n\nHoping this helps!\nTed.\n\n--------------------------------------------------------------------\nE-Mail: (Ted Harding) \nFax-to-email: +44 (0)870 094 0861\nDate: 06-May-07                                       Time: 11:35:31\n------------------------------ XFMail ------------------------------\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}