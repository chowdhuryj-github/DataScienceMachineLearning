{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Vittorio De Martino <vittorio@de-martino.it>", "subject": "Re: [R] Reading a web page in pdf format", "body": "Great! It's a wonderful mailing list  full of helpful people!\nThanks to all of you\n\nVittorio\n\nIl Wednesday 09 May 2007 18:57:39 Gabor Grothendieck ha scritto:\n> Here is one additional solution.  This one produces a data frame.  The\n> regular expression removes:\n>\n> - everything from beginning to first (\n> - everything from last ( to end\n> - everything between ) and ( in the middle\n>\n> The | characters separate the three parts.  Then read.table reads it in.\n>\n>\n> URL <-\n> \"http://www.snamretegas.it/italiano/business/gas/bilancio/pdf/bilancio.pdf\"\n> Lines.raw <- readLines(URL)\n> Lines <- grep(\"Industriale|Termoelettrico\", Lines.raw, value = TRUE)\n>\n> rx <- \"^[^(]*[(]|[)][^(]*$|[)][^(]*[(]\"\n> read.table(textConnection(gsub(rx, \"\", Lines)), dec = \",\")\n>\n> On 5/9/07, Gabor Grothendieck  wrote:\n> > Modify this to suit.  After grepping out the correct lines we use\n> > strapply to find and emit character sequences that come after a \"(\" but\n> > do not contain a \")\" .  back = -1 says to only emit the backreferences\n> > and not the entire matched expression (which would have included the\n> > leading \"(\" ):\n> >\n> > URL <-\n> > \"http://www.snamretegas.it/italiano/business/gas/bilancio/pdf/bilancio.pd\n> >f\" Lines.raw <- readLines(URL)\n> > Lines <- grep(\"Industriale|Termoelettrico\", Lines.raw, value = TRUE)\n> > library(gsubfn)\n> > strapply(Lines, \"[(]([^)]*)\", back = -1, simplify = rbind)\n> >\n> > which gives a character matrix whose first column is the label\n> > and second column is the number in character form.  You can\n> > then manipulate it as desired.\n> >\n> > On 5/9/07, Vittorio  wrote:\n> > > Each day the daily balance in the following link\n> > >\n> > > http://www.\n> > > snamretegas.it/italiano/business/gas/bilancio/pdf/bilancio.pdf\n> > >\n> > > is\n> > > updated.\n> > >\n> > > I would like to set up an R procedure to be run daily in a\n> > > server able to read the figures in a couple of lines only\n> > > (\"Industriale\" and \"Termoelettrico\", towards the end of the balance)\n> > > and put the data in a table.\n> > >\n> > > Is that possible? If yes, what R-packages\n> > > should I use?\n> > >\n> > > Ciao\n> > > Vittorio\n> > >\n> > > ______________________________________________\n> > > R-help@stat.math.ethz.ch mailing list\n> > > https://stat.ethz.ch/mailman/listinfo/r-help\n> > > PLEASE do read the posting guide\n> > > http://www.R-project.org/posting-guide.html and provide commented,\n> > > minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}