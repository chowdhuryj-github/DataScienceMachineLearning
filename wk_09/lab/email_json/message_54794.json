{"category": "ham", "to_address": "\"Prof Brian Ripley\" <ripley@stats.ox.ac.uk>", "from_address": "\"Vivek Menon\" <vivek.menon79@gmail.com>", "subject": "Re: [R] R-2.5.0 compilation problem on Linux powerpc", "body": "After setting the flags to -fPIC using ./configure --with-x=no\n--with-lapack=\"/apps/lib/LAPACK/lapack_LINUX.a\" CPICFLAGS=-fPIC\nFPICFLAGS=-fPIC\nI still get the following errors:cc -std=gnu99 -shared -L/usr/local/lib -o\ngrDevices.so chull.o devNull.o devPicTeX.o devPS.o devQuartz.o init.o\nmake[5]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0\n/src/library/grDevices/src'\nmake[4]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0\n/src/library/grDevices/src'\nWarning: unable to load shared library '/home/vivekv/sw_alg/R-2.5.0\n/modules//lapack.so':\n  /home/vivekv/sw_alg/R-2.5.0/modules//lapack.so: R_PPC_REL24 relocation at\n0x0e65d864 for symbol `strlen' out of range\nError in solve.default(rgb) : lapack routines cannot be loaded\nError: unable to load R code in package 'grDevices'\nExecution halted\nmake[3]: *** [all] Error 1\nmake[3]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0\n/src/library/grDevices'\nmake[2]: *** [R] Error 1\nmake[2]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0/src/library'\nmake[1]: *** [R] Error 1\nmake[1]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0/src'\nmake: *** [R] Error 1\n---------------------------------\nThanks,\nVivek\n\n\n\n> > > uname -a gives me this:==========\n> > > Linux XXXXXXXX 2.6.21.1-xserve #17 SMP Thu Jun 14 19:45:57 MDT 2007\n> > ppc64\n> > > ppc64 ppc64 GNU/Linux\n> > > ===========\n> > > Also when I configure I see the foll. output:\n> > > ====================\n> > > R is now configured for powerpc64-unknown-linux-gnu\n> >\n> > That might be the problem: 'powerpc64' not 'ppc64'.  What Linux distro\n> > is\n> > this?\n>\n>\n>\n> I am using Yellow Dog Linux distro.\n>\n> > Source directory:          .\n> > > Installation directory:    /usr/local\n> > >\n> > > C compiler:                gcc -std=gnu99  -g -O2\n> > > Fortran 77 compiler:       gfortran  -g -O2\n> > >\n> > > C++ compiler:              g++  -g -O2\n> > > Fortran 90/95 compiler:    gfortran -g -O2\n> > > Obj-C compiler:\n> > >\n> > > Interfaces supported:\n> > > External libraries:        readline\n> > > Additional capabilities:   PNG, iconv, MBCS, NLS\n> > > Options enabled:           shared BLAS, R profiling, Java\n> > >\n> > > Recommended packages:      yes\n> > > ============================\n> > > Do you have any suggestions??\n> >\n> > And what is the setting of the flags I mentioned?  See the manual I\n> > pointed you to, or the Makeconf file?\n>\n>\n>\n> I checked the Makeconf file and found the following settings:\n> CPICFLAGS = -fpic\n> FPICFLAGS = -fpic\n>\n>\n> Thanks,\n> Vivek\n>\n>\n> > Thanks,\n> > > Vivek\n> > > On 6/25/07, Prof Brian Ripley < ripley@stats.ox.ac.uk> wrote:\n> > >>\n> > >> Is this ppc32 or ppc64?  (What does uname -a say?)\n> > >>\n> > >> If the former, you might need to set CPICFLAGS and FPICFLAGS to -fPIC\n> > >> (rather than -fpic): please look these up in the R-admin.html file\n> > (which\n> > >> INSTALL points you to).\n> > >>\n> > >> For ppc64 configure should have found -fPIC.\n> > >>\n> > >> On Mon, 25 Jun 2007, Vivek Menon wrote:\n> > >>\n> > >> > Hello everybody,I am having an error while compiling R-2.5.0 on\n> > Linux\n> > >> > powerpc.\n> > >> > This is what I see when I do a make:\n> > >> >\n> > >> >\n> > >> > gcc -std=gnu99 -shared -L/usr/local/lib -o grDevices.so chull.o\n> > >> devNull.o\n> > >> > devPicTeX.o devPS.o devQuartz.o init.o\n> > >> > ../../../../library/grDevices/libs/grDevices.so is unchanged\n> > >> > make[5]: Leaving directory\n> > >> > `/home/vivekv/sw_alg/R- 2.5.0/src/library/grDevices/src'\n> > >> >\n> > >> > make[4]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0\n> > >> > /src/library/grDevices/src'\n> > >> > Warning: unable to load shared library '/home/vivekv/sw_alg/R-\n> > 2.5.0\n> > >> > /modules//lapack.so':\n> > >> >  /home/vivekv/sw_alg/R- 2.5.0/modules//lapack.so: R_PPC_REL24\n> > relocation\n> > >> at\n> > >> > 0x0e65d7e4 for symbol `strlen' out of range\n> > >> > Error in solve.default(rgb) : lapack routines cannot be loaded\n> > >> > Error: unable to load R code in package 'grDevices'\n> > >> > Execution halted\n> > >> > make[3]: *** [all] Error 1\n> > >> > make[3]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0\n> > >> > /src/library/grDevices'\n> > >> > make[2]: *** [R] Error 1\n> > >> > make[2]: Leaving directory `/home/vivekv/sw_alg/R- 2.5.0\n> > /src/library'\n> > >> > make[1]: *** [R] Error 1\n> > >> > make[1]: Leaving directory `/home/vivekv/sw_alg/R-2.5.0/src'\n> > >> > make: *** [R] Error 1\n> > >> >\n> > >> > Please let me know what needs to be done for a successful\n> > installation.\n> > >> > Thanks,\n> > >> > Vivek\n> > >> >\n> > >> >       [[alternative HTML version deleted]]\n> > >> >\n> > >> > ______________________________________________\n> > >> > R-help@stat.math.ethz.ch mailing list\n> > >> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > >> > PLEASE do read the posting guide http://www.R-project.org/posting-\n> > >> guide.html\n> > >> > and provide commented, minimal, self-contained, reproducible code.\n> > >> >\n> > >>\n> > >>\n> > >> --\n> > >> Brian D. Ripley,                  ripley@stats.ox.ac.uk\n> > >> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/ ~ripley/\n> > >> University of Oxford,             Tel:  +44 1865 272861 (self)\n> > >> 1 South Parks Road,                     +44 1865 272866 (PA)\n> > >> Oxford OX1 3TG, UK                Fax:  +44 1865 272595\n> > >>\n> > >\n> >\n> >\n>\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}