{"category": "ham", "to_address": "\"Klaas-Jan Stol\" <parrotcode@gmail.com>", "from_address": "\"jerry gay\" <jerry.gay@gmail.com>", "subject": "Re: odbc.lib still linked?", "body": "On 5/20/07, Klaas-Jan Stol  wrote:\n> I sent this message a few days ago, but hasn't reached the list I think:\n>\n> hi,\n>\n>  I experimented on windows with removing some libs that seemed unnecessary,\n> and I ended with this line in my Makefile;\n>\n>\n> C_LIBS     = kernel32.lib ws2_32.lib msvcrt.lib\n>\n> which is rather shorter than:\n>\n> C_LIBS     = oldnames.lib kernel32.lib user32.lib gdi32.lib winspool.lib\n> comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib netapi32.lib\n> uuid.lib ws2_32.lib mpr.lib winmm.lib version.lib odbc32.lib odbccp32.lib\n> msvcrt.lib\n>\n> Particle mentioned that this information (what libs to link) is probably\n> coming from Perl's config.\n> I'm sending this as a TODO, so this information won't get lost.\n>\n> best,\n> kjs\n>\n> On 5/20/07, Ron Blaschke  wrote:\n> >\n> > Klaas-Jan Stol wrote:\n> >\n> > > recently a patch was supplied and applied for odbc32.lib being linked\n> > into\n> > > parrot.\n> > >\n> > > This file is not needed for Parrot, but it seems it is still linked (at\n> > > least, here on my machine, winxp).\n> > >\n> > > \\parrot\\library\\PAST-pm.pbc\n> > >        C:\\Perl\\bin\\perl.exe -e \"chdir shift @ARGV;system 'nmake',\n> > > '-nologo', @A\n> > > RGV; exit $? >> 8;\" compilers\\json\n> > >        link\n> > -out:.\\pbc_merge.exe  src\\pbc_merge.obj  src\\parrot_config.obj\n> > > lib\n> > > parrot.lib  oldnames.lib kernel32.lib user32.lib gdi32.lib\n> > > winspool.libcomdlg32\n> > > .lib advapi32.lib shell32.lib ole32.lib oleaut32.lib netapi32.lib\n> > > uuid.libws2_3\n> > > 2.lib mpr.lib winmm.lib version.lib odbc32.lib odbccp32.lib msvcrt.lib\n> > > -nologo\n> > > -nodefaultlib -debug     -machine:x86  -debug\n> > >\n> > > Check the second last line...\n> > > Should it be there?\n> >\n> > From your command line you seem to refer to Visual C++, but patch 42950\n> > looks like it's intended for MinGW.\n> >\n> > For Visual C++ the libraries are pulled in from your Perl\n> > (see perl -V:libs).\n> >\n> > Ron\n> >\n>\nthis kinda got lost since it wasn't in ticket form, but i've applied a\npatch as r18841 that specifies only the required libs for msvc-win32.\n~jerry\n\n"}