{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "derrell@samba.org", "subject": "Re: svn commit: samba r22134 - in branches/SAMBA_4_0: .\n\tsource/script/tests", "body": "jelmer@samba.org writes:\n\n> Author: jelmer\n> Date: 2007-04-09 00:53:05 +0000 (Mon, 09 Apr 2007)\n> New Revision: 22134\n>\n> WebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22134\n>\n> Log:\n> Create different smb.conf file for the client side. This should make use with Samba 3 or windows easier as well as environments.\n\nHi Jelmer,\n\nI'm not quite sure what you have in mind, and I don't know if this is\nrelevant, but just in case...\n\nIn libsmbclient, we care about client-side configuration which may differ from\nthe server configuration.  Here, in pseudo code, is what it does:\n\n    // Try to load a personal smb.conf file\n    if (lp_load($HOME/.smb/smb.conf) != SUCCESS)\n    {\n      // If that failed, try to load the system smb.conf file\n      if (lp_load(dyn_CONFIGFILE) == SUCCESS)\n      {\n        // If that succeeded,  allow local changes by appending settings\n        // in their personal smb.conf.append file.\n        lp_load($HOME/.smb/smb.conf.append)\n      }  \n    }\n\nThis handles the case where one wants to have their own entire smb.conf file,\nbut also where the system-wide smb.conf file should be used but a few changes\nto its settings made for client use in smb.conf.append.\n\nCheers,\n\nDerrell\n\n"}