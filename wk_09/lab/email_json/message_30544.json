{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "obnox@samba.org", "subject": "svn commit: samba r22918 - in branches/SAMBA_3_0/source/modules: .", "body": "Author: obnox\nDate: 2007-05-15 21:41:02 +0000 (Tue, 15 May 2007)\nNew Revision: 22918\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22918\n\nLog:\nAttempt to fix the build of the tru64acl module.\nWhere the heck did that smb_acl_permset_t come from?\nI can't remember...\n\nMichael\n\n\nModified:\n   branches/SAMBA_3_0/source/modules/vfs_tru64acl.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/modules/vfs_tru64acl.c\n===================================================================\n--- branches/SAMBA_3_0/source/modules/vfs_tru64acl.c\t2007-05-15 19:17:29 UTC (rev 22917)\n+++ branches/SAMBA_3_0/source/modules/vfs_tru64acl.c\t2007-05-15 21:41:02 UTC (rev 22918)\n@@ -28,8 +28,8 @@\n static acl_t smb_acl_to_tru64_acl(const SMB_ACL_T smb_acl);\n static acl_tag_t smb_tag_to_tru64(SMB_ACL_TAG_T smb_tag);\n static SMB_ACL_TAG_T tru64_tag_to_smb(acl_tag_t tru64_tag);\n-static acl_perm_t smb_permset_to_tru64(smb_acl_permset_t smb_permset);\n-static smb_acl_permset_t tru64_permset_to_smb(const acl_perm_t tru64_permset);\n+static acl_perm_t smb_permset_to_tru64(SMB_ACL_PERM_T smb_permset);\n+static SMB_ACL_PERM_T tru64_permset_to_smb(const acl_perm_t tru64_permset);\n \n \n /* public functions - the api */\n@@ -201,7 +201,7 @@\n \tacl_tag_t tru64_tag;\n \tacl_permset_t permset;\n \tSMB_ACL_TAG_T smb_tag_type;\n-\tsmb_acl_permset_t smb_permset;\n+\tSMB_ACL_PERM_T smb_permset;\n \tvoid *qualifier;\n \n \tif (acl_get_tag_type(tru64_ace, &tru64_tag) != 0) {\n@@ -437,7 +437,7 @@\n \treturn smb_tag_type;\n }\n \n-static acl_perm_t smb_permset_to_tru64(smb_acl_permset_t smb_permset)\n+static acl_perm_t smb_permset_to_tru64(SMB_ACL_PERM_T smb_permset)\n {\n \t/* originally, I thought that acl_clear_perm was the\n \t * proper way to reset the permset to 0. but without \n@@ -456,9 +456,9 @@\n \treturn tru64_permset;\n }\n \n-static smb_acl_permset_t tru64_permset_to_smb(const acl_perm_t tru64_permset)\n+static SMB_ACL_PERM_T tru64_permset_to_smb(const acl_perm_t tru64_permset)\n {\n-\tsmb_acl_permset_t smb_permset  = 0;\n+\tSMB_ACL_PERM_T smb_permset  = 0;\n \tsmb_permset |= ((tru64_permset & ACL_READ) ? SMB_ACL_READ : 0);\n \tsmb_permset |= ((tru64_permset & ACL_WRITE) ? SMB_ACL_WRITE : 0);\n \tsmb_permset |= ((tru64_permset & ACL_EXECUTE) ? SMB_ACL_EXECUTE : 0);\n\n"}