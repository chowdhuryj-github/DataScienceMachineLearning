{"category": "ham", "to_address": "\"geek.not@gmail.com\" <geek.not@gmail.com>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: parse help", "body": "On 6/27/07, geek.not@gmail.com  wrote:\n> > I would suggest splitting each record on \"\\n\", looping\n> > over the results checking to see if the first character is a space,\n> > and appending that line to the last field if it is or creating a new\n> > key/value pair if it isn't.\n>\n> thank you. Would you mind posting sample code that does this trick?\n\nThere is nothing tricky about it. (warning untested code)\n\nmy @records;\nlocal $/ = \"\\n\\n\"; #records are separated by two line feeds\nwhile (<>) {\n    my %rec;\n    my $name;\n    for my $field (split /\\n/) {\n        if ($field =~ /^ /) { #or if (substr($field,0, 1) eq ' ') { your choice\n            $rec{$name} .= $field;\n            next;\n        }\n        ($name, my $value) = split /=/, $field;\n        $rec{$name} = $value;\n    }\n    push @records, \\%rec;\n}\n\nfor my $rec (@records) {\n    print \"$rec->{host} is owned by $rec->{owner}\\n\";\n}\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}