{"category": "ham", "to_address": "Martin Barth <martin@senfdax.de>", "from_address": "Mathew Snyder <theillien@yahoo.com>", "subject": "Re: using a homemade perl module", "body": "I fixed all of the bugs save one.  I can't access any of my subroutines without\nexplicitly using it with dates_emails::subroutine.  I was under the impression\nthat if I was exporting them all from the module, the subroutine would be found\nregardless.\n\npackage dates_emails;\nrequire Exporter;\nuse strict;\n\nour @ISA         = qw(Exporter);\nour @EXPORT      = qw(startDate, endDate, searchStart, searchEnd);\nour @EXPORT_OK   = qw($emailTo, $emailFrom, $emailBcc);\nour %EXPORT_TAGS = {\n                dates  => [qw(startDate, endDate, searchStart, searchEnd)],\n                emails => [qw($emailTo, $emailFrom, $emailBcc)],\n                };\nour $VERSION     = '1';\n\nIt doesn't even work with 'use dates_emails(\"dates\");'.  I get an error that\ndates is not an exported subroutine.  I don't understand what I'm not doing\nright as I've got the %EXPORT_TAGS hash set up, I've got the @EXPORTS array set\nup.  I've got this in my opening block:\nuse lib '/usr/local/bin/lib/';\nuse dates_emails;\n\nAny thoughts?\n\nMathew\nKeep up with me and what I'm up to: http://theillien.blogspot.com\n\n\nMartin Barth wrote:\n> Hi,\n> \n> try:\n> \n> use lib \"/usr/local/bin/lib/\";\n> use dates_email;\n> \n> HTH Martin\n> \n> On Thu, 14 Jun 2007 01:50:57 -0400\n> Mathew Snyder  wrote:\n> \n>> To take this further I've changed the code.  It now looks like this:\n>>\n>> package dates_emails;\n>> require Exporter;\n>> use strict;\n>>\n>> our @ISA         = qw(Exporter);\n>> our @EXPORT      = qw(startDate, endDate, searchStart, searchEnd);\n>> our @EXPORT_OK   = qw($emailTo, $emailFrom, $emailBcc);\n>> our %EXPORT_TAGS = {\n>>                 dates  => [qw(startDate, endDate, searchStart, searchEnd)],\n>>                 emails => [qw($emailTo, $emailFrom, $emailBcc)],\n>>                 };\n>> our $VERSION     = '1';\n>>\n>> # Declare our global variables\n>> my (@days, @months, @years, @searchDate);\n>> my $time = time();\n>>\n>> our $emailTo      = \"user\\@company.com\";\n>> our $emailFrom    = \"RT\";\n>> our $emailBcc     = \"user2\\@company.com\";\n>>\n>> sub getDates {\n>>         for (1 .. 7) {\n>>                 $time -= 24*60*60;\n>>                 my @date = (localtime($time))[3 .. 5];\n>>                 push @days, (sprintf '%02d', $date[0]);\n>>                 push @months,(sprintf '%02d',$date[1] + 1);\n>>                 push @years, $date[2] + 1900;\n>>                 return;\n>> }\n>>\n>> sub searchDate {\n>>         getDates();\n>>         push @searchDate, join \"-\", ($date[2] + 1900), (sprintf '%02d',$date[1]\n>> + 1),\n>> (sprintf '%02d', $date[0]);\n>>         return \\@serchDate;\n>> }\n>>\n>> sub startDate {\n>>         getDates();\n>>         $startDate   = join \"-\", $months[$#months], $days[$#days], $years[$#years];\n>>         return $startDate;\n>> }\n>>\n>> sub endDate {\n>>         getDates();\n>>         $endDate     = join \"-\", $months[0], $days[0], $years[0];\n>>         return $endDate;\n>> }\n>>\n>> sub searchStart {\n>>         getDates();\n>>         $searchStart = join \"-\", $years[$#years], $months[$#months], $days[$#days];\n>>         return $searchStart;\n>> }\n>>\n>> sub searchEnd {\n>>         getDates();\n>>         $searchEnd   = join \"-\", $years[0], $months[0], $days[0];\n>>         return $searchEnd;\n>> }\n>>\n>> return 1;\n>>\n>> I've placed it in its own directory /usr/local/bin/lib.  I've tried using\n>> use '/usr/local/bin/lib/dates_email';\n>> use '/usr/local/bin/lib/dates_email.pm';\n>> use '/usr/local/bin/lib/dates_email qw/startDate/;\n>> use '/usr/local/bin/lib/dates_email.pm qw/startDate/';\n>> use '/usr/local/bin/lib/dates_email qw/\"startDate\"/;\n>> use '/usr/local/bin/lib/dates_email.pm qw/\"startDate\"/';\n>> use '/usr/local/bin/lib';\n>>\n>> Each one gives me the error \"Undefined subroutine &dates_emails::startDate\n>> called at ./created_tickets.pl line 19.\".  Anyone know what I'm doing wrong?\n>>\n>> Mathew\n>> Keep up with me and what I'm up to: http://theillien.blogspot.com\n>>\n>>\n> \n> \n> \n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}