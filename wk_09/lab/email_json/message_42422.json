{"category": "ham", "to_address": "\"Petr Klasterecky\" <klaster@karlin.mff.cuni.cz>", "from_address": "\"Andrew Yee\" <andrewjyee@gmail.com>", "subject": "Re: [R] getting t.test to work with apply()", "body": "To follow up on my previous post,\n\n1. I eliminated the non-numeric columns in the data.frame.  I didn't\nappreciate that for apply to work, it really has to be a matrix from the get\ngo.\n2. and eliminated the commas with x[,alive] so that it looks like apply(\nraw.sample, 1, function(x) t.test(x[alive], x[dead])).  In other words,\nfunction(x) t.test(x[,alive],x[,dead]) does not work.\n\nWith these steps, apply works.\n\nAndrew\n\n\nOn 6/4/07, Petr Klasterecky  wrote:\n>\n> Andrew Yee napsal(a):\n> > Hi, I'm interested in using apply() with t.test() on a data.frame.\n> >\n> > Specifically, I'd like to use apply() to do the following:\n> >\n> >  t.test(raw.sample[1,alive],raw.sample[1,dead])\n> > t.test(raw.sample[2,alive],raw.sample[2,dead])\n> >  t.test(raw.sample[3,alive],raw.sample[3,dead])\n> > etc.\n> >\n> > I tried the following,\n> >\n> > apply(raw.sample,1,function(x) t.test(raw.sample[,alive],raw.sample\n> [,dead]))\n>\n> Two comments:\n> 1) apply() works on arrays. If your dataframe only has numeric values,\n> turn it (or its copy) to a matrix via as.matrix(). If it has mixed\n> variables, take only the numeric part for t-tests. The conversion is\n> made implicitly but explicit asking for it cannot hurt.\n> 2) the main problem - you are using a wrong argument to t.test\n>\n> The call should look like\n> apply(as.matrix(raw.sample), 1, function(x){t.test(x[alive], x[dead])})\n>\n> assuming 'alive' and 'dead' are logical vectors of the same length as 'x'.\n>\n> Petr\n>\n> >\n> > but it gives me a list of identical results.\n> >\n> >\n> > Thanks,\n> > Andrew\n> >\n> >       [[alternative HTML version deleted]]\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> >\n>\n> --\n> Petr Klasterecky\n> Dept. of Probability and Statistics\n> Charles University in Prague\n> Czech Republic\n>\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}