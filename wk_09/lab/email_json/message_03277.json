{"category": "ham", "to_address": "\"Eric Blanc\" <eric.blanc@kcl.ac.uk>", "from_address": "\"Dimitris Rizopoulos\" <dimitris.rizopoulos@med.kuleuven.be>", "subject": "Re: [R] Assignment from list", "body": "try the following:\n\nz <- matrix(1, ncol = 249, nrow = 240)\nzz <- matrix(1, ncol = 249, nrow = 240)\nfor (k in seq_along(x)) {\n    z[rbind(x[[k]])] <- 0\n}\nzz[xx] <- 0\n\nall.equal(z, zz)\n\n\nI hope it helps.\n\nBest,\nDimitris\n\n----\nDimitris Rizopoulos\nPh.D. Student\nBiostatistical Centre\nSchool of Public Health\nCatholic University of Leuven\n\nAddress: Kapucijnenvoer 35, Leuven, Belgium\nTel: +32/(0)16/336899\nFax: +32/(0)16/337015\nWeb: http://med.kuleuven.be/biostat/\n     http://www.student.kuleuven.be/~m0390867/dimitris.htm\n\n\n----- Original Message ----- \nFrom: \"Eric Blanc\" \nTo: \nSent: Thursday, April 12, 2007 10:36 AM\nSubject: [R] Assignment from list\n\n\n>I have a list of groups of xy positions I want to set to 0 in an\n> array full of 1s. When the assignments are done directly from the\n> list, they are incorrect, while if I use a temporary array derived\n> from the list the assignments are correct. The following example \n> will\n> hopefully make my problem clearer.\n>\n> The matrices z and zz are initialised with 1. The z and zz values at\n> coordinates in list x are then set to 0 using two different methods.\n> Although either method should lead to the same results, z and zz are\n> different. z is incorrect, because some values in its first row have\n> been incorrectly set to 0.\n>\n> x  <- list( matrix( c( 9, 9, 74, 75 ), nrow=2 ),\n>             matrix( c( 11, 11, 34, 35 ), nrow=2 ),\n>             matrix( c( 14, 15, 58, 58 ), nrow=2 ),\n>             c( 16, 142 ),\n>             matrix( c( 19, 19, 94, 95 ), nrow=2 ),\n>             matrix( c( 19, 20, 127, 127 ), nrow=2 ),\n>             matrix( c( 22, 22, 112, 113 ), nrow=2 ),\n>             c( 23, 13 ),\n>             matrix( c( 26, 27, 81, 81 ), nrow=2 ),\n>             matrix( c( 31, 32, 153, 153 ), nrow=2 ) )\n> xx <- do.call( \"rbind\", x )\n>\n> z <- matrix( 1, ncol=249, nrow=240 )\n> zz <- matrix( 1, ncol=249, nrow=240 )\n>\n> for( k in x ) z[k] <- 0\n> zz[xx] <- 0\n>\n> sum( z != zz )\n> c( sum( z[,1] != 1 ), sum( zz[,1] != 1 ) )\n>\n> Somewhere, I must be doing something wrong, or assuming something\n> incorrect. I would be very grateful if anybody could point me in the\n> right direction.\n>\n> platform       i386-apple-darwin8.8.1\n> arch           i386\n> os             darwin8.8.1\n> system         i386, darwin8.8.1\n> status\n> major          2\n> minor          4.1\n> year           2006\n> month          12\n> day            18\n> svn rev        40228\n> language       R\n> version.string R version 2.4.1 (2006-12-18)\n>\n> (same results with platform i386-pc-mingw32, R version 2.4.1 and\n> platform x86_64-unknown-linux-gnu, R version 2.3.1)\n>\n> --\n> Dr Eric Blanc\n> Lecturer in Bioinformatics\n> MRC Centre for Developmental Neurobiology\n> King's College London\n> New Hunt's House Room 4.10B\n> Guy's Hospital Campus\n> London SE1 1UL\n>\n> E-mail: eric.blanc@kcl.ac.uk\n> Tel: +44 (0)20 7848 6532\n> Fax: +44 (0)20 7848 6550\n>\n>\n>\n>\n> [[alternative HTML version deleted]]\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n\nDisclaimer: http://www.kuleuven.be/cwis/email_disclaimer.htm\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}