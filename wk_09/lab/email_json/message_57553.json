{"category": "ham", "to_address": "Perl beginners <beginners@perl.org>", "from_address": "\"John W. Krahn\" <krahnj@telus.net>", "subject": "Re: don't understand working script", "body": "Amichai Teumim wrote:\n> I have this script, If you run it you can see how it nicely idents the\n> directories. I don't understand everything in this script.\n\n[ SNIPPED an example of *BAD* code ]\n\n\nYour example would be better written as:\n\n#!/usr/bin/perl\nuse warnings;\nuse strict;\n\nmy $startdir = '/lib';\nmy $level    = 0;\n\nsub list_dirs {\n     # remove first argument from @_\n     my $dir = shift;\n     # remove second argument from @_\n     my $lev = shift;\n\n     opendir TOP, $dir or die \"Cannot open '$dir' $!\";\n     # get all directory names except '.' and '..'\n     my @files = grep -d \"$dir/$_\" && !/\\A\\.\\.?\\z/, readdir TOP;\n     closedir TOP;\n\n     foreach my $file ( @files ) {\n         print ' ' x $lev, \"$file\\n\";\n         list_dirs( \"$dir/$file\", $lev + 1 );\n         }\n     }\n\n\nlist_dirs( $startdir, $level );\n\n\n__END__\n\n\n\nJohn\n-- \nPerl isn't a toolbox, but a small machine shop where you\ncan special-order certain sorts of tools at low cost and\nin short order.                            -- Larry Wall\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}