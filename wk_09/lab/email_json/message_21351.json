{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Felix Wave <felix-wave@vr-web.de>", "subject": "[R] Get the difference of values to their own median value", "body": "Hello,\nI've got a matrix (mail end) with the colnames x, y, z. In this matrix\nare different measurements. x and y are risign coordinates.\n\nWith the following line I got the median value of z for all \"x\" AND \"y\" witch\nare the same (not every measurment in my list hast the same number of \n\"x\" and \"y\" values. Sometimes lines are missing.\n>MEDIAN  <- na.omit( aggregate(INPUT[,3], by=list(INPUT[,2],INPUT[,1] ), FUN=median ) )\n\n\nTo see the failin of my measurments I want to get the difference between\nevery measurment and the detected median values.\nThe aim would be to have a list with different colums (for every measurment)\nwith the difference between measurment 1,2,3, ..., x and the median.\n\nHas anybody an idea?\n\nI though I could split the measurment list. The beginning of every measurment \ncan be found with\n>START     <- grep(\" 0 0.0 0.00000000\", INPUT) \nBut not every measurment has the same length and I don't have always the\nsame number of measurments.\n\n\n\nI hope you can help me.\n\nThank's a lot.\nFelix\n\n\n\n\n###############\n## My R Code ##\n###############\nINPUT           <- readLines(dat.dat)\nINPUT           <- gsub(\"^ \", \"\", INPUT)\nINPUT           <- t( sapply( strsplit(INPUT, split=\" \"), as.numeric ) )\ncolnames(INPUT) <- c(\"x\", \"y\", \"z\" )\n\n\n\n\n\n\n#############\n## dat.dat ##\n#############\n29 4.5 1.505713\n29 4.6 1.580402\n29 4.7 1.656875\n29 4.8 1.735054\n30 0 0\n30 0.1 0.00096108\n30 0.2 0.00323831\n29 4.5 1.495148\n29 4.6 1.568961\n29 4.7 1.644467\n30 0 0\n30 0.1 0.00093699\n30 0.2 0.00319411\n30 0.3 0.00676619\"\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}