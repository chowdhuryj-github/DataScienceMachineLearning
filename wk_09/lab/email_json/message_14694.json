{"category": "ham", "to_address": "\"Weiwei Shi\" <helprhelp@gmail.com>", "from_address": "\"hadley wickham\" <h.wickham@gmail.com>", "subject": "Re: [R] intersect more than two sets", "body": "On 4/24/07, Weiwei Shi  wrote:\n> assume t2 is a list of size 11 and each element is a vector of characters.\n>\n> the following codes can get what I wanted but I assume there might be\n> a one-line code for that:\n>\n> t3 <- t2[[1]]\n> for ( i in 2:11){\n>         t3 <- intersect(t2[[i]], t3)\n> }\n>\n> or there is no such \"apply\"?\n\nThe operation you want is called a fold\n(http://en.wikipedia.org/wiki/Fold_%28higher-order_function%29), and\nif it was available in R, you'd be able to do:\n\nfold(t2, intersect)\n\nUnfortunately, it's not, but you could implement it as follows:\n\nfold <- function(x, fun) {\n\tif (length(x) == 1) return(fun(x))\n\t\n\taccumulator <- fun(x[[1]], x[[2]])\n\tif (length(x) == 2) return(accumulator)\n\n\tfor(i in 3:length(x)) {\n\t\taccumulator <- fun(accumulator, x[[i]])\n\t}\n\taccumulator\n}\n\na <- list(c(1,3,5), c(1,3), c(1, 2, 5, 6))\nfold(a, intersect)\n\nWhich is just a trivial generalisation of your code above\n\nHadley\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}