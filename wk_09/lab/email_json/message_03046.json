{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r22180 - in\n\tbranches/SAMBA_4_0/source/script/tests: .", "body": "Author: abartlet\nDate: 2007-04-12 00:34:59 +0000 (Thu, 12 Apr 2007)\nNew Revision: 22180\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22180\n\nLog:\nRe-add testing of the CIFS backend.\n\nAndrew Bartlett\n\nAdded:\n   branches/SAMBA_4_0/source/script/tests/test_cifs.sh\nModified:\n   branches/SAMBA_4_0/source/script/tests/tests_all.sh\n\n\nChangeset:\nAdded: branches/SAMBA_4_0/source/script/tests/test_cifs.sh\n===================================================================\n--- branches/SAMBA_4_0/source/script/tests/test_cifs.sh\t2007-04-11 23:01:48 UTC (rev 22179)\n+++ branches/SAMBA_4_0/source/script/tests/test_cifs.sh\t2007-04-12 00:34:59 UTC (rev 22180)\n@@ -0,0 +1,21 @@\n+#!/bin/sh\n+\n+# this runs the file serving tests that are expected to pass with the\n+# current posix ntvfs backend, via the ntvfs cifs proxy\n+\n+ADDARGS=\"$*\"\n+\n+incdir=`dirname $0`\n+. $incdir/test_functions.sh\n+\n+raw=`bin/smbtorture --list | grep \"^RAW-\" | xargs`\n+base=`bin/smbtorture --list | grep \"^BASE-\" | xargs`\n+tests=\"$base $raw $smb2\"\n+\n+for t in $tests; do\n+    if [ ! -z \"$start\" -a \"$start\" != $t ]; then\n+\tcontinue;\n+    fi\n+    start=\"\"\n+    plantest \"ntvfs/cifs $t\" dc $VALGRIND bin/smbtorture $TORTURE_OPTIONS $ADDARGS //\\$SERVER/cifs -U\"\\$USERNAME\"%\"\\$PASSWORD\" $t\n+done\n\n\nProperty changes on: branches/SAMBA_4_0/source/script/tests/test_cifs.sh\n___________________________________________________________________\nName: svn:executable\n   + *\n\nModified: branches/SAMBA_4_0/source/script/tests/tests_all.sh\n===================================================================\n--- branches/SAMBA_4_0/source/script/tests/tests_all.sh\t2007-04-11 23:01:48 UTC (rev 22179)\n+++ branches/SAMBA_4_0/source/script/tests/tests_all.sh\t2007-04-12 00:34:59 UTC (rev 22180)\n@@ -8,6 +8,7 @@\n  $SRCDIR/script/tests/test_binding_string.sh\n  $SRCDIR/script/tests/test_echo.sh\n  $SRCDIR/script/tests/test_posix.sh\n+ $SRCDIR/script/tests/test_cifs.sh\n  $SRCDIR/script/tests/test_local.sh\n  $SRCDIR/script/tests/test_pidl.sh\n  $SRCDIR/script/tests/test_blackbox.sh $PREFIX/blackbox\n\n"}