{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "Johannes Bauer <dfnsonfsduifb@gmx.de>", "subject": "Re: libsmbclient: smbc_stat buffer overflow", "body": "Hello,\n\nfirst of all: sorry for not being able to follow-up your posting - it\njust didn't appear on the list for me (I used the archive to read your\nresponse). Strange.\n\nDerrell schrieb:\n\n> You don't indicate how you compiled this program, but I suspect that\n> libsmbclient is compiled for large file support, while your application is\n> not.  That would cause libsmbclient to be using different size fields in\n> struct stat than your program is assuming.\n\nYes, that's something I didn't have on my mind at all..\n\n> Please try compiling your program with these additional compile flags, and\n> confirm that this fixes the problem (or not):\n> \n>   -D_LARGEFILE64_SOURCE -D_FILE_OFFSET_BITS=64\n\nDoes the job perfectly. Awesome! Thanks a lot for the accurate and fast\nresponse!\n\n> Cheers,\n> \n> Derrell\n\nCheers,\nJohannes\n\n"}