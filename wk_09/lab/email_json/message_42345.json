{"category": "ham", "to_address": "simo <idra@samba.org>", "from_address": "James Peach <jpeach@samba.org>", "subject": "Re: idle_timeout processing in the parent smbd?", "body": "On Jun 4, 2007, at 11:17 AM, simo wrote:\n\n> On Mon, 2007-06-04 at 19:45 +0200, Volker Lendecke wrote:\n>> On Mon, Jun 04, 2007 at 07:39:55PM +0200, Volker Lendecke wrote:\n>>> BTW, I find the concept that some daemon creates the\n>>> listening socket for us quite strange. inetd, that's\n>>> something I see, but doing the listen and not do the fork? I\n>>> don't know...\n>>\n>> Another question: How does this play with the Samba4 model\n>> which listens on a ton of ports?\n>\n> Personally I think that running samba out of inetd is a bad idea in\n> general.\n> Just make samba4 run in single mode, so that it does not spawn more\n> process and disable the subsystems you don't need and you achieve  \n> almost\n> the same goal as having it running from inetd.\n>\n> Is there any other reason to run something off of inetd besides a\n> perceived save of resources?\n\nI'd argue that it's an actual saving of resources (for some use  \ncases). smbd is 6MB on my system, nmbd is 2MB and winbindd is 4MB. So  \nrunning these cost ~12MB of some combination of swap space and  \nphysical memory. For a desktop machine, that might only get 1 or 2  \nconnections a day, that is a useful saving, especially once you start  \nadding the saving up across multiple projects.\n\ninetd mode is just fine for desktop usage, but it's too expensive for  \nservers that have to handle numbers of simultaneous connection.\n\n--\nJames Peach | jpeach@samba.org\n\n"}