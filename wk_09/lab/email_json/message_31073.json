{"category": "ham", "to_address": "\"Rick DeShon\" <deshon@msu.edu>", "from_address": "\"Spielas Bates\" <bates@stat.wisc.edu>", "subject": "Re: [R] lmer error confusion", "body": "On 5/16/07, Rick DeShon  wrote:\n> Hi All.\n>\n> I'm trying to run a simple model from Baayan, Davidson, & Bates and getting\n> a confusing error message.  Any ideas what I'm doing wrong here?\n>\n> # Here's the data.....\n> Subj    <- factor(rep(1:3,each=6))\n> Item    <- factor(rep(1:3,6))\n> SOA     <- factor(rep(0:1,3,each=3))\n> RT      <-\n> c(466,520,502,475,494,490,516,566,577,491,544,526,484,529,539,470,511,528)\n> priming <- data.frame(cbind(Subj,Item,SOA,RT))\n>\n> str(priming)\n> 'data.frame':   18 obs. of  4 variables:\n>  $ Subj: num  1 1 1 1 1 1 2 2 2 2 ...\n>  $ Item: num  1 2 3 1 2 3 1 2 3 1 ...\n>  $ SOA : num  1 1 1 2 2 2 1 1 1 2 ...\n>  $ RT  : num  466 520 502 475 494 490 516 566 577 491 ...\n>\n> #Here's the call taken directly from the paper\n> priming.lmer1 <- lmer(RT ~ SOA + (1 | Item) + (1 | Subj), data = priming)\n>\n> #Here's the error....\n> Error in rbind(Item = , Subj =  class \"dgCMatrix\">) :\n>         cannot coerce type S4 to list vector\n>\n> Any idea what I'm doing wrong?\n>\n>\n> sessionInfo()\n> R version 2.5.0 (2007-04-23)\n> i386-pc-mingw32\n> other attached packages:\n>        lme4      Matrix     lattice        nlme\n> \"0.9975-13\" \"0.99875-1\"    \"0.15-4\"    \"3.1-80\"\n\nIt's a version skew problem (and thanks for including the\nsessionInfo() output that makes it possible to detect this).  Changes\nwere made in version 0.99875-0 and later of the Matrix package that\nrequire a new version of the lme4 package.  Please install version\n0.99875-0 or later of lme4.\n\nHowever, while we are discussing this example, notice that using the\ncbind inside the call to data.frame causes the factors to become\nnumeric variables.  That is undesirable.  In this case it is benign\nbut it could be harmful.\n\nA better approach is simply to give the variables and their names in\nthe call data.frame.  Also, the sequence factor(rep(...)) can be\nwritten better as a call to the underutilized function gl.\n\n> priming <- data.frame(Subj = gl(3,6), Item = gl(3,1,18), SOA = gl(2,3,18,labels = 0:1),\n+   RT = c(466,520,502,475,494,490,516,566,577,491,544,526,484,529,539,470,511,528))\n> str(priming)\n'data.frame':   18 obs. of  4 variables:\n $ Subj: Factor w/ 3 levels \"1\",\"2\",\"3\": 1 1 1 1 1 1 2 2 2 2 ...\n $ Item: Factor w/ 3 levels \"1\",\"2\",\"3\": 1 2 3 1 2 3 1 2 3 1 ...\n $ SOA : Factor w/ 2 levels \"0\",\"1\": 1 1 1 2 2 2 1 1 1 2 ...\n $ RT  : num  466 520 502 475 494 490 516 566 577 491 ...\n> lmer2(RT ~ SOA + (1|Subj) + (1|Item), priming)\nLinear mixed-effects model fit by REML\nFormula: RT ~ SOA + (1 | Subj) + (1 | Item)\n   Data: priming\n   AIC BIC logLik MLdeviance REMLdeviance\n 149.4 153 -70.72      154.4        141.4\nRandom effects:\n Groups   Name        Variance Std.Dev.\n Subj     (Intercept) 499.37   22.347\n Item     (Intercept) 607.80   24.654\n Residual             137.35   11.719\nNumber of obs: 18, groups: Subj, 3; Item, 3\n\nFixed effects:\n            Estimate Std. Error t value\n(Intercept)  522.111     19.604  26.633\nSOA1         -18.889      5.525  -3.419\n\nCorrelation of Fixed Effects:\n     (Intr)\nSOA1 -0.141\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}