{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Ben Tupper <btupper@bigelow.org>", "subject": "Re: [R] handling a cancelled file.choose()", "body": "Deepayan Sarkar wrote:\n> On 6/6/07, Ben Tupper  wrote:\n>> Hello,\n>>\n>>\n>> I have a file reading function that prompts the user with a file dialog\n>> if a filename is not provided in the argument list.  It is desirable to\n>> return gracefully if the user selects \"Cancel\", but file.choose() throws\n>> an error instead of returning something like a character.\n>>\n>>  > file.choose()\n>> [1] \"/Users/ben/ben_idl.pref\"\n>>\n>>  > file.choose()\n>> Error in file.choose() : file choice cancelled\n>>\n>> I naively planned to use nchar() to test the length, assuming\n>> cancellation would return a zero-length character. That appears to be\n>> out of the question. [...]\n> \n> Not really, errors can be caught and handled. This seems to give the\n> behaviour you want:\n> \n> tryCatch(file.choose(), error = function(e) \"\")\n> \n> -Deepayan\n\nThanks all,\n\nI am very pleased to know about conditions in the base package.  Slick!\n\nBen\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}