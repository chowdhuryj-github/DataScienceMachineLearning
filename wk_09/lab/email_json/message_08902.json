{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Rob Dixon <rob.dixon@350.com>", "subject": "Re: Return value from subroutine", "body": "Johnson, Reginald (GTI) wrote:\n>\n> I don't see what I'm doing wrong here. I just want to compare the value\n> of $_ and return the indicated string if there is a match.\n>\n> #!/usr/bin/perl\n>\n> use strict;\n> use warnings;\n>\n> my $temp_proc;\n> my $mnt_proc = \"AVI\";\n> $temp_proc = convert_mnt_proc($mnt_proc);\n> \n> #*************************************************************************\n> sub convert_mnt_proc {\n>   $_ = shift;\n>   if ($_ eq /AVI/) {\n>     return = \"Audit Volume\";\n>   }\n> # elsif (/BKP/) {\n> #   return = \"BACKUP\";\n> # }\n> # elsif (/DBB/) {\n> #   return = \"Database Backup\";\n> # }\n> # elsif (/RCL/) {\n> #   return = \"Reclamation\";\n> # }\n> # elsif (/BSP/) {\n> #   return = \"Backup Storage Pool\";\n> # }\n> # elsif (/MIG/) {\n> #   return = \"Migration\";\n> # }\n> # elsif (/MDT/) {\n> #   return = \"Move Data\";\n> # }\n> # elsif (/IMP/) {\n> #   return = \"Import Node\";\n> # }\n> } #end convert_\n>\n> Can't modify return in scalar assignment at fixit.pl line 12, near\n> \"\"Audit Volume\";\"\n> Execution of fixit.pl aborted due to compilation errors.\n\nYour error message is because you are trying to assign to the return()\nfunction, which is invalid syntax. You should be writing\n\n  return \"Audit Volume\";\n\nFurthermore your function will fail because the test\n\n  $_ eq /AVI/\n\nis equivalent to\n\n  $_ eq ($_ =~ m/AVI/)\n\nwhich is either\n\n  $_ eq '1'\n\nor\n\n  $_ eq ''\n\ndepending on whether the regex pattern matched against $_.\n\nWhat you need is simply\n\n  if ($_ eq 'AVI') {\n    return \"Audit Volume\";\n  }\n\nand finally, this whole subroutine is pretending to be a hash:\n\nuse strict;\nuse warnings;\n\nmy %convert_mnt_proc = (\n  AVI => 'Audit Volume',\n  BKP => 'BACKUP',\n  DBB => 'Database Backup',\n  RCL => 'Reclamation',\n  BSP => 'Backup Storage Pool',\n  MIG => 'Migration',\n  MDT => 'Move Data',\n  IMP => 'Import Node',\n);\n\nmy $mnt_proc = 'AVI';\nmy $temp_proc = $convert_mnt_proc{$mnt_proc};\n\n\n\nHTH,\n\nRob\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}