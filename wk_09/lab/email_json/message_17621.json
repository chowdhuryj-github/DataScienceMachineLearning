{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jerry@samba.org", "subject": "svn commit: samba r22532 - in branches/SAMBA_3_0_25: . source", "body": "Author: jerry\nDate: 2007-04-27 13:12:44 +0000 (Fri, 27 Apr 2007)\nNew Revision: 22532\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22532\n\nLog:\nSync release notes from the release branch and bump \nversion to 3.0.25rc4.\n\n\nModified:\n   branches/SAMBA_3_0_25/WHATSNEW.txt\n   branches/SAMBA_3_0_25/source/VERSION\n\n\nChangeset:\nModified: branches/SAMBA_3_0_25/WHATSNEW.txt\n===================================================================\n--- branches/SAMBA_3_0_25/WHATSNEW.txt\t2007-04-27 11:13:37 UTC (rev 22531)\n+++ branches/SAMBA_3_0_25/WHATSNEW.txt\t2007-04-27 13:12:44 UTC (rev 22532)\n@@ -1,9 +1,9 @@\n                    =================================\n-                   Release Notes for Samba 3.0.25rc1\n-                               Apr 9, 2007\n+                   Release Notes for Samba 3.0.25rc3\n+                               Apr 25, 2007\n                    =================================\n \n-This is the first release candidate of the Samba 3.0.25 code base \n+This is the third release candidate of the Samba 3.0.25 code base \n and is provided for testing only.  An RC release means that we are \n close to the final release but the code may still have a few \n remaining minor bugs.  This release is *not* intended for production \n@@ -25,8 +25,9 @@\n   o Support for passing Windows security descriptors to a VFS \n     plug-in allowing for multiple Unix ACL implements to running side \n     by side on the Same server.\n-  o Improved compatibility with Windows Vista clients.\n-  o Man pages for VFS plug-ins.\n+  o Improved compatibility with Windows Vista clients including \n+    improved read performance with Linux servers.\n+  o Man pages for IdMap and VFS plug-ins.\n \n \n Off-line Logons and AD Site Support\n@@ -41,16 +42,12 @@\n New IdMap Interface for Winbindd\n ================================\n \n-The 3.0.25 release of Samba will include a rewritten IdMap interface\n-for winbindd which replaces the \"idmap backend\" parameter.  The\n-initial design document may be found at\n+The 3.0.25 release of Samba includes a rewritten IdMap interface\n+for winbindd which replaces the \"idmap backend\" parameter.  Please \n+refer to the \"idmap domains\" description in the smb.conf(5) man \n+page for more details.\n \n-\thttp://www.samba.org/~idra/samba3_newidmap.pdf\n \n-Please refer to the \"idmap domains\" description in the smb.conf(5)\n-man page for more details.\n-\n-\n Dynamic DNS Updates\n ===================\n \n@@ -70,10 +67,214 @@\n on the same server including NFSv4 and GPFS ACLs.\n \n \n+VFS ReadAhead Plugin\n+====================\n+\n+Windows Vista introduces pipe-lined read support for improved \n+performance when transferring files.  The new vfs_readahead plugin\n+allows Linux file servers to utilize additional Kernel buffers\n+for caching files in order to avoid Disk I/O wait time when serving\n+Vista clients.  If you experience poor read performance between \n+Linux servers and Vista clients, please test the vfs_readahead\n+module by adding the following lines to the share definition\n+in smb.conf:\n+\n+[file_share]\n+\tvfs objects = readahead\n+\n+Note that this plugin will result in additional RAM requirements\n+due to the increased amount of kernel buffer caches used by smbd.\n+Please refer to vfs_readahead(8) for more information.\n+\n+\n+Windows Vista, Office 2007, and Offline Files\n+=============================================\n+\n+Research surrounding offline files, Windows Vista, and Microsoft \n+Office 2007 has revealed a incompatibility between these \n+applications and the \"map acl inherit = no\" setting in smb.conf.  \n+Users requiring support client side caching (csc) and offline \n+files are encouraged to enable the \"map acl inherit\" for any \n+affected share definitions in the server's configuration.\n+Future versions of Samba will enable this setting by default.\n+\n+Please refer to the smb.conf(5) man page for more details on \n+\"map acl inherit\".\n+\n+\n ######################################################################\n Changes\n #######\n \n+Changes since 3.0.25rc2\n+-----------------------\n+\n+commits\n+-------\n+\n+o   Jeremy Allison \n+    * Allow Well-Known and Local Groups to be stored in POSIX ACLs\n+      as long as there is a SID/gid mapping entry available.\n+    * Fix memory corruption bug in the CIFS POSIX open/mkdir.\n+    * BUG 4536: Correctly delete symlinks pointing to a directory.\n+\n+\n+o   Gerald (Jerry) Carter \n+    * Ensure winbindd honors the \"idmap domains\" option and not \n+      default to idmap_tdb.\n+    * Fix memory corruption caused by calling free() on talloc()'d\n+      memory when adding and removing users from local groups.\n+\n+\n+o   Guenther Deschner \n+    * Memory allocation error checks in libgpo.\n+\n+\n+o   Jim McDonough \n+    * Fix crate_user() access checks when setting the \"User Cannot \n+      Change Password\" flag.\n+\n+\n+o   Simo Sorce \n+    * Fix linking flags used when creating shared libraries.\n+\n+\n+\n+Release Notes for older release follow:\n+\n+      --------------------------------------------------\n+\n+                   =================================\n+                   Release Notes for Samba 3.0.25rc2\n+                               Apr 22, 2007\n+                   =================================\n+\n+\n+######################################################################\n+Changes\n+#######\n+\n+Changes since 3.0.25rc1\n+-----------------------\n+\n+commits\n+-------\n+\n+o   Jeremy Allison \n+    * BUG 4494: Make sure to fail immediately if sendfile fails and\n+      don't continue on to call chain_reply() (based on report from\n+      Kevin Jamieson).\n+    * Remove tdb.h from the libsmbsharemodes.so header file.\n+    * BUG 3634: Fix crash in nmbd caused by a bad \"interfaces\" include\n+      in smb.conf.\n+    * Add initial version to winbindd_cache.tdb file.  Automatically\n+      delete existing non-versioned cache files.\n+    * Fix the storage size of time_t in winbindd_cache.tdb to be 8\n+      bytes.\n+    * Cope with signature errors on sessionsetupX logins where the\n+      server just reflects our signature back to us. Allow the upper \n+      layer to see the real error.  \n+    * BUG 4512: Limit the volume label for a share to 32 UNICODE\n+      characters.\n+    * Allow arbitrary bases in int and ulong parsing in smb.conf.\n+    * Fix off-by-one error in tconX parsing.\n+\n+\n+o   Andrew Bartlett \n+    * Ensure debug messages from tools print the correct config file \n+      location if the file was defined as a command line option.\n+\n+\n+o   Gerald (Jerry) Carter \n+    * BUG 4501 (partial): Fix crash bugs in idmap_ad plugin by adding\n+      the schema_mode option when using \"winbind nss info = template\".\n+    * BUG 4491, 4501 (partial): Disable attempts to allocate a uid/gid if no\n+      idmap alloc backend has been defined.  Do not defined a default\n+      alloc backend.\n+    * Fix \"make install\" to include creating the links between\n+      idmap_ad and the nss_info_rfc2307 and nss_info_sfu plugins.\n+    * Enable the --with-dnsupdate in the Fedora/RHEL RPM packaging\n+      files.\n+    * BUG 4508: Remove potential loops in the idmap API by requiring\n+      the caller defined the SID type rather than having the idmap layer\n+      call back up to determine the SID type when allocating\n+      uids/gids.\n+    * Don't inherit the offline flag for winbindd_domains that have\n+      not been initialized yet.\n+    * Fix a crash in idmap_ldap caused by a NULL pointer dereference.\n+    * Fix deadlock and timeout conditions in idmap_rid.\n+\n+\n+o   Guenther Deschner \n+    * Build fixes when linking against Heimdal 0.8 Kerberos libraries.\n+    * Build fixes when using older Heimdal Krb5 libs (e.g. 0.6.3).\n+\n+\n+o   William Jojo \n+    * BUG 3632: Fix for EISCON in open_any_socket_out() on AIX.\n+\n+\n+o   Taj Khattra \n+    * Fix missing lock count release in transaction cancel.\n+\n+\n+o   Herb Lewis \n+    * Allow profiling level to be set on startup.\n+\n+\n+o   Ying Li \n+    * Use the default tdb idmap plugin when neither idmap domains\n+      nor idmap backend have been defined.\n+\n+\n+o   Jason Mader \n+    * Various compile warning fixes. \n+    * Initial patch set for strptime() in libreplace.\n+\n+\n+o   Jim McDonough \n+    * Fix the GPFS VFS module to pass the POSIX ACL tests (Thanks to\n+      Gomati Mohanan).\n+\n+\n+o   Stefan Metzmacher \n+    * BUG 4496: Fix libreplace failure on ulibc systems.    \n+    * Merge numerous libreplace fixes from the SAMBA_4_0 code base \n+      (stdint.h, stdbool.h, unsetenv, strptime(), strtoll(), et. al.).\n+    * Move ZERO_*, ARRAY_SIZE and PTR_DIFF macros into libreplace.\n+\n+\n+o   Lars Mueller \n+    * Log the reason for failures when not creating a core file on a\n+      crash due to restrictive permissions on the log file directory.\n+\n+\n+o   Jorge Santos \n+    * BUG 4500: Fix compile bug in quota.c.\n+\n+\n+o   Simo Sorce \n+    * Offline logon fixes in the idmap backend manager.\n+    * Cleanup initialization code in the sfu and rfc2307 nss_info\n+      plugins to protect against a crash if called before the idmap_ad\n+      module has been initialized.\n+    * Protect against crashes in get_dc_name() in the idmap_ad code\n+      when we are working offline.\n+\n+\n+Release Notes for older release follow:\n+\n+      --------------------------------------------------\n+                   =================================\n+                   Release Notes for Samba 3.0.25rc1\n+                               Apr 9, 2007\n+                   =================================\n+\n+\n+######################################################################\n+Changes\n+#######\n+\n Changes since 3.0.25pre2\n ------------------------\n \n\nModified: branches/SAMBA_3_0_25/source/VERSION\n===================================================================\n--- branches/SAMBA_3_0_25/source/VERSION\t2007-04-27 11:13:37 UTC (rev 22531)\n+++ branches/SAMBA_3_0_25/source/VERSION\t2007-04-27 13:12:44 UTC (rev 22532)\n@@ -56,7 +56,7 @@\n # e.g. SAMBA_VERSION_RC_RELEASE=1                      #\n #  ->  \"3.0.0rc1\"                                      #\n ########################################################\n-SAMBA_VERSION_RC_RELEASE=3\n+SAMBA_VERSION_RC_RELEASE=4\n \n ########################################################\n # To mark SVN snapshots this should be set to 'yes'    #\n\n"}