{"category": "ham", "to_address": "\"Emmanuel Levy\" <emmanuel.levy@gmail.com>, <r-help@stat.math.ethz.ch>", "from_address": "\"Peter Alspach\" <PAlspach@hortresearch.co.nz>", "subject": "Re: [R] A particular shuffling on a vector", "body": "\nEmmanuel\n\nOne option which appears to work:\n\nemmanuel <- c(1,1,1,2,2,3,3,3)\n#emmanuel <- c(1,1,2,3,4,5,6,6,6,6,6,6,6,6,7,8)\nruns <- rle(emmanuel)[[1]]\nshuffle <- sample(1:length(runs))\nnewEmm <- rep(emmanuel[cumsum(runs)[shuffle]], runs[shuffle])\nstartPos <- sample(1:length(emmanuel), 1)\nif (startPos==1) newEmm else\nnewEmm[c(startPos:length(newEmm),1:(startPos-1))]\n\nPeter Alspach\n\n> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch \n> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Emmanuel Levy\n> Sent: Friday, 20 April 2007 1:03 p.m.\n> To: r-help@stat.math.ethz.ch\n> Subject: [R] A particular shuffling on a vector\n> \n> Hello,\n> \n> I was wondering if anyone can think of a straightforward way (without\n> loops) to do the following shuffling:\n> \n> Let's imagine a vector:\n> c(1,1,1,2,2,3,3,3)\n> \n> I would like to derive shuffled vectors __where the same \n> digits are never separated__, although they can be at both \n> ends (periodicity).\n> \n> So the following shuffled vectors are possible:\n> \n> c(2,2,1,1,1,3,3,3)\n> c(2,1,1,1,3,3,3,2)\n> c(3,3,3,1,1,1,2,2)\n> c(3,1,1,1,2,2,3,3)\n> etc ...\n> \n> I should mention that there can be any number of different \n> numbers, and any number of repetition of each number.\n> \n> So the vectors I have to deal with could look like\n> c(1,1,2,3,4,5,6,6,6,6,6,6,6,6,7,8) for example\n> \n> Since I have to derive many shuffled versions for each \n> vector, I am looking for an efficient way of doing it. Can \n> you think of a way without nested loops?\n> \n> Many thanks for your help,\n> \n> Best,\n> \n> Emmanuel\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n______________________________________________________\n\nThe contents of this e-mail are privileged and/or confidenti...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}