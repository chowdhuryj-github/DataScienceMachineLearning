{"category": "ham", "to_address": "\"OtherRecipients of perl Ticket #42777\": ;", "from_address": "\"James Keenan via RT\" <parrotbug-followup@parrotcode.org>", "subject": "[perl #42777] [PATCH] Configure.pl and underlying packages:  Eliminate temporary hack ", "body": "Patch applied in r18405.\n\nHack described in Configure.pl and found in Parrot::Configure::Step is fixed\nby making Parrot::Configure object into a singleton.  This entailed changes in\nthose two packages as well as config/init/defaults.pm.\n\nAlso:  Parrot::Configure::Data::slurp() now checks Parrot::Config::Generated\nrather than Parrot::Config to determine if configuration has been completed.\n\n12 test files added to directory t/configure; t/configure/configure.t\neliminated because it assumed non-singleton Parrot::Configure object.  7 .pm\nfiles added for testing in new directory t/configure/testlib/.  1 new test\nfile added to new directory t/postconfigure/, which will house tests\npertaining to configuration that can only be run once Configure.pl has been\nexecuted.  'postconfigure' added to @default_tests in t/harness.  MANIFEST\nupdated to reflect new files and one deletion.\n\nApplication of this patch results in same %Parrot::Config::Generated::PConfig\nas previous version of Configure.pl and associated files.  All tests in 'make\ntest' pass.\n\n"}