{"category": "ham", "to_address": "Jen mlists <practicalperl@gmail.com>", "from_address": "yaron@kahanovitch.com", "subject": "Re: hellp improve efficiency", "body": "Hi,\n\nYou can use the following it will reduce the amount of :\n...\nwhile (<>) {\n  $uri = (split)[0];\n  $uri =~ s#www\\.example\\.com/(v\\d?|so)#$1.example.com#  or\n  $uri =~ s#www\\.example\\.com/admin/\\?.*#www.example.com/admin/# or\n  $uri =~ s#www\\.example\\.com/([wulp])(\\d+)/#$2.$1.example.com# or\n  $uri =~ s#www\\.example\\.com/([wulp])/#$1.example.com/#;\n  print $uri;\n}\nBest regards\n\nYaron Kahanovitch\n\n----- Original Message -----\nFrom: \"Jen mlists\" \nTo: \"beginners perl\" \nSent: Saturday, April 28, 2007 10:57:07 AM (GMT+0200) Auto-Detected\nSubject: hellp improve efficiency\n\nHello members,\n\nI wrote a perl script for url redirect,shown as below,\n\n$|=1;\nmy $uri = '';\n\nwhile (<>) {\n\n    $uri = (split)[0];\n\n    if ($uri =~ /\\.html?\\?/ or $uri =~ /\\.js\\?/ or $uri =~ /\\.css\\?/ or\n        $uri =~ /\\.jpg\\?/ or $uri =~ /\\.gif\\?/ or $uri =~ /\\.swf\\?/) {\n        $uri =~ s/\\?.*$//;\n    }\n\n    if ($uri =~ m|www\\.example\\.com/v/|o) {\n        $uri =~ s|www\\.example\\.com/v/|v.example.com/|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/v2/|o) {\n        $uri =~ s|www\\.example\\.com/v2/|v2.example.com/|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/v3/|o) {\n        $uri =~ s|www\\.example\\.com/v3/|v3.example.com/|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/so/|o) {\n        $uri =~ s|www\\.example\\.com/so/|so.example.com/|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/admin/\\?.*|o) {\n        $uri =~ s|www\\.example\\.com/admin/\\?.*|www.example.com/admin/|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/w\\?v=|o) {\n        $uri =~ s|www\\.example\\.com/w\\?v=|v2.example.com/v_|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/([wulp])(\\d+)/|o) {\n        $uri =~ s|www\\.example\\.com/([wulp])(\\d+)/|$2.$1.example.com/|;\n\n    }elsif ($uri =~ m|www\\.example\\.com/([wulp])/|o) {\n        $uri =~ s|www\\.example\\.com/([wulp])/|$1.example.com/|;\n    }\n\n} continue {\n\n    print \"$uri\\n\";\n\n}\n\n__END__\n\nAs you see,for each regex match,I've tested it twice.\nMaybe it's going with low-efficiency.How can improve it?Thanks.\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}