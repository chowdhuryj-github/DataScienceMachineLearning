{"category": "ham", "to_address": "Mike Meredith <mmeredith@wcs.org>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] using self-written functions", "body": "One of your home directories on Windows is %HOMEDRIVE%%HOMEPATH% (you do \nneed to give the drive), but only one: see the rw-FAQ.\n\nReading ?file.path will help you not reinvent the wheel.\n\nSo I think attach(path.expand(\"~/MMmisc.rda\") is far more portable (as \nwell as much more readable).\n\nOn Thu, 28 Jun 2007, Mike Meredith wrote:\n\n> I use something like Gavin's solution for functions which are not used too\n> often. The problem with using 'source' is that the user environment gets\n> cluttered.\n>\n> I 'save' the most useful functions to a single file (\"MMmisc.Rda\"), put it\n> in the HOMEPATH directory (use Sys.getenv(\"HOMEPATH\") to find where that\n> is), then I put the line\n>\n> attach(what=paste(Sys.getenv(\"HOMEPATH\"), \"MMmisc.Rda\", sep=\"/\"))\n>\n> in Rprofile.site in C:\\Program Files\\R\\R-2.5.0\\etc folder.\n\nPlease don't recommend site-wide setting for user settings, which should \nbe in ~/.Rprofile.  See ?Startup.\n\n>\n> Works for me! You don't have the luxury of help files, etc, but it's easy to\n> update.\n>\n> HTH -- Mike.\n>\n>\n> Gavin Simpson wrote:\n>>\n>> On Thu, 2007-06-28 at 17:29 +0800, R. Leenders wrote:\n>>> ... How can\n>>> I access my own functions in R without having to copy-paste them\n>>> everytime and run them manually so I can call them later? Do I need to\n>>> learn how to write a package and attach the package to make the\n>>> functions available at all times? Is there another way?\n>>\n>> Building a package is one way, and not that difficult once you've read\n>> the Writing R Extensions manual.\n>>\n>> An alternative is to have a directory where you keep R function scripts.\n>> Put your functions in here in text files with say a .R extension. Then\n>> in R you can source one or more of these R scripts as required, using\n>> the source() function.\n>>\n>> Say you have a directory, myScripts at the base of file system\n>> (/home/user say on Linux or C:\\ on Windows). in this directory there is\n>> a file called my_r_function.R. To use this script/function in an R\n>> session, you would issue:\n>>\n>> ## replace /home/user/ with what ever is the correct path for your\n>> ## system\n>> source(\"/home/user/myScripts/my_r_function.R\")\n>>\n>> Which would make available to your current session any functions defined\n>> in my_r_function.R.\n>>\n>> Read ?source for more information.\n>>\n>> HTH\n>>\n>> G\n>>\n>>>\n>>> thanks, James\n>>>\n>>>\n>>>\n>>>\n>>>\n>>> ____________________________________________________________________________________\n>>>\n>>>\n>>> \t[[alternative HTML version deleted]]\n>>>\n>>> ______________________________________________\n>>> R-help@stat.math.ethz.ch mailing list\n>>> https://stat.ethz.ch/mailman/listinfo/r-help\n>>> PLEASE do read the posting guide\n>>> http://www.R-project.org/posting-guide.html\n>>> and provide commented, minimal, self-contained, reproducible code.\n>> --\n>> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n>>  Gavin Simpson                 [t] +44 (0)20 7679 0522\n>>  ECRC, UCL Geography,          [f] +44 (0)20 7679 0565\n>>  Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk\n>>  Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/\n>>  UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk\n>> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n>>\n>> ______________________________________________\n>> R-help@stat.math.ethz.ch mailing list\n>> https://stat.ethz.ch/mailman/listinfo/r-help\n>> PLEASE do read the posting guide\n>> http://www.R-project.org/posting-guide.html\n>> and provide commented, minimal, self-contained, reproducible code.\n>>\n>>\n>\n>\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}