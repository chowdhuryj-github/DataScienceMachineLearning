{"category": "ham", "to_address": "\"Petr PIKAL\" <petr.pikal@precheza.cz>", "from_address": "\"michael watson \\(IAH-C\\)\" <michael.watson@bbsrc.ac.uk>", "subject": "Re: [R] A matrix with mixed character and numerical columns", "body": "What I am trying to do is create an x-y plot from the numerical values,\nand the output of row() or col() gives me an excellent way of\ncalculating an x- or y- co-ordinate, with the value in the data.frame\nbeing the other half of the pair.\n\nThanks for the code, Petr - I'm sure you would agree, however, that it's\na bit 'clumsy' (no fault of yours).\n\nCan we just adjust row() and col() for data.frames?\n\ncol <- function (x, as.factor = FALSE)\n{\n    if (is.data.frame(x)) {\n      x <- as.matrix(x)\n    }\n    if (as.factor)\n        factor(.Internal(col(x)), labels = colnames(x))\n    else .Internal(col(x))\n}\n\nrow <- function (x, as.factor = FALSE) \n{\n    if (is.data.frame(x)) {\n      x <- as.matrix(x)\n    }\n    if (as.factor) \n        factor(.Internal(row(x)), labels = rownames(x))\n    else .Internal(row(x))\n}\n\nIs there any reason why these won't work?  Am I oversimplifying it?\n\nMick\n-----Original Message-----\nFrom: Petr PIKAL [mailto:petr.pikal@precheza.cz] \nSent: 31 May 2007 12:57\nTo: michael watson (IAH-C)\nCc: r-help@stat.math.ethz.ch\nSubject: Odp: [R] A matrix with mixed character and numerical columns\n\nHi\nr-help-bounces@stat.math.ethz.ch napsal dne 31.05.2007 12:48:11:\n\n> Is it possible to have one?\n> \n> I have a data.frame with two character columns and 6 numerical\ncolumns.\n> \n> I converted to a matrix as I needed to use the col() and row()\n> functions.\n> However, if I convert the data.frame to a matrix, using as.matrix, the\n> numerical columns get converted to characters, and that messes up some\n> of the calculations.\n> \n> Do I really have to split it up into two matrices, one character and\nthe\n> other numerical, just so I can use the col() and row() functions?  Are\n> there equivalent functions for data.frames?\n\nAFAIK I do not remember equivalent functions for data frame. If you just\n\nwant column or row index you can use\n\n1:dim(DF)[1] or 1:dim(DF)[2] for rows and columns\n\nif you want repeat these indexes row or columnwise use\n\nrrr<-rep(1:dim(DF)[1], dim(DF)[2])\nmatrix(rrr,dim(DF)[1], dim(DF)[2])\n\nrrr<-rep(1:dim(DF)[2], dim(DF)[1])\nmatrix(rrr,dim(DF)[1], dim(DF)[2], byrow=T)\n\nRegards\nPetr\n\n\n\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}