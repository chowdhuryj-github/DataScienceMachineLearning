{"category": "ham", "to_address": "Frank E Harrell Jr <f.harrell@vanderbilt.edu>", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] sas.get problem", "body": "\n--- Frank E Harrell Jr \nwrote:\n\n> John Kane wrote:\n> > --- Cody_Hamilton@Edwards.com wrote:\n> >> John,\n> >>\n> >> I believe the format file must have a .sc or\n> >> .sas7bcat  file extension (not\n> >> .sas7bdat which is a sas dataset extension).  I\n> >> think that's why you're\n> >> getting the error F:/sas/formats.sc? or\n> >> formats.sas7bcat not found.\n> > \n> > Current state of play:\n> > Files : SAS 9.x\n> > \n> > formea1.sas7bdat\n> > formea2.sas7bdat\n> > formats.sas7bcat\n> > \n> > I notice that the formats.sas7bcat is drastically\n> > different from the sas.bdat\n> > icons.\n> > \n> > We seem to  be making some progress even if the\n> data\n> > file still has not loaded.\n> > \n> > In the ammended sas.get condition I get an error\n> > object \".R.\" not found.\n> > I hope this is not an Hmisc object.\n> \n> It is.  You need library(Hmisc) in effect before\n> using sas.get.\n> \n> The system output error will be fixed in an upcoming\n> release of Hmisc.\n> \n> Frank\n>\n\nJust as I feared!  Oh well I can still do the SAS >\nSPSS > R routine or use Marc's suggetion to export a\ncsv file.\n\nThanks for the confirmation. I strongly suspected that\n .R. was Hmisc.   \n> > \n> > Thanks\n> > \n> > \n> > Run with Hmisc\n> > \n> > mydata <- sas.get(library=\"F:/sas\", mem=\"formea1\",\n> >              format.library=\"F:/sas\",\n> >   sasprog = '\"C:Program Files/SAS/SAS\n> 9.1/sas.exe\"')\n> >            \n> > Error in sas.get(library = \"F:/sas\", mem =\n> \"formea1\",\n> > format.library = \"F:/sas\",  :\n> >         SAS job failed with status -1\n> > In addition: Warning message:\n> > \"\\\"C:Program not found\n> > \n> > \n> > Run with modified sas.get (Hmisc not loaded)\n> > \n> > Error in sas.get(library = \"F:/sas\", mem =\n> \"formea1\",\n> > format.library = \"F:/sas\",  :\n> >         object \".R.\" not found\n> > \n> > \n> > \n> > \n> > \n> > \n> >> Also, is the carriage return after '\"C:/Program \n> in\n> >> the code below caused\n> >> by copying and pasting into the email or is the\n> code\n> >> that way in your\n> >> program?\n> >>\n> >> Regards,\n> >>     -Cody\n> >>\n> >>\n> >>\n> >>                                                  \n>   \n> >>                       \n> >>              John Kane                           \n>   \n> >>                       \n> >>                 \n> >>                       \n> >>              ca>                                 \n>   \n> >>                    To \n> >>              Sent by:                 \n> >> tchur@optusnet.com.au               \n> >>              r-help-bounces@st                   \n>   \n> >>                    cc \n> >>              at.math.ethz.ch           R R-help\n> >>  \n> >>                                                  \n>   \n> >>               Subject \n> >>                                        Re: [R]\n> >> sas.get problem             \n> >>              04/11/2007 07:41                    \n>   \n> >>                       \n> >>              AM                                  \n>   \n> >>                       \n> >>                                                  \n>   \n> >>                       \n> >>                                                  \n>   \n> >>                       \n> >>                                                  \n>   \n> >>                       \n> >>                                                  \n>   \n> >>                       \n> >>\n> >>\n> >>\n> >>\n> >>\n> >> --- Tim Churches  wrote:\n> >>\n> >>> John Kane wrote:\n> >>>> I  have 3 SAS files all in the directory\n> F:/sas,\n> >>> two\n> >>>> data files\n> >>>> and a format file :\n> >>>> form.ea1.sas7bdat\n> >>>> form.ea2.sas7bdat\n> >>>> sas.fmts.sas7bdat\n> >>>>\n> >>>> F is a USB.\n> >>>> I am using R2.4.1 under Windows XP\n> >>>> SAS files were created with SAS 9.x\n> >>>> They convert easily into SPSS 14\n> >>>> Example.\n> >>>>\n> >>>> library(Hmisc)\n> >>>> mydata <- sas.get(library=\"F:/sas\",\n> >>> mem=\"form.ea1\",\n> >>>>             \n> format.library=\"sas.fmts.sas7bdat\",\n> >>>>            sasprog = '\"C:Program Files/SAS/SAS\n> >>>> 9.1/sas.exe\"')\n> >>>>\n> >>>> Error message  (one of several that I have\n> >> gotten\n> >>>> while trying various things.)\n> >>>> The filename, directory name, or volume label\n> >>> syntax\n> >>>> is incorrect.\n> >>>> Error in sas.get(library = \"F:/sas\", mem =\n> >>> \"form.ea1\",\n> >>>> format.library = \"sas.fmts.sas7bdat\",  :\n> >>>>         SAS job failed with status 1\n> >>>> In addition: Warning messages:\n> >>>> 1: sas.fmts.sas7bdat/formats.sc? or\n> >>> formats.sas7bcat\n> >>>> not found. Formatting ignored.\n> >>>>  in: sas.get(library = \"F:/sas\", mem =\n> >> \"form.ea1\",\n> >>>> format.library = \"sas.fmts.sas7bdat\",\n> >>>> 2: 'cmd' execution failed with error code 1 in:\n> >>>> shell(cmd, wait = TRUE, intern = output)\n> >>> The sas.get function in the Hmisc library is\n> >> broken\n> >>> under Windows.\n> >>>\n> >>> Change line 127 from:\n> >>>\n> >>>     status <- sys(paste(shQuote(sasprog),\n> >>> shQuote(sasin), \"-log\",\n> >>>         shQuote(log.file)), output = FALSE)\n> >>>\n> >>> to:\n> >>>\n> >>>     status <- system(paste(shQuote(sasprog),\n> >>> shQuote(sasin), \"-log\",\n> >>>         shQuote(log.file)))\n> >>>\n> >>> Tim C\n> >> Thanks Tim,\n> >>\n> >> How do I make this change? I naively have tried\n> by\n> >> a) list sas.get and copy to editor\n> >> b) reload R without loading Hmisc\n> >> c) made recommended changes to sas.get\n> >> d) stuck a \"sas.get <- \" in front of the function\n> >> and\n> >> ran it.\n> \n=== message truncated ===\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}