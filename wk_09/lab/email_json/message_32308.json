{"category": "ham", "to_address": "Anup Nandialath <anup_nandialath@yahoo.com>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] A programming question", "body": "On Fri, 2007-05-18 at 09:01 -0700, Anup Nandialath wrote:\n> Dear Friends,\n> \n> My problem is related to how to measure probabilities from a probit\n> model by changing one independent variable keeping the others\n> constant. \n> \n> A simple toy example is like this\n> \n> Range for my variables is defined as follows\n> \n> y=0 or 1,  x1 = -10 to 10, x2=-40 to 100, x3 = -5 to 5\n> \n> Model\n> \n> output <- glim(y ~ x1+x2+x3 -1, family=binomial(link=\"probit\"))\n> outcoef <- output$coef\n> xbeta <- as.matrix(cbind(x1, x2, x3)\n> \n> predprob <- pnorm(xbeta%*%outcoef)\n> \n> now I have the predicted probabilities for y=1 as defined above. My\n> problem is as follows\n> \n> Keep X2 at 20 and X3 at 2. Then compute the predicted probability\n> (predprob) for the entire range of X1 ie from -10 to 10 with an\n> increment of 1.\n> \n> Therefore i need the predicted probabilities when x1=-10,\n> x1=-9....,x1=9, x1=10 keeping the other constant. \n> \n> Can somebody give me some direction on how this can be programmed. \n> \n> Thanks in advance for your help\n> \n> Sincerely\n> \n> Anup\n\nAnup,\n\nWhat glim() function are you using? \n\nOr is that a typo and should be glm()?\n\nIn either case, take a look at ?predict.glm which takes your fitted\nglm() model and generates predicted values based upon specifying a data\nframe ('newdata' argument) containing new values.\n\nBe sure that your 'newdata' data frame contains the same columns AND\nnames as the data used to fit the model.\n\nSo you could do something like:\n\n  newdata <- data.frame(X2 = 20, X3 = 2, X1 = -10:10)\n\n  predict(model, newdata, type = \"response\")\n\nBTW, if you also want the fitted values for the actual data used to\ncreate the model, you can use fitted(model) rather than doing the matrix\nmultiplications directly.  See ?fitted for more information.\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}