{"category": "ham", "to_address": "Stan Hopkins <stanhopkins@comcast.net>, r-help@stat.math.ethz.ch", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] Extracting lists in the dataframe $ format", "body": "I think your indexing is wrong in the function. Note\nthe tble[a] rather than tble[,a]. \n\nTry:\nregression=function(tble,a,b)\n {\n            plot.new()\n            plot(tble[,a]~tble[,b])\n            lmm=lm(tble[,a]~tble[,b])\n            abline(lmm)\n            anova(lmm)\n }\n\n\n\n--- Stan Hopkins  wrote:\n\n> I'm new to R and am trying to extract the factors of\n> a dataframe using numeric indices (e.g. df[1]) that\n> are input to a function definition instead of the\n> other types of references (e.g. df$out).  df[1] is a\n> list(?) whose class is \"dataframe\".  These indexed\n> lists can be printed successfuly but are not\n> agreeable to the plot() and lm() functions shown\n> below as are their df$out references.  Reading the\n> documentation for plot and lm hasn't helped yet. \n> Thanks in advance - Stan.\n> \n> > df=data.frame(out=1:4*3,pred1=1:4,pred2=1:4*2)\n> > regression=function(tble,a,b) \n> + {\n> +            plot.new()\n> +            plot(tble[a]~tble[b])\n> +            lmm=lm(tble[a]~tble[b])\n> +            abline(lmm)\n> +            anova(lmm)\n> + }\n> > df[1]\n>   out\n> 1   3\n> 2   6\n> 3   9\n> 4  12\n> > df\n>   out pred1 pred2\n> 1   3     1     2\n> 2   6     2     4\n> 3   9     3     6\n> 4  12     4     8\n> > regression(df,1,3)\n> Error in model.frame(formula, rownames, variables,\n> varnames, extras, extranames,  : \n>         invalid type (list) for variable 'tble[a]'\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}