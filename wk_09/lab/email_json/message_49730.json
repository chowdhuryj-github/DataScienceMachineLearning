{"category": "ham", "to_address": "\"Economics Guy\" <economics.guy@gmail.com>,\n   r-help <r-help@stat.math.ethz.ch>", "from_address": "\"David Barron\" <mothsailor@googlemail.com>", "subject": "Re: [R] Storing output vector form a loop as a matrix", "body": "I'm not sure I've completely understood this, but would this do what you want:\n\n\nfor (i in 1:N){\n\naa <- sample(a, replace=TRUE)\n\nc <-data.frame(b,aa)\n\noutput <- by(c, aa, function(x) sum(x$b))\n\noutput.matrix[,i] <- as.vector(output)\n}\n\n\n\nOn 17/06/07, Economics Guy  wrote:\n> Based on help files and searching the archives and help from the listserv I\n> have managed to build my monte carlo program.\n>\n> However I cannot get the proper syntax for running the loop and storing the\n> output of each loop (which is a vector) into a matrix.\n>\n> I took out some of the crazy code I was writing, but here is what I have:\n>\n> --------------------\n>\n> rm(list = ls(all = TRUE))\n> # removes everything\n>\n> a <-c(\"A\",\"C\",\"B\",\"A\",\"B\",\"C\")\n>\n> b <-c(10,20,30,40,50,60)\n>\n> c <-data.frame(a,b)\n>\n> N=10 #Number of Loops\n>\n> output.matrix <- matrix(0.0,3,N)\n>\n> #I need to START LOOP HERE\n>\n> a <- sample(a, replace=TRUE)\n>\n> c <-data.frame(b,a)\n>\n> output.vector <- by(c, a, function(x) sum(x$b))\n>\n> output.vector <- as.vector(output)\n>\n> output.vector <- data.frame(output)\n>\n> #END LOOP here\n>\n>\n> --------------------------\n>\n> What I would like to have at the end is the \"output.matrix\" contain as a\n> column the  \"output.vector\" from  each iteration. The actual data frame I\n> will be running has 60,000 observations and I am going to run 20000\n> iterations so speed is important too.\n>\n> Thanks so much\n>\n> EG\n>\n>         [[alternative HTML version deleted]]\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n\n-- \n=================================\nDavid Barron\nSaid Business School\nUniversity of Oxford\nPark End Street\nOxford OX1 1HP\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}