{"category": "ham", "to_address": "tridge@samba.org", "from_address": "Jeremy Allison <jra@samba.org>", "subject": "Re: Volume ID", "body": "On Tue, Jan 16, 2007 at 09:04:29AM +1100, tridge@samba.org wrote:\n> Volker,\n> \n>  > Yep. As I would assume that this is not the most popular\n>  > version I thought adding a hex-scanner would be a bit\n>  > overkill.\n> \n> The following patch would let us accept hex constants for all smb.conf\n> integers, using a 0x prefix (we've used this in Samba4 for a long\n> time).\n> \n> Index: param/loadparm.c\n> ===================================================================\n> --- param/loadparm.c    (revision 20821)\n> +++ param/loadparm.c    (working copy)\n> @@ -2189,7 +2189,7 @@\n>                 return (-1);\n>         }\n> \n> -       return atoi(s);\n> +       return strtol(s, NULL, 0);\n>  }\n> \n>  /*******************************************************************\n\nThat's such a generically good idea it's time we\ndid the same :-).\n\nJeremy.\n\n"}