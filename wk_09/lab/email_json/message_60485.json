{"category": "ham", "to_address": "\"alok nath\" <aloknathlight@yahoo.com>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: parsing a line", "body": "On 7/1/07, alok nath  wrote:\n>\n> Hi Chas,\n>   Can you please explain the portion ( ([\\w ]*\\w)\\s*= )of the regex.?\n>   And why its stored in $s.Can it be directly stored in hash my %rec.\n> Thanks\n> Alok\nsnip\n\nFirst off, the results of the regex are not being stored in $s; the\nregex is being applied to the string in $s.  Therefore the results are\nbeing stored directly into %rec.\n\nAs to what the regex does, whenever one runs up against a regex that\nyou don't understand, it is wise to break the regex into its simplest\nparts and analyze how those parts interact with the input.  The\nfollowing script outputs\n\n\\s*:    [ ]\n[\\w ]*: [Test Descriptio]\n\\w:     [n]\n\\s*:    [ ]\n=:      [=]\n\\s*:    [ ]\n\":      [\"]\n.*?:    [Test 1]\n\":      [\"]\n\n\\s*:    [  ]\n[\\w ]*: [I]\n\\w:     [D]\n\\s*:    [  ]\n=:      [=]\n\\s*:    [  ]\n\":      [\"]\n.*?:    [ID A1]\n\":      [\"]\n\n\\s*:    [ ]\n[\\w ]*: [DirAbsolut]\n\\w:     [e]\n\\s*:    [ ]\n=:      [=]\n\\s*:    [ ]\n\":      [\"]\n.*?:    [C:/perl]\n\":      [\"]\n\nWe can see from this that the pattern [\\w ]*\\w holds the key and the\npattern .*? holds the value.  Also we can see that the whitespace\npatterns match the whitespace characters and the constants match the\nconstants.  One might reasonably ask why we are using  [\\w ]*\\w\ninstead of just [\\w ]+ since \\w is part of the character class.  here\nis the what the output would look like if we did that:\n\n\\s*:    [ ]\n[\\w ]+: [Test Description ]\n\\s*:    [ ]\n=:      [=]\n\\s*:    [ ]\n\":      [\"]\n.*?:    [Test 1]\n\":      [\"]\n\n\\s*:    [  ]\n[\\w ]+: [ID ]\n\\s*:    [  ]\n=:      [=]\n\\s*:    [  ]\n\":      [\"]\n.*?:    [ID A1]\n\":      [\"]\n\n\\s*:    [ ]\n[\\w ]+: [DirAbsolute ]\n\\s*:    [ ]\n=:      [=]\n\\s*:    [ ]\n\":      [\"]\n.*?:    [C:/perl]\n\":      [\"]\n\nAh-ha, it appears as if [\\w ]+ matches the space after the key and the\n\\s* is matching nothing.  This might cause a problem if we are\nexpecting to have \"DirAbsolute\" rather than \"DirAbsolute \".\n\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\n#strings to test\nmy @a = (\n        '',\n);\n\n#regex broken down into individual parts\nmy @parts = (\n        q(\\s*),\n        q([\\w ]*),\n        q(\\w),\n        q(\\s*),\n        q(=),\n        q(\\s*),\n        q(\"),\n        q(.*?),\n        q(\")\n);\n\nmy $regex = join '', map { \"($_)\" } @parts;\n\nfor my $s (@a) {\n        my %h;\n        @h{@parts} = $s =~ /$regex/;\n        print  \"\\n\", map { \"$_:\\t[$h{$_}]\\n\" } @parts;\n}\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}