{"category": "ham", "to_address": "Deepayan Sarkar <deepayan.sarkar@gmail.com>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] Barplot by two variables", "body": "On Thu, 2007-05-10 at 15:58 -0700, Deepayan Sarkar wrote:\n> On 5/10/07, Spilak,Jacqueline [Edm]  wrote:\n> > Hi all\n> > I have a bit of a problem.  I want to make a barplot of some data.  My\n> > data is of a score that is separated by year and by a limit (above 3 and\n> > below 3 to calculate the score).\n> > Year    Limit   HSS\n> > 1999    ALT     0.675\n> > 1999    VFR     0.521\n> > 2000    ALT     0.264\n> > 2000    VFR     0.295\n> >\n> > I would like to have a barplot with year on the x axis and HSS on the y\n> > axis and the two limits as two different colors to show the difference.\n> > Using (dataset$HSS, col=c(\"green\",\"purple\"))  I  get some of the plot\n> > but I don't know how to get labels on the bottom for each year and I\n> > can't get a legend for my barplot.  Not really sure what I am doing\n> > wrong but any help would be much appreciated.\n> \n> Here's one solution using the lattice package:\n> \n> library(lattice)\n> barchart(HSS ~ factor(Year), data = dataset, origin = 0,\n>          groups = Limit, auto.key = TRUE)\n\nAnd here is one using barplot():\n\n> DF\n  Year Limit   HSS\n1 1999   ALT 0.675\n2 1999   VFR 0.521\n3 2000   ALT 0.264\n4 2000   VFR 0.295\n\n\nbarplot(matrix(DF$HSS, ncol = 2), beside = TRUE, \n        names.arg = unique(DF$Year), \n        legend.text = unique(DF$Limit)\n\n\nNote that I convert DF$HSS to a two column matrix to enable using the\nbuilt-in 'beside' argument in barplot() for the bar pairings, much like\nDeepayan has used the formula in barchart() above.\n\nThen it is a matter of getting the unique values for both the Years and\nthe Limits to use them for the x axis labels and the legend text.\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}