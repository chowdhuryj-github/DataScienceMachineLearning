{"category": "ham", "to_address": "Mandy Barron <BarronM@landcareresearch.co.nz>", "from_address": "Chuck Cleland <ccleland@optonline.net>", "subject": "Re: [R] indexing a subset dataframe", "body": "Mandy Barron wrote:\n> Hello\n> I am having problems indexing a subset dataframe, which was created\n> as:\n>> waspsNoGV<-subset(wasps,site!=\"GV\")\n> \n> Fitting a linear model revealed some data points which had high\n> leverage, so I attempted to redo the regression without these data\n> points:\n>> wasps.lm<-lm(r~Nt,data=waspsNoGV[-c(61,69,142),])\n> which resulted in a \"subscript out of bounds\" error.\n> \n> I'm pretty sure the problem is that the data points identified in the\n> regression as having high leverage were the row names carried over from\n> the original dataframe which had 150 rows, but when I try to remove data\n> point #142 from the subset dataframe this tries to reference by a\n> numerical index but there are only 130 data points in the subset\n> dataframe hence the \"subscript out of bounds\" message.  So I guess my\n> question is how do I reference the data points to drop from the\n> regression by name?\n\n  Does this do it?\n\nwasps.lm <- lm(r ~ Nt, data = subset(wasps, site != \"GV\" &\n!(rownames(wasps) %in% c(61,69,142)))\n\n> Thanks\n> Mandy\n> ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n> WARNING: This email and any attachments may be confidential ...{{dropped}}\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code. \n\n-- \nChuck Cleland, Ph.D.\nNDRI, Inc.\n71 West 23rd Street, 8th floor\nNew York, NY 10010\ntel: (212) 845-4495 (Tu, Th)\ntel: (732) 512-0171 (M, W, F)\nfax: (917) 438-0894\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}