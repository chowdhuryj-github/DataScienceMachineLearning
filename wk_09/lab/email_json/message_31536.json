{"category": "ham", "to_address": "sugar@laptop.org", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "Re: [sugar] [PATCH] bin/datastore-service: respect $SUGAR_PROFILE,\n\tallowing multiple instances", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nThis patch is also in http://projects.collabora.co.uk/~smcv/git/datastore.git\nif you want to merge it.\n\nRegards,\n- -- \nSimon McVittie, Collabora Ltd.: http://www.collabora.co.uk/\n\nOn Thu, 17 May 2007 at 13:23:45 +0100, Simon McVittie wrote:\n> ---\n>  bin/datastore-service |    3 ++-\n>  1 files changed, 2 insertions(+), 1 deletions(-)\n> \n> diff --git a/bin/datastore-service b/bin/datastore-service\n> index e2a96d9..cad9fc4 100755\n> --- a/bin/datastore-service\n> +++ b/bin/datastore-service\n> @@ -7,7 +7,8 @@ from olpc.datastore import DataStore, DS_LOG_CHANNEL\n>  import logging\n>  \n>  # Path handling\n> -base_dir = os.path.expanduser(\"~/.sugar/default\")\n> +profile = os.environ.get('SUGAR_PROFILE', 'default')\n> +base_dir = os.path.join(os.path.expanduser('~'), '.sugar', profile)\n>  repo_dir = os.path.join(base_dir, 'datastore')\n>  db_dir   = \"sqlite:///%s/datastore.db\"  % repo_dir\n>  \n> -- \n> 1.5.2-rc3.GIT\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGTEyOWSc8zVUw7HYRAodIAJ9xrpFAfGqpRJleV5EjHL792l7+WACdFSp3\nIsMJywnWsIzQi0xBS4fGCco=\n=E/NW\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}