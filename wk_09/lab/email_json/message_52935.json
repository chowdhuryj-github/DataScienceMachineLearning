{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Ben Bolker <bolker@ufl.edu>", "subject": "Re: [R] extract index during execution of sapply", "body": "Christian Bieli  unibas.ch> writes:\n\n> \n> Hi there\n> During execution of sapply I want to extract the number of times the \n> function given to supply has been executed. I came up with:\n> \n> mylist <- list(a=3,b=6,c=9)\n> sapply(mylist,function(x)as.numeric(gsub(\"[^0-9]\",\"\",deparse(substitute(x)))))\n> \n> This works fine, but looks quite ugly. I'm sure that there's a more \n> elegant way to do this.\n> \n> Any suggestion?\n> \n> Christian\n> \n\n   I would love to have an answer to this -- when I run\ninto this kind of problem I usually end up using mapply:\ne.g., suppose I have\n\nmylist <- replicate(5,list(x=runif(10),y=runif(10)),simplify=FALSE)\n\nand I want to plot each element in a different color.  I'd like\nto be able to do\n\nplot(0:1,0:1,type=\"n\")\nlapply(mylist,plot,col=i)\n\nbut instead I do\n\nmapply(function(x,i) points(x,col=i),mylist,1:5)\n\nwould it be too ugly to have a special variable called INDEX\nthat could be used within an sapply/lapply statement?\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}