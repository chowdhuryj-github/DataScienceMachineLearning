{"category": "ham", "to_address": "p2 <parrot-porters@perl.org>", "from_address": "chromatic <chromatic@wgz.org>", "subject": "Re: [File of the Week] src/objects.c", "body": "On Tuesday 01 May 2007 12:12:35 Kevin Tew wrote:\n\n> This week's file of the week is:\n> src/object.c\n>\n> As Allison says below, no patch is to small.\n> typo fixes, spelling fixes, documentation welcome, as well as code\n> refactorings.\n\nI missed it last week, but create_deleg_pmc_vtable() has some awkward code:\n\n            if (((void **)delegate_vtable)[i] == ((void**)object_vtable)[i]) {\n                if (ro_vtable)\n                    ((void **)ro_vtable)[i] = ((void**)deleg_pmc_vtable)[i];\n                ((void **)vtable)[i] = ((void**)deleg_pmc_vtable)[i];\n            }\n            else {\n                ((void **)vtable)[i] = ((void**)object_vtable)[i];\n                if (ro_vtable)\n                    ((void **)ro_vtable)[i] = ((void**)ro_object_vtable)[i];\n\nAll those void ** casts bother me.\n\n-- c\n\n"}