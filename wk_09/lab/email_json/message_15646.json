{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r22521 - in\n\tbranches/SAMBA_4_0/source/dsdb/samdb/ldb_modules: .", "body": "Author: abartlet\nDate: 2007-04-25 16:36:15 +0000 (Wed, 25 Apr 2007)\nNew Revision: 22521\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22521\n\nLog:\nDon't fail the module load just because we don't have a schema yet.\n\nThis code to be replaced by metze's schema loader soon...\n\nAndrew Bartlett\n\nModified:\n   branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\n===================================================================\n--- branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\t2007-04-25 16:10:54 UTC (rev 22520)\n+++ branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\t2007-04-25 16:36:15 UTC (rev 22521)\n@@ -790,8 +790,8 @@\n \tret = fetch_objectclass_schema(module->ldb, schema_dn, entryUUID_private, \n \t\t\t\t       &entryUUID_private->objectclass_res);\n \tif (ret != LDB_SUCCESS) {\n-\t\tldb_asprintf_errstring(module->ldb, \"Failed to fetch objectClass schema elements: %s\\n\", ldb_errstring(module->ldb));\n-\t\treturn ret;\n+\t\t/* Perhaps no schema yet */\n+\t\treturn LDB_SUCCESS;\n \t}\t\n \n \tret = find_base_dns(module, entryUUID_private);\n@@ -825,8 +825,8 @@\n \tret = fetch_objectclass_schema(module->ldb, schema_dn, entryUUID_private, \n \t\t\t\t       &entryUUID_private->objectclass_res);\n \tif (ret != LDB_SUCCESS) {\n-\t\tldb_asprintf_errstring(module->ldb, \"Failed to fetch objectClass schema elements: %s\\n\", ldb_errstring(module->ldb));\n-\t\treturn ret;\n+\t\t/* Perhaps no schema yet */\n+\t\treturn LDB_SUCCESS;\n \t}\t\n \n \tret = find_base_dns(module, entryUUID_private);\n\n"}