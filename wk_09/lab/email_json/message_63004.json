{"category": "ham", "to_address": "James Peach <jpeach@samba.org>,\n   \"Stefan (metze) Metzmacher\" <metze@samba.org>", "from_address": "\"Gerald (Jerry) Carter\" <jerry@samba.org>", "subject": "Re: Updates to work flow descriptions for GIT", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nJames Peach wrote:\n\n>>\n>> how do you managed to only have the interesting branches instead of all?\n> \n> git-svn init svn+ssh://svn.samba.org/data/svn/samba\n> [edit .git/config]\n> git-svn fetch\n> \n> When you edit .git/config, make it look like this:\n> \n> [svn-remote \"svn\"]\n>         url = svn+ssh://svn.samba.org/data/svn/samba\n>         fetch = branches/SAMBA_3_0:refs/remotes/samba3\n>         fetch = branches/SAMBA_4_0:refs/remotes/samba4\n>         fetch = branches/SAMBA_3_0_25:refs/remotes/samba3025\n> \n> ie. remove the wildcards and add explicit mappings for the branches you\n> care about. you can add new mappings later and 'git-svn fetch' will pick\n> them up.\n\nActually I grabbed everything and then created local branches\nthat I push out. In my .git/config, I just added:\n\n[remote \"samba\"]\n        url = jerry@git.samba.org:/data/git/samba.git\n        push = v3-0\n        push = v3-0-23\n        push = v3-0-24\n        push = v3-0-25\n        push = v3-0-26\n        push = v4-0\n\nwhere each local branch was created from remotes/SAMBA_X_X\n\n>> do you use git-svn dcommit ? If so it would be \n>> interesting what the workflow is to commit from back to\n>> svn from a local feature branch\n\nok. Obviously this is a bit different than people without\nsvn write access would work.  Normally the git-svn repo is\nstrictly a mirror and used to push changes to the master\nrepo on git.samba.org.\n\nInitially I clone git://git.samba.org/samba/ like everyone else\nand work exclusively from there. When something is ready to\nbe merged upstream, I simply\n\n  $ git-pull --squash /path/to/local/tree \n  $ git-svn dcommit\n\nTo merge to another branch (say merge a change to SAMBA_3_0_26\nthat I just checked into SAMBA_3_0), I use git-cherry-pick to\nmerge the single change.\n\nAnd to send out patches to the mailing list, I do something like:\n\n  $ git-format-patch --attach -1\n  ....edit generated file\n  ....add comments to msg body and extra To: and CC: lines\n  $ git-send-email \n\nPS: If you want the svn+ssh:// git mirror, you can grab it\nfrom rsync://us2.samba.org/src/samba-svn.git.tgz (~170Mb)\nOnce you untar it, just run \"git-svn fetch\"  You also see\nthe local working branches for v3-0, et. al. which you can\nremove and create you own.  The sha1 hashes should continue\nto be the same between the master mirror and your local copy\ndue git generates the content hashes.\n\nPSS: That tarball will be of no use to people without svn\nwrite access.\n\n\n\n\ncheers, jerry\n=====================================================================\nSamba                                    ------- http://www.samba.org\nCenteris                         -----------  http://www.centeris.com\n\"What man is a man who does not make the world better?\"      --Balian\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: Using GnuPG with Mozilla - http://enigmail.mozdev.org\n\niD8DBQFGjTGBIR7qMdg1EfYRAqcZAKDofvXLJ5wI8FyPkWipOnow6YZuNQCgmoVp\np/mRHqfZYhb34jI9wtK15HI=\n=A1h4\n-----END PGP SIGNATURE-----\n\n"}