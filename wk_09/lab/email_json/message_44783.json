{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "gd@samba.org", "subject": "svn commit: samba r23384 - in branches/SAMBA_4_0/source: librpc/idl\n\trpc_server/netlogon", "body": "Author: gd\nDate: 2007-06-08 10:49:46 +0000 (Fri, 08 Jun 2007)\nNew Revision: 23384\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23384\n\nLog:\nFill in NETLOGON netr_DsRGetForestTrustInformation().\n\nGuenther\n\nModified:\n   branches/SAMBA_4_0/source/librpc/idl/netlogon.idl\n   branches/SAMBA_4_0/source/rpc_server/netlogon/dcerpc_netlogon.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/librpc/idl/netlogon.idl\n===================================================================\n--- branches/SAMBA_4_0/source/librpc/idl/netlogon.idl\t2007-06-08 10:43:42 UTC (rev 23383)\n+++ branches/SAMBA_4_0/source/librpc/idl/netlogon.idl\t2007-06-08 10:49:46 UTC (rev 23384)\n@@ -1227,8 +1227,16 @@\n \n \t/****************/\n \t/* Function 0x2b */\n-\tWERROR netr_DSRGETFORESTTRUSTINFORMATION();\n \n+\tconst int DS_GFTI_UPDATE_TDO = 0x1;\n+\n+\tWERROR netr_DsRGetForestTrustInformation(\n+\t\t[in] [string,charset(UTF16)] uint16 *server_name,\n+\t\t[in] [string,charset(UTF16)] uint16 *trusted_domain_name,\n+\t\t[in] uint32 flags,\n+\t\t[out,ref] lsa_ForestTrustInformation **forest_trust_info\n+\t\t);\n+\n \t/****************/\n \t/* Function 0x2c */\n \tWERROR netr_NETRGETFORESTTRUSTINFORMATION();\n\nModified: branches/SAMBA_4_0/source/rpc_server/netlogon/dcerpc_netlogon.c\n===================================================================\n--- branches/SAMBA_4_0/source/rpc_server/netlogon/dcerpc_netlogon.c\t2007-06-08 10:43:42 UTC (rev 23383)\n+++ branches/SAMBA_4_0/source/rpc_server/netlogon/dcerpc_netlogon.c\t2007-06-08 10:49:46 UTC (rev 23384)\n@@ -1214,10 +1214,10 @@\n \n \n /* \n-  netr_DSRGETFORESTTRUSTINFORMATION \n+  netr_DsRGetForestTrustInformation \n */\n-static WERROR dcesrv_netr_DSRGETFORESTTRUSTINFORMATION(struct dcesrv_call_state *dce_call, TALLOC_CTX *mem_ctx,\n-\t\t       struct netr_DSRGETFORESTTRUSTINFORMATION *r)\n+static WERROR dcesrv_netr_DsRGetForestTrustInformation(struct dcesrv_call_state *dce_call, TALLOC_CTX *mem_ctx,\n+\t\t       struct netr_DsRGetForestTrustInformation *r)\n {\n \tDCESRV_FAULT(DCERPC_FAULT_OP_RNG_ERROR);\n }\n\n"}