{"category": "ham", "to_address": "Volker.Lendecke@SerNet.DE", "from_address": "tridge@samba.org", "subject": "Re: ctdb shortcut locking", "body": "Volker,\n\n > For my taste this too much depends on the order in which the\n > SETLKW requests are replied. Under Linux it seems that new\n > requests are added to the end of the queue. But I don't feel\n > good to count on this for all Unixes. From the docs I've\n > looked at I did not see a guaranteed ordering on who wins\n > the SETLKW race.\n\nIf that were a problem, then wouldn't it also be a problem right now\nwith normal tdb and non-clustered Samba? If the OS didn't queue locks\nin order then a smbd could be stuck forever waiting for a lock on a\nbusy record.\n\nCheers, Tridge\n\n"}