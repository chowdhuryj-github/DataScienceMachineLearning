{"category": "ham", "to_address": "\"Bruno C.\" <bruno.c@inwind.it>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] Query about RODBC to access MySQL from Windows", "body": "On Thu, 3 May 2007, Bruno C. wrote:\n\n> First, try this kind of connection string\n> channel <- odbcConnect(\"mysqldsn\",\"uname;Password=pwd;Database=default_db\")\n\nI presume the DSN was set up in a dialog box under Windows, and tested \nthere (which provides a different client).\n\nThis makes me suspect the DSN is valid, but pointing at the wrong \ndatabase.  I noticed (s)he did not use 'use default_db; show tables;\"\nwhen running from RODBC, which would have been a fairer test.\n\nSimple diagnostic output like that from odbcGetInfo() is missing from the \nreport.\n\n> If it doesn't work, in order to understand if it's a permission issue, \n> try to connect with another client (still using the RODBC!!if you use \n> the mysql client, you will not use ODBC but the mysql driver!!!).\n>\n> If it dooesn't solve the problem, give us more details on how you \n> retrieve the data...\n\n(And read the posting guide and try to ask a question that we have some \nhope of answering, for example, one about R!)\n\n>> Hi\n>> I am trying to use RODBC in R installed on Windows to\n>> access MySQL database (on a linux box).\n>> I set up a DSN and specified this DSN in R as follows\n>> library(RODBC);\n>> channel <- odbcConnect(\"mysqldsn\");\n>> RODB Connection 5\n>> Details:\n>>   case=nochange\n>>   PORT=3306\n>> ........\n>> Although this seems to connect properly, running any\n>> command yields NO results.\n>> i.e. sqlQuery(channel, \"show tables\") yields 0 rows\n>> when there are close to 500 tables in the database.\n>> Ditto with any other query. It does not cause an\n>> error, but it returns 0 rows.\n>>\n>> The USER DSN \"mysqldsn\" is set up as follows :-\n>> host : zion.xxx.xxx.xxx\n>> default database : default_db\n>> port : 3306\n>> username : uname\n>> password : pwd\n>>\n>> Running \" use default_db; show tables;\" command from\n>> the command prompt on the db server returns 500 rows.\n>>\n>> I find this problem while running any query.\n>> Running \"select * from tname limit 100\" returns 0 rows\n>> whereas tname has around a million records.\n>>\n>> In the past, I have used MySQL clients for Windows to\n>> access  the database without encountering any such\n>> problem\n>>\n>> I even tried setting up the \"mysqldsn\" DSN as a system\n>> DSN instead of a user DSN.\n>>\n>> I would like to know\n>> a) whether this is a permissions issue at some level\n>> b) whether there is any solution for this problem in R\n>>\n>>\n>>\n>> Thanks\n>> Lalitha\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}