{"category": "ham", "to_address": "\"Thompson, Jonathan\" <jonathan.thompson@oregonstate.edu>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] Aggregate to find majority level of a factor", "body": "On Thu, 2007-05-31 at 12:25 -0700, Thompson, Jonathan wrote:\n> I want to use the aggregate function to summarize data by a factor (my\n> field plots), but I want the summary to be the majority level of another\n> factor.\n> \n>  \n> For example, given the dataframe:\n> \n> Plot1     big\n> Plot1     big\n> Plot1     small\n> Plot2     big\n> Plot2     small    \n> Plot2     small\n> Plot3     small\n> Plot3     small\n> Plot3     small\n> \n> \n> My desired result would be:\n> Plot1 big\n> Plot2 small\n> Plot3 small\n> \n> \n> I can't seem to find a scalar function that will give me the majority\n> level. \n> \n> Thanks in advance,\n> \n> Jonathan Thompson\n\nJonathan,\n\nTry this:\n\n> DF\n     V1    V2\n1 Plot1   big\n2 Plot1   big\n3 Plot1 small\n4 Plot2   big\n5 Plot2 small\n6 Plot2 small\n7 Plot3 small\n8 Plot3 small\n9 Plot3 small\n\n\n> with(DF, aggregate(V2, list(V1), function(x) names(which.max(table(x)))))\n  Group.1     x\n1   Plot1   big\n2   Plot2 small\n3   Plot3 small\n\n\nSee ?which.max, ?names and ?table.\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}