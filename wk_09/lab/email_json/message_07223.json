{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r22285 - in branches: SAMBA_3_0/source/param\n\tSAMBA_3_0_25/source/param", "body": "Author: jra\nDate: 2007-04-16 22:42:45 +0000 (Mon, 16 Apr 2007)\nNew Revision: 22285\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22285\n\nLog:\nAllow arbitrary bases in int and ulong parsing.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/param/loadparm.c\n   branches/SAMBA_3_0_25/source/param/loadparm.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/param/loadparm.c\n===================================================================\n--- branches/SAMBA_3_0/source/param/loadparm.c\t2007-04-16 22:19:51 UTC (rev 22284)\n+++ branches/SAMBA_3_0/source/param/loadparm.c\t2007-04-16 22:42:45 UTC (rev 22285)\n@@ -2232,7 +2232,7 @@\n \t\treturn (-1);\n \t}\n \n-\treturn atoi(s); \n+\treturn (int)strtol(s, NULL, 0);\n }\n \n /*******************************************************************\n@@ -2246,7 +2246,7 @@\n \t\treturn (0);\n \t}\n \n-\treturn strtoul(s, NULL, 10);\n+\treturn strtoul(s, NULL, 0);\n }\n \n /*******************************************************************\n\nModified: branches/SAMBA_3_0_25/source/param/loadparm.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/param/loadparm.c\t2007-04-16 22:19:51 UTC (rev 22284)\n+++ branches/SAMBA_3_0_25/source/param/loadparm.c\t2007-04-16 22:42:45 UTC (rev 22285)\n@@ -2229,7 +2229,7 @@\n \t\treturn (-1);\n \t}\n \n-\treturn atoi(s); \n+\treturn (int)strtol(s, NULL, 0);\n }\n \n /*******************************************************************\n@@ -2243,7 +2243,7 @@\n \t\treturn (0);\n \t}\n \n-\treturn strtoul(s, NULL, 10);\n+\treturn strtoul(s, NULL, 0);\n }\n \n /*******************************************************************\n\n"}