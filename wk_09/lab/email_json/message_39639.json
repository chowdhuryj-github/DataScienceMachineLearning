{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Jan.Schwanbeck@hydrologie.unibe.ch", "subject": "[R] plotting variable sections of hourly time series data using\n\tplot.zoo", "body": "\nDear list,\n\nI have to look examine hourly time - series and would like to plot variable\nsection of them using plot.zoo.\n\n\nHourly time series data which looks like this:\n\nYYYY MM DD HH    P-uk    P-kor   P-SME   EPOT    EREA     RO     R1\nR2      RGES   S-SNO     SI    SSM       SUZ    SLZ\n 2003  1  1  1        0.385   0.456   0.021   0.000   0.000   0.000   0.013\n0.223   0.235    0.01    0.38   74.72    0.96  736.51\n 2003  1  1  2        0.230   0.275   0.028   0.000   0.000   0.000   0.012\n0.223   0.235    0.03    0.56   74.72    0.94  736.37\n\n#With help of read.table I got  the data into R :\n\nDF <- read.table(file=fn,header=FALSE,skip=2)\n\n#Substitute the header:\n\nnames(DF) <-\nc(\"year\",\"month\",\"day\",\"hour\",\"FN\",\"Punc\",\"Pcor\",\"Pmelt\",\"ETP\",\"ETR\",\"RS\",\"RI\",\"RB\",\"Rtot\",\"Ssnow\",\"SI\",\"SSM\",\"SUZ\",\"SLZ\")\n\n#Create datetime vector\n\nlibrary(chron)\nDF$datetime <- with(DF,chron(paste(month,day,year,sep=\"/\"))+hour/24)\n\n#Try to convert DF into ts - object DFts\n\nDFts <- as.ts(DF)  # works, but gives back: Warning message: Class\ninformation of one or more columns was lost.???\n\n#Try to convert DF into zoo - object DFzoo\n\nlibrary(zoo)\nDFzoo <- as.zoo(DFts)\n\n#Plot of whole time series skipping first 5 and last 3 columns\n\nplot.zoo(DFzoo[ ,6:ncol(myDFzoo-3)])\n\n# works, but  x-axis labels are numbers from 1 to ...last hour\n\n\nI would like to use plot.zoo  for plotting:\n-  the whole period (3years)  --> axis-labels month and year\n-  section of few days defining begin and end as date  --> axis-label day\nand month (may be hour)\n\nAfer long tries with \"as.Date\" and Co. I still didn't get any useful\nresult.\n\nFurther is there any possibility to define the plot window using two\nvariables like:\n\nbegin <- \"22/2/2003 01:00:00\"\nend <- \"26/3/2003 07:00:00\"\n\nto plot the time series section in between this two dates?\n\nI am even not sure if the zoo package was the right choise for my problem.\n\nThanks a lot in advance\n\nBest regards\n\nJan\n\nUniversity of Berne\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}