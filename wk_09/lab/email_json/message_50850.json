{"category": "ham", "to_address": "\"Matthew Trunnell\" <trunnell@cognix.net>", "from_address": "\"Deepayan Sarkar\" <deepayan.sarkar@gmail.com>", "subject": "Re: [R] Histograms with strings, grouped by repeat count (w/ data)", "body": "On 6/18/07, Matthew Trunnell  wrote:\n> Aha!  So to expand that from the original expression,\n>\n> > table(table(d$filename, d$email_addr))\n>\n>   0   1   2   3\n> 253  20   8   9\n>\n> I think that is exactly what I'm looking for.  I knew it must be\n> simple!!!  What does the 0 column represent?\n\nNumber of unique filename:email_addr combinations that don't occur in the data.\n\n> Also, does this tell me the same thing, filtered by Japan?\n> > table(table(d$filename, d$email_addr, d$country_residence)[d$country_residence==\"Japan\"])\n>\n>   0   1   2   3\n> 958   5   2   1\n\nNo it doesn't.\n\n> length(table(d$filename, d$email_addr, d$country_residence))\n[1] 4350\n> length(d$country_residence)\n[1] 63\n\nYou are using an index that is meaningless.\n\n\nThere's an alternative tabulation function that uses a formula\ninterface similar to that used in modeling functions; this might be\nmore transparent for your case:\n\n> count <-\n+     xtabs(~filename + email_addr, data = d,\n+           subset = country_residence == \"Japan\")\n> xtabs(~count)\ncount\n  0   1   3\n284   2   4\n\n\n> How does that differ logically from this?\n>\n> > table(table(d$filename, d$email_addr)[d$country_residence==\"Japan\"])\n>\n>  0  1  2  3\n> 51  4  2  1\n\nThis is also using meaningless indexing.\n\nNote, incidentally, that you are indexing a matrix of dimension 10x29\nas if it were a vector of length 290, which is probably not what you\nmeant to do anyway:\n\n> str(table(d$filename, d$email_addr))\n 'table' int [1:10, 1:29] 1 0 0 0 0 0 0 0 0 0 ...\n - attr(*, \"dimnames\")=List of 2\n  ..$ : chr [1:10] \"file1\" \"file10\" \"file2\" \"file3\" ...\n  ..$ : chr [1:29] \"email1\" \"email10\" \"email11\" \"email12\" ...\n\nYou need to read help(Extract) carefully and play around with some\nsimple examples.\n\n> I don't understand why that produces different results.  The first one\n> adds a third dimension to the table, but limits that third dimension\n> to a single element, Japan.  Shouldn't it be the same?  And again,\n> what's that zero column?\n\nAs before, they are the empty combinations.\n\n-Deepayan\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}