{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Ulrik Stervbo\" <ulrik.stervbo@gmail.com>", "subject": "[R] Runing R in a bash script", "body": "Hello!\n\nI am having issues trying to plot to a ong (or jpg)  when the R-code in a\nbash script is executed from cron.\n\nI can generate a pdf file, but when I try to write to a png, the file is\ncreated, but nothing is written. If I execute the bash script from my\nconsole, everything works file. Any ideas?\n\nIn my cron I have SHELL=/bin/bash - otherwise /bin/shell is used and the\nfolowing enery, so example is executed every minute\n* * * * * [path]/example.sh\n\nI am running\nR version 2.4.1 (2006-12-18)\n\nHere's a minimal example - two files one R-script ('example.r') and one\nbash-script ('example.sh')\n\nexample.r\n# Example R-script\nx <- c(1:10)\ny <- x^2\npng(file=\"example2.png\")\n#pdf(file=\"example2.pdf\")\nplot(x,y)\ngraphics.off()\n\nexample.sh\n#/bin/bash\n#\n# Hello world is written to exhotext every time cron executes this script\necho \"Hello world\" > echotext\n# This works, but not when executed from cron\nn=`R --save < example.r`\n# using exec as in `exec R --save < example.r` dosent work with cron either\n# This also works, but nothing is written to the png when executed from cron\nR --save <<RSCRIPT\nx <- c(1:10)\ny <- x^2\npng(file=\"example2.png\")\n#pdf(file=\"example2.pdf\")\nplot(x,y)\ngraphics.off()\n#dev.off() dosent work at all when executed from cron\nRSCRIPT\n\nThanks\nUlrik\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}