{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Anup Nandialath <anup_nandialath@yahoo.com>", "subject": "[R] Help with conditional lagging of data", "body": "Dear Friends,\n\nI have some data with three columns named ID, Year and Measure X. I need to create a column which gives me a lag for each ID (note not a continous lag), but a lag conditional on the id and the given year. Please find below a sample of the data\n\nInput file sample\n\nID     Year     X\n\nAB12   2000    100\nAB12   2001    120\nAB12   2002    140\nAB12   2003    80\nBL14   2000    180\nBL14   2001    150\nCR93   2000    45\nCR93   2001    49\nCR93   2002    56\nCR93   2003    67\n\nExpected output from this data\n\nID     Year   Xlag\nAB12   2000     .\nAB12   2001   20\nAB12   2002   20\nAB12   2003   -60\nBL12   2000    .\nBL14   2001   -30\nCR93   2000     .\nCR93   2001     5\nCR93   2002     7\nCR93   2003     9\n\nCan somebody please help me with how to implement this in R. Thanks.\n\nSincerely\n\nAnup\n\n\n       \n---------------------------------\nLooking for a deal? Find great prices on flights and hotels with Yahoo! FareChase.\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}