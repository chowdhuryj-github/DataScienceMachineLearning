{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jerry@samba.org", "subject": "svn commit: samba r22701 - in branches: SAMBA_3_0/source/libads\n\tSAMBA_3_0_26/source/libads", "body": "Author: jerry\nDate: 2007-05-06 18:56:43 +0000 (Sun, 06 May 2007)\nNew Revision: 22701\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22701\n\nLog:\nFix the krb5_nt_status error table and add the \"no DCs found\" mapping\n\n\nModified:\n   branches/SAMBA_3_0/source/libads/krb5_errs.c\n   branches/SAMBA_3_0_26/source/libads/krb5_errs.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/libads/krb5_errs.c\n===================================================================\n--- branches/SAMBA_3_0/source/libads/krb5_errs.c\t2007-05-06 18:39:31 UTC (rev 22700)\n+++ branches/SAMBA_3_0/source/libads/krb5_errs.c\t2007-05-06 18:56:43 UTC (rev 22701)\n@@ -58,10 +58,12 @@\n #endif\n \t{KRB5_CC_NOTFOUND, NT_STATUS_NO_SUCH_FILE},\n \t{KRB5_FCC_NOFILE, NT_STATUS_NO_SUCH_FILE},\n-\t{KRB5KDC_ERR_NONE, NT_STATUS_OK},\n \t{KRB5_RC_MALLOC, NT_STATUS_NO_MEMORY},\n \t{ENOMEM, NT_STATUS_NO_MEMORY},\n-\t{0, NT_STATUS_OK}\n+\t{KRB5_REALM_CANT_RESOLVE, NT_STATUS_DOMAIN_CONTROLLER_NOT_FOUND},\n+\n+\t/* Must be last entry */\n+\t{KRB5KDC_ERR_NONE, NT_STATUS_OK}\n };\n \n static const struct {\n\nModified: branches/SAMBA_3_0_26/source/libads/krb5_errs.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/libads/krb5_errs.c\t2007-05-06 18:39:31 UTC (rev 22700)\n+++ branches/SAMBA_3_0_26/source/libads/krb5_errs.c\t2007-05-06 18:56:43 UTC (rev 22701)\n@@ -58,10 +58,12 @@\n #endif\n \t{KRB5_CC_NOTFOUND, NT_STATUS_NO_SUCH_FILE},\n \t{KRB5_FCC_NOFILE, NT_STATUS_NO_SUCH_FILE},\n-\t{KRB5KDC_ERR_NONE, NT_STATUS_OK},\n \t{KRB5_RC_MALLOC, NT_STATUS_NO_MEMORY},\n \t{ENOMEM, NT_STATUS_NO_MEMORY},\n-\t{0, NT_STATUS_OK}\n+\t{KRB5_REALM_CANT_RESOLVE, NT_STATUS_DOMAIN_CONTROLLER_NOT_FOUND},\n+\n+\t/* Must be last entry */\n+\t{KRB5KDC_ERR_NONE, NT_STATUS_OK}\n };\n \n static const struct {\n\n"}