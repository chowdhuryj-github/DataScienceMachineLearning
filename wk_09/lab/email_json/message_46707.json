{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Northstardomus <northstardomus@gmail.com>", "subject": "Re: Database insertion, escape issue", "body": "On Jun 12, 8:48 am, J...@Krynicky.cz (Jenda Krynicky) wrote:\n> From: \"Mumia W.\" \n>\n> > On 06/11/2007 06:52 PM, Northstardomus wrote:\n> > > [...]\n> > >         print \"Inserting into Database , @values.\";\n>\n> > Use the \"quotemeta\" function to escape special characters\n> > that may be in the values.\n>\n> Please don't!\n>\n>\n>\n>\n>\n> >    my @values_copy = @values;\n> >    @values = map quotemeta($_), @values;\n>\n> > >         $dbh->do(\"INSERT INTO area_status (areaID, survey_date,\n> > > update_time,\n>\n> > > status ) VALUES ('$values[0]', '$values[1]', '$values[2]',\n> > > '$values[3]')\");\n> > >         $dbh->disconnect();\n> > >     }\n> > > }\n>\n> > Read \"perldoc -f quotemeta\"\n>\n> Please do!\n>\n> The quotemeta() should NOT be used to escape data for the database.\n> It was not designed for that and it knows nothing about your\n> database. So it will most likely escape too much (it doesn't look too\n> professional to display the text with backslashes scattered\n> everywhere) and/or it may escape something in a different way than\n> the database expects.\n>\n> Either use the DATABASE SPECIFIC $dbh->quote() or even better use\n> $dbh->prepare() and placeholders. That's by far the safest and most\n> efficient solution.\n>\n> Jenda\n> ===== J...@Krynicky.cz ===http://Jenda.Krynicky.cz=====\n> When it comes to wine, women and song, wizards are allowed\n> to get drunk and croon as much as they like.\n>         -- Terry Pratchett in Sourcery- Hide quoted text -\n>\n> - Show quoted text -\n\nI'll try the prepare ASAP (tonight at the earliest) and post the\nresults.  For some reason, I thought that was what I was doing but\nlooking through the code it appears I haven't.  Thanks!\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}