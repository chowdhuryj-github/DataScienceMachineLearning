{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "spime <sabya23@gmail.com>", "subject": "Re: [R] Error using mgcv package", "body": "\nDear Mr. Oksanen,\n\nFirst of all thanks for your reply. I have solved this problem in this way.\nMy data consists of some categorical(CAT..) predictors and also some\nnumerical variables(NUM..) have only {0,1} 0r {0,1,2,3} values. For applying\nGAM i just didnot consider their splines. I had came to this decision\nbecause when i tested the same data on S-PLUS, i got an error regarding the\napplicability of s(...) function on the predictors less than 4 different\nvalues. I dont know whether gam() of S-PLUS and gam() of mgcv(R) are same or\nnot. anyway, thanks for your kind reply.\n\nbye\n\n\nJari Oksanen wrote:\n> \n> spime  gmail.com> writes:\n> \n>> \n>> \n>> Hi all,\n>> \n>> I need some solution in the following problem. The following error\n>> appears\n>> when i use \"mgcv\" package for implementing GAM. But the same formula\n>> works\n>> fine in \"gam\" package.\n>> \n>> > model.gam <- gam(formula = RES ~\n>> > CAT01+s(NUM01,5)+CAT02+CAT03+s(NUM02,5)+CAT04+\n>> + CAT05+s(NUM03,5)+CAT06+CAT07+s(NUM04,5)+CAT08+s(NUM05,5)+CAT09+\n>> + CAT10+s(NUM06,5)+CAT11+NUM07+CAT12+CAT13,\n>> + family = binomial(link = logit), data = train.data,na.action =\n>> na.exclude,\n>> + control = list(epsilon = 0.001,bf.epsilon = 0.001, maxit = 50, \n>> + bf.maxit = 10, trace = F))\n>> \n>> Error in terms.formula(reformulate(term[i])) : \n>>         invalid model formula in ExtractVars\n>> \n> It seems that nobody answered this (in public). \n> \n> It seems that function s() in mgcv is defined as:\n> \n> s(..., k = -1, fx = FALSE, bs = \"tp\", m = 0, by = NA) \n> \n> (Like you see reading its help ?s). The function definition starts with\n> \"...\",\n> and after three dots you cannot use positional arguments, but you must\n> give the\n> full argument name. Try replacing s(NUM01, 5) with s(NUM01, k=5). See also\n> help\n> in mgcv (?s pointing to ?choose.k) for interpreting argument 'k' which is\n> not\n> directly degrees of freedom.\n> \n> There may be other problems, but this probably fixes tha one you reported\n> above.\n> \n> cheers, jari oksanen\n> \n>> And after deleting df's \n>> \n>> model.gam <- gam(formula = RES ~\n>> CAT01+s(NUM01)+CAT02+CAT03+s(NUM02)+CAT04+\n>> + CAT05+s(NUM03)+CAT06+CAT07+s(NUM04)+CAT08+s(NUM05)+CAT09+\n>> + CAT10+s(NUM06)+CAT11+NUM07+CAT12+CAT13,\n>> + family = binomial(link = logit), data = train.data)\n>> \n>> Error in smooth.construct.tp.smooth.spec(object, data, knots) : \n>>         A term has fewer unique covariate combinations than specified\n>> maximum degrees of freedom\n>> \n>> Can anybody show me some light in this case!!!\n>> \n>> Thanks in advance.\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n> \n\n-- \nView this message in context: http://www.nabble.com/Error-using-mgcv-package-tf3900783.html#a11075667\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}