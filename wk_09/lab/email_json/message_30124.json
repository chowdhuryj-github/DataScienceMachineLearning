{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Vladimir Eremeev <wl2776@gmail.com>", "subject": "Re: [R] qr.solve and lm (SOLVED)", "body": "\n\n\nVladimir Eremeev wrote:\n> \n> Dear R experts,\n> \n> I have a Matlab code which I am translating to R in order to examine and\n> enhance it.\n> First of all, I need to reproduce in R the results which were already\n> obtained in Matlab (to make sure that everything is correct).\n> \n> There are some matrix manipulations and '\\' operation among them in the\n> code.\n> \n> I have the following data frame\n> \n>> ABS.df\n>            Pro        syn             unk                 Chl                 \n> Y                  Nh            V1\n> [skip]\n> \n>> qr.solve(ABS.df[,1:6],ABS.df[,7])\n>        Pro        syn        unk        Chl          Y         Nh \n>  0.3877544  0.4282277  0.2221960 -0.8668715  0.2821082 -1.3696411 \n> \n> This reproduces the Matlab's numbers \n> However, I used to lm, its syntax seems to me more clear.\n> \n> ?lm says that it uses QR decomposition to fit the model.\n> Trying it:\n> \n>>  coef(lm(V1~Pro+syn+unk+Chl+Y+Nh,data=ABS.df))\n>  (Intercept)          Pro          syn          unk          Chl           \n> Y           Nh \n>  0.001640184  0.417253116  0.351472810  0.196977369 -0.899729874 \n> 0.265585292 -1.181526491 \n> \n> Numbers differ.\n> Obviously, I don't understand something. \n> Please, could you clarify, what?\n> Thank you.\n> \n> \n\nThis was because of implied intercept term.\n\n> lm(V1~Pro+syn+unk+Chl+Y+Nh+0,data=ABS.df)\n\nCall:\nlm(formula = V1 ~ Pro + syn + unk + Chl + Y + Nh + 0, data = ABS.df)\n\nCoefficients:\n    Pro      syn      unk      Chl        Y       Nh  \n 0.3878   0.4282   0.2222  -0.8669   0.2821  -1.3696  \n\nThat is, reproduces earlier results.\n-- \nView this message in context: http://www.nabble.com/qr.solve-and-lm-tf3757650.html#a10620691\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}