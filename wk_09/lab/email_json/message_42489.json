{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r23347 - in branches: SAMBA_3_0/source/libsmb\n\tSAMBA_3_0_25/source/libsmb SAMBA_3_0_26/source/libsmb", "body": "Author: jra\nDate: 2007-06-04 23:31:34 +0000 (Mon, 04 Jun 2007)\nNew Revision: 23347\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23347\n\nLog:\nFix Coverity 363. Dead code elimination.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/libsmb/clifile.c\n   branches/SAMBA_3_0_25/source/libsmb/clifile.c\n   branches/SAMBA_3_0_26/source/libsmb/clifile.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/libsmb/clifile.c\n===================================================================\n--- branches/SAMBA_3_0/source/libsmb/clifile.c\t2007-06-04 22:29:23 UTC (rev 23346)\n+++ branches/SAMBA_3_0/source/libsmb/clifile.c\t2007-06-04 23:31:34 UTC (rev 23347)\n@@ -1692,13 +1692,9 @@\n \t\tgoto out;\n \t}\n \n-\tif (num_eas) {\n-\t\tea_list = TALLOC_ARRAY(ctx, struct ea_struct, num_eas);\n-\t\tif (!ea_list) {\n-\t\t\tgoto out;\n-\t\t}\n-\t} else {\n-\t\tea_list = NULL;\n+\tea_list = TALLOC_ARRAY(ctx, struct ea_struct, num_eas);\n+\tif (!ea_list) {\n+\t\tgoto out;\n \t}\n \n \tea_size = (size_t)IVAL(rdata,0);\n\nModified: branches/SAMBA_3_0_25/source/libsmb/clifile.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/libsmb/clifile.c\t2007-06-04 22:29:23 UTC (rev 23346)\n+++ branches/SAMBA_3_0_25/source/libsmb/clifile.c\t2007-06-04 23:31:34 UTC (rev 23347)\n@@ -1692,13 +1692,9 @@\n \t\tgoto out;\n \t}\n \n-\tif (num_eas) {\n-\t\tea_list = TALLOC_ARRAY(ctx, struct ea_struct, num_eas);\n-\t\tif (!ea_list) {\n-\t\t\tgoto out;\n-\t\t}\n-\t} else {\n-\t\tea_list = NULL;\n+\tea_list = TALLOC_ARRAY(ctx, struct ea_struct, num_eas);\n+\tif (!ea_list) {\n+\t\tgoto out;\n \t}\n \n \tea_size = (size_t)IVAL(rdata,0);\n\nModified: branches/SAMBA_3_0_26/source/libsmb/clifile.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/libsmb/clifile.c\t2007-06-04 22:29:23 UTC (rev 23346)\n+++ branches/SAMBA_3_0_26/source/libsmb/clifile.c\t2007-06-04 23:31:34 UTC (rev 23347)\n@@ -1692,13 +1692,9 @@\n \t\tgoto out;\n \t}\n \n-\tif (num_eas) {\n-\t\tea_list = TALLOC_ARRAY(ctx, struct ea_struct, num_eas);\n-\t\tif (!ea_list) {\n-\t\t\tgoto out;\n-\t\t}\n-\t} else {\n-\t\tea_list = NULL;\n+\tea_list = TALLOC_ARRAY(ctx, struct ea_struct, num_eas);\n+\tif (!ea_list) {\n+\t\tgoto out;\n \t}\n \n \tea_size = (size_t)IVAL(rdata,0);\n\n"}