{"category": "ham", "to_address": "\"Rodrick Brown\" <rodrick.brown@gmail.com>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: Regex Matching & Grouping", "body": "On 4/20/07, Rodrick Brown  wrote:\n> I'm testing a regex with the sample data\n>\n> Chicago Bulls 55 66\n> Miami Heat 13 44\n> Alpha Dogs 22 48\n> Hornets 84 22\n> Celtics 22 24\n>\n> while($line = )\n> {\n>     $line =~ m/((\\w+\\s+)?\\w+)\\s+(\\d+)\\s+(\\d+)/;\n>     ($team,$wins,$losses) = ($1, $3, $4);\n>     print $team;\n> }\n>\n> I came up with the following regex to map team names, wins and losses into 3\n> varibles\n> I'm having a hard time understanding how regex capture matches work ie.\n> which exactly group is grabbing $1\n>\n> Thanks in advance.\n>\n> --\n> Rodrick R. Brown\n> http://www.rodrickbrown.com\n>\n\nI believe it is left to right, outer before inner\n\n$_ = \"abcdefghijk\";\n/((.)((.)(.)))(.)/;\nprint \"$1 -- $2 -- $3 -- $4 -- $5 -- $6\\n\";\n\nprints abc -- a -- bc -- b -- c -- d\n\nBut it looks like you don't really need non-capturing grouping.  This\nis done by putting ?: at the start of the group: (?:pattern).  Also,\nyou need to check whether $line is defined in your while loop, you\nshould be declaring your variables with my, and you need to check to\nsee if your regex matched.\n\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile(defined (my $line = )) {\n        unless ($line =~ m{\n                (                   #capture $1\n                        (?:\\w+\\s+)? #optional word followed by spaces\n                        \\w+         #required word\n                )\n                \\s+                 #space sparator\n                (\\d+)               #capture $2 an integer\n                \\s+                 #space sparator\n                (\\d+)               #capture $3 an integer\n        }x) {\n                warn \"could not match\";\n                next;\n        }\n\n        my ($team,$wins,$losses) = ($1, $2, $3);\n        print \"team $team wins $wins losses $losses\\n\";\n}\n\n__DATA__\nChicago Bulls 55 66\nMiami Heat 13 44\nAlpha Dogs 22 48\nMalformed foo bar baz\nHornets 84 22\nCeltics 22 24\n\nor the more compact\n\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nwhile(defined (my $line = )) {\n        my ($team,$wins,$losses) = $line =~ /((?:\\w+\\s+)?\\w+)\\s+(\\d+)\\s+(\\d+)/\n                or do { warn \"could not match\"; next; };\n        print \"team $team wins $wins losses $losses\\n\";\n}\n\n__DATA__\nChicago Bulls 55 66\nMiami Heat 13 44\nAlpha Dogs 22 48\nMalformed foo bar baz\nHornets 84 22\nCeltics 22 24\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}