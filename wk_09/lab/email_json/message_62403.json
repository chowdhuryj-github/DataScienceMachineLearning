{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Stephen Tucker <brown_emu@yahoo.com>", "subject": "[R] nls() lower/upper bound specification", "body": "Dear all,\n\nIn optim() all parameters of a function to be adjusted is stored in a single\nvector, with lower/upper bounds can be specified by a vector of the same\nlength.\n\nIn nls(), is it true that if I want to specify lower/upper bounds, functions\nmust be re-written so that each parameter is contained in a single-valued\nvector?\n\n## data input\nx <- 1:10\ny <- 3*x+4*x^2+rnorm(10,250)\n\n## this one does not work\nf <- function(x)\n  function(beta)\n  beta[1]+ beta[2]*x+beta[3]*x^2\n\nout <- nls(y~f(x)(beta),data=data.frame(x,y),\n           alg=\"port\",\n           start=list(beta=1:3),\n           lower=list(beta=rep(0,3)))\n\n(However, this works if I do not specify a lower bound)\n\n## this one works\ng <- function(x)\n  function(beta1,beta2,beta3)\n  beta1+ beta2*x+beta3*x^2\n\nout <- nls(y~g(x)(beta1,beta2,beta3),data=data.frame(x,y),\n           alg=\"port\",\n           start=list(beta1=1,beta2=1,beta3=1),\n           lower=list(beta1=1,beta2=1,beta3=1))\n\nThanks in advance!\n\nStephen\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}