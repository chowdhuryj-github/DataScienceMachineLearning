{"category": "ham", "to_address": "Andrew Bartlett <abartlet@samba.org>", "from_address": "Alison Winters <alisonw@sgi.com>", "subject": "Re: literal '%' in smb.conf", "body": "Andrew Bartlett wrote:\n> Dragging up an old thread I realised never got anywhere...\n> \n> On Thu, 2007-03-08 at 14:50 +1100, Alison Winters wrote:\n>> Judging by what's in substitute.c it looks like it will always\n>> substitute known macros regardless, otherwise it will use a literal '%'.\n>>  That's kinda wonky behavior if you need to use a literal '%' next to a\n>> character reserved for macros.  We could add '%%' a la printf, but that\n>> may regress people's existing smb.confs that expect it to work otherwise.\n> It still seems like a reasonable change.  It seems silly we can never\n> escape that...\n> \nIndeed.  This fix should be trivial (add an option to alloc_sub_basic to\ndo something like realloc_string_sub(a_string, \"%%\", \"%\")).  But it's\nalso silly that backslashes sometimes have meaning and other times do\nnot (see\nhttp://lists.samba.org/archive/samba-technical/2007-May/053111.html).  I\nthink Samba would gain a lot from an audit of what values are expected\nand legal for each smb.conf option.\n\nAlison\n\n"}