{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "Jelmer Vernooij <jelmer@samba.org>", "subject": "Rev 11921: Don't use 'our' in\n\tfile:///home/jelmer/bzr.samba/SAMBA_4_0/", "body": "At file:///home/jelmer/bzr.samba/SAMBA_4_0/\n\n------------------------------------------------------------\nrevno: 11921\nrevision-id: jelmer@samba.org-20070419015445-jk2l014botybpwdt\nparent: jelmer@samba.org-20070419005219-xhzck81g2odsayyq\ncommitter: Jelmer Vernooij \nbranch nick: SAMBA_4_0\ntimestamp: Thu 2007-04-19 03:54:45 +0200\nmessage:\n  Don't use 'our'\nmodified:\n  source/pidl/lib/Parse/Pidl/Samba3/ClientNDR.pm svn-v2:15437@0c0555d6-39d7-0310-84fc-f1cc0bd64818-branches%2fSAMBA_4_0-source%2fpidl%2flib%2fParse%2fPidl%2fSamba3%2fClientNDR.pm\n  source/pidl/lib/Parse/Pidl/Samba4/EJS.pm svn-v2:12463@0c0555d6-39d7-0310-84fc-f1cc0bd64818-branches%2fSAMBA_4_0-source%2fpidl%2flib%2fParse%2fPidl%2fSamba4%2fEJS.pm\n  source/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm svn-v2:12463@0c0555d6-39d7-0310-84fc-f1cc0bd64818-branches%2fSAMBA_4_0-source%2fpidl%2flib%2fParse%2fPidl%2fSamba4%2fNDR%2fParser.pm\n  source/pidl/lib/Parse/Pidl/Samba4/TDR.pm svn-v2:12463@0c0555d6-39d7-0310-84fc-f1cc0bd64818-branches%2fSAMBA_4_0-source%2fpidl%2flib%2fParse%2fPidl%2fSamba4%2fTDR.pm\n  source/pidl/lib/Parse/Pidl/Wireshark/NDR.pm svn-v2:16824@0c0555d6-39d7-0310-84fc-f1cc0bd64818-branches%2fSAMBA_4_0-source%2fpidl%2flib%2fParse%2fPidl%2fWireshark%2fNDR.pm\n  source/pidl/tests/wireshark-ndr.pl svn-v2:21411@0c0555d6-39d7-0310-84fc-f1cc0bd64818-branches%2fSAMBA_4_0-source%2fpidl%2ftests%2fwireshark%2dndr.pl\n=== modified file 'source/pidl/lib/Parse/Pidl/Samba3/ClientNDR.pm'\n--- a/source/pidl/lib/Parse/Pidl/Samba3/ClientNDR.pm\t2007-02-18 18:44:56 +0000\n+++ b/source/pidl/lib/Parse/Pidl/Samba3/ClientNDR.pm\t2007-04-19 01:54:45 +0000\n@@ -20,8 +20,8 @@\n use vars qw($VERSION);\n $VERSION = '0.01';\n \n-our $res;\n-our $res_hdr;\n+my $res;\n+my $res_hdr;\n my $tabs = \"\";\n sub indent() { $tabs.=\"\\t\"; }\n sub deindent() { $tabs = substr($tabs, 1); }\n\n=== modified file 'source/pidl/lib/Parse/Pidl/Samba4/EJS.pm'\n--- a/source/pidl/lib/Parse/Pidl/Samba4/EJS.pm\t2007-02-28 13:25:53 +0000\n+++ b/source/pidl/lib/Parse/Pidl/Samba4/EJS.pm\t2007-04-19 01:54:45 +0000\n@@ -21,8 +21,8 @@\n use vars qw($VERSION);\n $VERSION = '0.01';\n \n-our $res;\n-our $res_hdr;\n+my $res;\n+my $res_hdr;\n \n my %constants;\n \n\n=== modified file 'source/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm'\n--- a/source/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm\t2007-03-02 14:53:09 +0000\n+++ b/source/pidl/lib/Parse/Pidl/Samba4/NDR/Parser.pm\t2007-04-19 01:54:45 +0000\n@@ -9,10 +9,7 @@\n \n require Exporter;\n @ISA = qw(Exporter);\n-@EXPORT = qw(is_charset_array);\n-@EXPORT_OK = qw(check_null_pointer GenerateFunctionInEnv \n-   GenerateFunctionOutEnv EnvSubstituteValue GenerateStructEnv NeededFunction\n-   NeededElement NeededType $res NeededInterface TypeFunctionName ParseElementPrint);\n+@EXPORT_OK = qw(check_null_pointer GenerateFunctionInEnv GenerateFunctionOutEnv EnvSubstituteValue GenerateStructEnv NeededFunction NeededElement NeededType $res NeededInterface TypeFunctionName ParseElementPrint);\n \n use strict;\n use Parse::Pidl::Typelist qw(hasType getType mapTypeName);\n@@ -110,7 +107,7 @@\n \t}\n }\n \n-our $res;\n+my $res;\n my $deferred = [];\n my $tabs = \"\";\n \n\n=== modified file 'source/pidl/lib/Parse/Pidl/Samba4/TDR.pm'\n--- a/source/pidl/lib/Parse/Pidl/Samba4/TDR.pm\t2007-02-18 18:44:56 +0000\n+++ b/source/pidl/lib/Parse/Pidl/Samba4/TDR.pm\t2007-04-19 01:54:45 +0000\n@@ -17,8 +17,8 @@\n \n use strict;\n \n-our $ret;\n-our $ret_hdr;\n+my $ret;\n+my $ret_hdr;\n my $tabs = \"\";\n \n sub indent() { $tabs.=\"\\t\"; }\n\n=== modified file 'source/pidl/lib/Parse/Pidl/Wireshark/NDR.pm'\n--- a/source/pidl/lib/Parse/Pidl/Wireshark/NDR.pm\t2007-03-28 22:52:37 +0000\n+++ b/source/pidl/lib/Parse/Pidl/Wireshark/NDR.pm\t2007-04-19 01:54:45 +0000\n@@ -32,13 +32,13 @@\n use vars qw($VERSION);\n $VERSION = '0.01';\n \n-our @ett;\n+my @ett;\n \n-our %hf_used = ();\n+my %hf_used = ();\n my %return_types = ();\n my %dissector_used = ();\n \n-our $conformance = undef;\n+my $conformance = undef;\n \n my %ptrtype_mappings = (\n \t\"unique\" => \"NDR_POINTER_UNIQUE\",\n@@ -70,7 +70,7 @@\n     return $field;\n }\n \n-our %res = ();\n+my %res = ();\n my $tabs = \"\";\n my $cur_fn = undef;\n sub pidl_fn_start($)\n\n=== modified file 'source/pidl/tests/wireshark-ndr.pl'\n--- a/source/pidl/tests/wireshark-ndr.pl\t2007-02-27 21:37:31 +0000\n+++ b/source/pidl/tests/wireshark-ndr.pl\t2007-04-19 01:54:45 +0000\n@@ -234,7 +234,7 @@\n \n is(DumpHfDeclaration(), \"\n /* Header field declarations */\n-static gint hf_bla = -1;\n+static gint hf_bla_idx = -1;\n \n \");\n \n\n"}