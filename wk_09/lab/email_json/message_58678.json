{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r23664 - in branches: SAMBA_3_0/source/smbd\n\tSAMBA_3_0_26/source/smbd", "body": "Author: jra\nDate: 2007-06-30 00:22:59 +0000 (Sat, 30 Jun 2007)\nNew Revision: 23664\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23664\n\nLog:\nFix incorrect index - should be j not i. How did we ever\nlive without valgrind :-).\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/smbd/posix_acls.c\n   branches/SAMBA_3_0_26/source/smbd/posix_acls.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/smbd/posix_acls.c\n===================================================================\n--- branches/SAMBA_3_0/source/smbd/posix_acls.c\t2007-06-29 17:57:05 UTC (rev 23663)\n+++ branches/SAMBA_3_0/source/smbd/posix_acls.c\t2007-06-30 00:22:59 UTC (rev 23664)\n@@ -3263,7 +3263,7 @@\n \n \t/* Finally append any inherited ACEs. */\n \tfor (j = 0; j < parent_sd->dacl->num_aces; j++) {\n-\t\tSEC_ACE *se = &parent_sd->dacl->aces[i];\n+\t\tSEC_ACE *se = &parent_sd->dacl->aces[j];\n \t\tuint32 i_flags = se->flags & (SEC_ACE_FLAG_OBJECT_INHERIT|\n \t\t\t\t\tSEC_ACE_FLAG_CONTAINER_INHERIT|\n \t\t\t\t\tSEC_ACE_FLAG_INHERIT_ONLY);\n\nModified: branches/SAMBA_3_0_26/source/smbd/posix_acls.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/smbd/posix_acls.c\t2007-06-29 17:57:05 UTC (rev 23663)\n+++ branches/SAMBA_3_0_26/source/smbd/posix_acls.c\t2007-06-30 00:22:59 UTC (rev 23664)\n@@ -3263,7 +3263,7 @@\n \n \t/* Finally append any inherited ACEs. */\n \tfor (j = 0; j < parent_sd->dacl->num_aces; j++) {\n-\t\tSEC_ACE *se = &parent_sd->dacl->aces[i];\n+\t\tSEC_ACE *se = &parent_sd->dacl->aces[j];\n \t\tuint32 i_flags = se->flags & (SEC_ACE_FLAG_OBJECT_INHERIT|\n \t\t\t\t\tSEC_ACE_FLAG_CONTAINER_INHERIT|\n \t\t\t\t\tSEC_ACE_FLAG_INHERIT_ONLY);\n\n"}