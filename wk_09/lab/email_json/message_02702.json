{"category": "ham", "to_address": "\"Thomas W. Volscho\" <thomas.volscho@sbcglobal.net>", "from_address": "Thomas Lumley <tlumley@u.washington.edu>", "subject": "Re: [R] Using Sampling Weights in R", "body": "On Tue, 10 Apr 2007, Thomas W. Volscho wrote:\n\n> Dear List,\n> I have a dataset that provides sampling weights (National Survey of\n> Family Growth 2002).  I want to produce a cross-tabulation and use the\n> provided sampling weights to obtain representative population estimates.\n> (I believe they are simply frequency weights but codebook is\n> uninformative).\n\nThey are almost certainly not simply frequency weights -- the NCHS web \npage on this survey describes a multistage sampling scheme and gives code \nexamples for survey software using the design features.  If you only want \npoint estimates and no intervals or p-values then it doesn't matter what \ntype of weights they are.\n\n> I can reproduce results (using this data) that were reported in a recent\n> journal article, if I use SPSS or STATA--specifying the weight.\n\nThe \"survey\" package does analysis of surveys of this sort.\n\nJudging from the Stata example at \nhttp://www.cdc.gov/nchs/data/nsfg/Ser2_Example1_FINAL.pdf\n  if the data are in a data frame called 'nsfg' you would create a survey \ndesign object with\n\n   dnsfg <- svydesign(id=~SECU_R, weight=~FINALWGT, strata=~SEST,\n     data=nsfg)\n\nand then you could get crosstabs with,eg,\n\n   svytable(~agerx+pill, design=dnsfg)\n\n\n\n \t-thomas\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}