{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22404 - in branches/SAMBA_4_0/source: auth\n\tauth/gensec auth/ntlmssp lib/ldb lib/registry lib/socket", "body": "Author: metze\nDate: 2007-04-20 11:00:20 +0000 (Fri, 20 Apr 2007)\nNew Revision: 22404\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22404\n\nLog:\nmore dependencies which should be private\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/auth/config.mk\n   branches/SAMBA_4_0/source/auth/gensec/config.mk\n   branches/SAMBA_4_0/source/auth/ntlmssp/config.mk\n   branches/SAMBA_4_0/source/lib/ldb/config.mk\n   branches/SAMBA_4_0/source/lib/registry/config.mk\n   branches/SAMBA_4_0/source/lib/socket/config.mk\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/auth/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/auth/config.mk\t2007-04-20 10:57:13 UTC (rev 22403)\n+++ branches/SAMBA_4_0/source/auth/config.mk\t2007-04-20 11:00:20 UTC (rev 22404)\n@@ -16,7 +16,7 @@\n INIT_FUNCTION = auth_sam_init\n SUBSYSTEM = auth\n OBJ_FILES = auth_sam.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tSAMDB auth_sam\n # End MODULE auth_sam\n #######################\n@@ -36,7 +36,7 @@\n INIT_FUNCTION = auth_winbind_init\n SUBSYSTEM = auth\n OBJ_FILES = auth_winbind.o\n-PUBLIC_DEPENDENCIES = NDR_WINBIND MESSAGING LIBWINBIND-CLIENT\n+PRIVATE_DEPENDENCIES = NDR_WINBIND MESSAGING LIBWINBIND-CLIENT\n # End MODULE auth_winbind\n #######################\n \n@@ -55,7 +55,7 @@\n INIT_FUNCTION = auth_unix_init\n SUBSYSTEM = auth\n OBJ_FILES = auth_unix.o\n-PUBLIC_DEPENDENCIES = CRYPT PAM PAM_ERRORS\n+PRIVATE_DEPENDENCIES = CRYPT PAM PAM_ERRORS\n # End MODULE auth_unix\n #######################\n \n\nModified: branches/SAMBA_4_0/source/auth/gensec/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/auth/gensec/config.mk\t2007-04-20 10:57:13 UTC (rev 22403)\n+++ branches/SAMBA_4_0/source/auth/gensec/config.mk\t2007-04-20 11:00:20 UTC (rev 22404)\n@@ -18,7 +18,7 @@\n SUBSYSTEM = gensec\n INIT_FUNCTION = gensec_krb5_init\n OBJ_FILES = gensec_krb5.o \n-PUBLIC_DEPENDENCIES = CREDENTIALS_KRB5 KERBEROS auth auth_sam\n+PRIVATE_DEPENDENCIES = CREDENTIALS_KRB5 KERBEROS auth auth_sam\n # End MODULE gensec_krb5\n ################################################\n \n@@ -28,7 +28,7 @@\n SUBSYSTEM = gensec\n INIT_FUNCTION = gensec_gssapi_init\n OBJ_FILES = gensec_gssapi.o \n-PUBLIC_DEPENDENCIES = HEIMDAL_GSSAPI CREDENTIALS_KRB5 KERBEROS auth\n+PRIVATE_DEPENDENCIES = HEIMDAL_GSSAPI CREDENTIALS_KRB5 KERBEROS auth\n # End MODULE gensec_gssapi\n ################################################\n \n@@ -38,7 +38,7 @@\n SUBSYSTEM = gensec\n INIT_FUNCTION = gensec_sasl_init\n OBJ_FILES = cyrus_sasl.o \n-PUBLIC_DEPENDENCIES = CREDENTIALS SASL auth\n+PRIVATE_DEPENDENCIES = CREDENTIALS SASL auth\n # End MODULE cyrus_sasl\n ################################################\n \n@@ -48,10 +48,8 @@\n SUBSYSTEM = gensec\n INIT_FUNCTION = gensec_spnego_init\n PRIVATE_PROTO_HEADER = spnego_proto.h\n-PRIVATE_DEPENDENCIES = ASN1_UTIL GENSEC_SOCKET\n-PUBLIC_DEPENDENCIES = CREDENTIALS\n-OBJ_FILES = spnego.o \\\n-\t\t\tspnego_parse.o\n+PRIVATE_DEPENDENCIES = ASN1_UTIL GENSEC_SOCKET CREDENTIALS\n+OBJ_FILES = spnego.o spnego_parse.o\n # End MODULE gensec_spnego\n ################################################\n \n@@ -63,7 +61,7 @@\n INIT_FUNCTION = gensec_schannel_init\n OBJ_FILES = schannel.o \\\n \t\t\tschannel_sign.o\n-PUBLIC_DEPENDENCIES = auth SCHANNELDB NDR_SCHANNEL CREDENTIALS\n+PRIVATE_DEPENDENCIES = auth SCHANNELDB NDR_SCHANNEL CREDENTIALS\n OUTPUT_TYPE = INTEGRATED\n # End MODULE gensec_schannel\n ################################################\n\nModified: branches/SAMBA_4_0/source/auth/ntlmssp/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/auth/ntlmssp/config.mk\t2007-04-20 10:57:13 UTC (rev 22403)\n+++ branches/SAMBA_4_0/source/auth/ntlmssp/config.mk\t2007-04-20 11:00:20 UTC (rev 22404)\n@@ -12,7 +12,7 @@\n \t\tntlmssp_sign.o \\\n \t\tntlmssp_client.o \\\n \t\tntlmssp_server.o\n-PUBLIC_DEPENDENCIES = auth MSRPC_PARSE\n+PRIVATE_DEPENDENCIES = auth MSRPC_PARSE\n OUTPUT_TYPE = INTEGRATED\n # End MODULE gensec_ntlmssp\n ################################################\n\nModified: branches/SAMBA_4_0/source/lib/ldb/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/lib/ldb/config.mk\t2007-04-20 10:57:13 UTC (rev 22403)\n+++ branches/SAMBA_4_0/source/lib/ldb/config.mk\t2007-04-20 11:00:20 UTC (rev 22404)\n@@ -79,13 +79,11 @@\n # Start MODULE ldb_ildap\n [MODULE::ldb_ildap]\n SUBSYSTEM = ldb\n-PRIVATE_DEPENDENCIES = LIBTALLOC\n+PRIVATE_DEPENDENCIES = LIBTALLOC LIBCLI_LDAP\n INIT_FUNCTION = ldb_ildap_init\n ALIASES = ldapi ldaps ldap\n OBJ_FILES = \\\n \t\tldb_ildap/ldb_ildap.o\n-PUBLIC_DEPENDENCIES = \\\n-\t\tLIBCLI_LDAP\n # End MODULE ldb_ildap\n ################################################\n \n@@ -115,12 +113,10 @@\n # Start MODULE ldb_sqlite3\n [MODULE::ldb_sqlite3]\n SUBSYSTEM = ldb\n-PRIVATE_DEPENDENCIES = LIBTALLOC\n+PRIVATE_DEPENDENCIES = LIBTALLOC SQLITE3 LIBTALLOC\n INIT_FUNCTION = ldb_sqlite3_init\n OBJ_FILES = \\\n \t\tldb_sqlite3/ldb_sqlite3.o\n-PUBLIC_DEPENDENCIES = \\\n-\t\tSQLITE3 LIBTALLOC\n # End MODULE ldb_sqlite3\n ################################################\n \n@@ -136,7 +132,7 @@\n \t\tldb_tdb/ldb_index.o \\\n \t\tldb_tdb/ldb_cache.o \\\n \t\tldb_tdb/ldb_tdb_wrap.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tLIBTDB LIBTALLOC\n # End MODULE ldb_tdb\n ################################################\n\nModified: branches/SAMBA_4_0/source/lib/registry/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/lib/registry/config.mk\t2007-04-20 10:57:13 UTC (rev 22403)\n+++ branches/SAMBA_4_0/source/lib/registry/config.mk\t2007-04-20 11:00:20 UTC (rev 22404)\n@@ -7,7 +7,7 @@\n SUBSYSTEM = registry\n OBJ_FILES = \\\n \t\treg_backend_nt4.o\n-PUBLIC_DEPENDENCIES = TDR_REGF\n+PRIVATE_DEPENDENCIES = TDR_REGF\n # End MODULE registry_nt4\n ################################################\n \n@@ -44,7 +44,7 @@\n SUBSYSTEM = registry\n OBJ_FILES = \\\n \t\treg_backend_dir.o\n-PUBLIC_DEPENDENCIES = LIBTALLOC\n+PRIVATE_DEPENDENCIES = LIBTALLOC\n # End MODULE registry_dir\n ################################################\n \n@@ -56,7 +56,7 @@\n SUBSYSTEM = registry\n OBJ_FILES = \\\n \t\treg_backend_rpc.o\n-PUBLIC_DEPENDENCIES = RPC_NDR_WINREG\n+PRIVATE_DEPENDENCIES = RPC_NDR_WINREG\n # End MODULE registry_rpc\n ################################################\n \n@@ -67,7 +67,7 @@\n SUBSYSTEM = registry\n OBJ_FILES = \\\n \t\treg_backend_ldb.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tldb\n # End MODULE registry_ldb\n ################################################\n@@ -83,7 +83,7 @@\n \t\tcommon/reg_util.o \\\n \t\treg_samba.o \\\n \t\tpatchfile.o\n-PUBLIC_DEPENDENCIES = \\\n+PRIVATE_DEPENDENCIES = \\\n \t\tLIBSAMBA-UTIL CHARSET\n PUBLIC_HEADERS = registry.h\n # End MODULE registry_ldb\n\nModified: branches/SAMBA_4_0/source/lib/socket/config.mk\n===================================================================\n--- branches/SAMBA_4_0/source/lib/socket/config.mk\t2007-04-20 10:57:13 UTC (rev 22403)\n+++ branches/SAMBA_4_0/source/lib/socket/config.mk\t2007-04-20 11:00:20 UTC (rev 22404)\n@@ -16,8 +16,7 @@\n OUTPUT_TYPE = INTEGRATED\n OBJ_FILES = \\\n \t\tsocket_ipv4.o\n-PUBLIC_DEPENDENCIES = EXT_SOCKET EXT_NSL\n-PRIVATE_DEPENDENCIES = LIBSAMBA-ERRORS \n+PRIVATE_DEPENDENCIES = EXT_SOCKET EXT_NSL LIBSAMBA-ERRORS \n # End MODULE socket_ipv4\n ################################################\n \n@@ -28,7 +27,7 @@\n OUTPUT_TYPE = INTEGRATED\n OBJ_FILES = \\\n \t\tsocket_ipv6.o\n-PUBLIC_DEPENDENCIES = EXT_SOCKET EXT_NSL\n+PRIVATE_DEPENDENCIES = EXT_SOCKET EXT_NSL\n # End MODULE socket_ipv6\n ################################################\n \n@@ -39,7 +38,7 @@\n OUTPUT_TYPE = INTEGRATED\n OBJ_FILES = \\\n \t\tsocket_unix.o\n-PUBLIC_DEPENDENCIES = EXT_SOCKET EXT_NSL\n+PRIVATE_DEPENDENCIES = EXT_SOCKET EXT_NSL\n # End MODULE socket_unix\n ################################################\n \n\n"}