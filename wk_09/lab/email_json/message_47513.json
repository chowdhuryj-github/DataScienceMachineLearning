{"category": "ham", "to_address": "Kevin Tew <tewk@tewk.com>", "from_address": "chromatic <chromatic@wgz.org>", "subject": "Re: I Hate find_vtable_meth_ns()", "body": "On Wednesday 13 June 2007 14:46:33 Kevin Tew wrote:\n\n> My patch only fails these tests.\n>\n> Failed Test          Stat Wstat Total Fail  List of Failed\n> ---------------------------------------------------------------------------\n>---- t/library/range.t       1   256    78   18  70-78\n> t/pmc/parrotobject.t    1   256    11    1  3\n>\n>\n> Chromatic was right,\n> vtables should be stored in the namespace in an additional hash indexed\n> by vtable_index.\n\nWe could store them in a hash indexed by vtable_index and avoid the double \nlookup.  I think the only changes necessary are in \nParrot_store_sub_in_namespace() and the Namespace PMC (provided that IMCC and \nthe packfile reader both set PMC_sub(sub)->vtable_index appropriately before \nstoring the sub).\n\n-- c\n\n"}