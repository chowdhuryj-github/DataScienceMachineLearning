{"category": "ham", "to_address": "r-help@stat.math.ethz.ch, trunnell@cognix.net", "from_address": "\"Matthew Trunnell\" <trunnell@cognix.net>", "subject": "[R] Histograms with strings, grouped by repeat count (w/ data)", "body": "Hello R gurus,\n\nI just spent my first weekend wrestling with R, but so far have come\nup empty handed.\n\nI have a dataset that represents file downloads; it has 4 dimensions:\ndate, filename, email, and country.  (sample data below)\n\nMy first goal is to get an idea of the frequency of repeated\ndownloads.  Let me explain that.  Some people tend to download\nmultiple times, e.g. if the download fails they keep trying over and\nover.  I'm trying to build a histogram that shows the repeat count\nalong the x-axis, that is, how many people downloaded once, twice,\nthree times, etc.  I plan to compare the median of that before and\nafter we switched ISPs.\n\nTo accomplish this, I'm assuming that I'll first need to combine the\nemail and filename columns so as to represent a single download\nattempt by an individual.  Does that sound right?  Later, it would be\nnice to limit the histogram to a single filename, country, or company.\n I can probably figure that out myself after I understand how to write\nthis funky histogram expression.\n\nWith the help of Verzani's introductory text, I've learned how to read\nin the CSV data and do some simple tables, like this:\n\nhist(table(d$filename))\nhist(table(d$filename[substring(d$filename, 1, 5)==\"file1\"]))\nhist(sort(table(d$filename[substring(d$filename, 1, 5)==\"file1\"])))\n\nObviously, these commands count the frequency of the files.  What I'd\nlike to see are the repeats grouped along the x-axis;  I'd like to\nfind, for all files, the distribution of retries.  I hope that makes\nsense. :)\n\nCan someone point me in the right direction?  I'm very new to R and to\nstatistics, but I write code for a living.  At this point I'd almost\nbe better off writing a program do this kind of simple counting... but\nI have a feeling R would be so useful if I could just get past the\ninitial learning curve.\n\nThank you in advance,\nMatt\n\nHere's some real data, with the private info replaced :)\n\n d<-read.table(file=\"C:\\\\users\\\\trunnellm\\\\downloads\\\\statistics\\\\downloads.csv\",\nsep=\",\", quote=\"\\\"\", header=TRUE)\n\nfilename,last_modified,email_addr,country_residence\nfile1,3/4/2006 13:54,email1,Korea (South)\nfile2,3/4/2006 14:33,email2,United States\nfile2,3/4/2006 16:03,email2,United States\nfile2,3/4/2006 16:17,email3,United States\nfile2,3/4/2006 16:28,email3,United States\nfile3,3/4/2006 19:13,email4,United States\nfile2,3/4/2006 21:22,email5,India\nfile4,3/4/2006 21:46,email6,United States\nfile1,3/4/2006 22:04,email7,Japan\nfile2,3/4/2006 22:09,email8,Croatia\nfile1,3/4/2006 22:22,email7,Japan\nfile1,3/4/2006 22:29,email9,India\nfile1,3/4/2006 23:06,email6,United States\nfile1,3/4/2006 23:33,email6,United States\nfile5,3/4/2006 23:44,email10,China\nfile1,3/5/2006 0:13,email9,India\nfile2,3/5/2006 0:52,email8,Croatia\nfile2,3/5/2006 0:54,email8,Croatia\nfile2,3/5/2006 1:10,email5,India\nfile6,3/5/2006 2:17,email9,India\nfile2,3/5/2006 2:24,email11,Italy\nfile7,3/5/2006 2:36,email12,Italy\nfile8,3/5/2006 2:52,email12,Italy\nfile2,3/5/2006 3:09,email13,United Kingdom\nfile2,3/5/2006 4:02,email14,India\nfile2,3/5/2006 4:07,email14,India\nfile2,3/5/2006 4:14,email14,India\nfile2,3/5/2006 4:37,email5,India\nfile2,3/5/2006 4:44,email15,Belgium\nfile1,3/5/2006 5:02,email9,India\nfile1,3/5/2006 5:24,email16,Taiwan\nfile2,3/5/2006 6:06,email17,Saudi Arabia\nfile2,3/5/2006 7:32,email17,Saudi Arabia\nfile2,3/5/2006 8:12,email18,Brazil\nfile2,3/5/2006 8:26,email18,Brazil\nfile2,3/5/2006 9:49,email19,United Kingdom\nfile1,3/5/2006 10:49,email11,Italy\nfile1,3/5/2006 11:16,email13,United Kingdom\nfile1,3/5/2006 11:16,email13,United Kingdom\nfile1,3/5/2006 11:45,email13,United Kingdom\nfile1,3/5/2006 14:34,email20,Australia\nfile9,3/5/2006 14:56,email20,Australia\nfile9,3/5/2006 14:56,email20,Australia\nfile5,3/5/2006 16:43,email21,United States\nfile1,3/5/2006 17:17,email7,Japan\nfile2,3/5/2006 17:26,email22,Japan\nfile2,3/5/2006 17:27,email22,Japan\nfile2,3/5/2006 17:33,email23,China\nfile1,3/5/2006 17:45,email22,Japan\nfile2,3/5/2006 17:45,email22,Japan\nfile2,3/5/2006 17:59,email23,China\nfile1,3/5/2006 18:27,email24,Japan\nfile1,3/5/2006 18:47,email25,Taiwan\nfile2,3/5/2006 18:48,email26,New Zealand\nfile2,3/5/2006 19:15,email27,Canada\nfile2,3/5/2006 19:23,email28,Canada\nfile2,3/5/2006 19:24,email28,Canada\nfile10,3/5/2006 19:49,email29,Japan\nfile10,3/5/2006 19:52,email29,Japan\nfile10,3/5/2006 19:57,email29,Japan\nfile2,3/5/2006 20:01,email29,Japan\nfile2,3/5/2006 20:02,email29,Japan\nfile2,3/5/2006 20:06,email29,Japan\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}