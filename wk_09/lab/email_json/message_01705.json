{"category": "ham", "to_address": "Volker.Lendecke@SerNet.DE", "from_address": "simo <idra@samba.org>", "subject": "Re: wrt inotify problem", "body": "On Tue, 2007-04-10 at 17:45 +0200, Volker Lendecke wrote:\n> On Tue, Apr 10, 2007 at 11:42:37AM -0400, simo wrote:\n> > \n> > It is an SELinux problem so don't worry, I will make DAn fix the policy\n> > for FC7.\n> > \n> > But you may still want to think if we need to add a better exit\n> > condition code in case of errors.\n> > smbd was looping forever and filling the logs on SELinux denying smbd\n> > access to inotifyfs.\n> \n> What error message do we get from which syscall?\n\nThe ioctl in notify_inotify.c line 232 fails.\n\nioctl(in->fd, FIONREAD, &bufsize) return -1 in this case.\n\nSimo.\n\n-- \nSimo Sorce\nSamba Team GPL Compliance Officer\nemail: idra@samba.org\nhttp://samba.org\n\n"}