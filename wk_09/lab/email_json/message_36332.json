{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r23147 - in branches: SAMBA_3_0/source/libads\n\tSAMBA_3_0_25/source/libads SAMBA_3_0_26/source/libads", "body": "Author: jra\nDate: 2007-05-25 22:04:03 +0000 (Fri, 25 May 2007)\nNew Revision: 23147\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23147\n\nLog:\nPatch #4566 from jacob berkman . Pass password data to krb5_prompter.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/libads/kerberos.c\n   branches/SAMBA_3_0_25/source/libads/kerberos.c\n   branches/SAMBA_3_0_26/source/libads/kerberos.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/libads/kerberos.c\n===================================================================\n--- branches/SAMBA_3_0/source/libads/kerberos.c\t2007-05-25 13:30:49 UTC (rev 23146)\n+++ branches/SAMBA_3_0/source/libads/kerberos.c\t2007-05-25 22:04:03 UTC (rev 23147)\n@@ -248,7 +248,8 @@\n \t}\n \n \tif ((code = krb5_get_init_creds_password(ctx, &my_creds, me, CONST_DISCARD(char *,password), \n-\t\t\t\t\t\t kerb_prompter, NULL, 0, NULL, opt))) {\n+\t\t\t\t\t\t kerb_prompter, CONST_DISCARD(char *,password),\n+\t\t\t\t\t\t 0, NULL, opt))) {\n \t\tgoto out;\n \t}\n \n\nModified: branches/SAMBA_3_0_25/source/libads/kerberos.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/libads/kerberos.c\t2007-05-25 13:30:49 UTC (rev 23146)\n+++ branches/SAMBA_3_0_25/source/libads/kerberos.c\t2007-05-25 22:04:03 UTC (rev 23147)\n@@ -138,7 +138,8 @@\n \t}\n \n \tif ((code = krb5_get_init_creds_password(ctx, &my_creds, me, CONST_DISCARD(char *,password), \n-\t\t\t\t\t\t kerb_prompter, NULL, 0, NULL, opt)))\n+\t\t\t\t\t\t kerb_prompter, CONST_DISCARD(char *,password),\n+\t\t\t\t\t\t 0, NULL, opt)))\n \t{\n \t\tsmb_krb5_get_init_creds_opt_free(ctx, opt);\n \t\tsmb_krb5_free_addresses(ctx, addr);\n\nModified: branches/SAMBA_3_0_26/source/libads/kerberos.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/libads/kerberos.c\t2007-05-25 13:30:49 UTC (rev 23146)\n+++ branches/SAMBA_3_0_26/source/libads/kerberos.c\t2007-05-25 22:04:03 UTC (rev 23147)\n@@ -248,7 +248,8 @@\n \t}\n \n \tif ((code = krb5_get_init_creds_password(ctx, &my_creds, me, CONST_DISCARD(char *,password), \n-\t\t\t\t\t\t kerb_prompter, NULL, 0, NULL, opt))) {\n+\t\t\t\t\t\t kerb_prompter, CONST_DISCARD(char *,password),\n+\t\t\t\t\t\t 0, NULL, opt))) {\n \t\tgoto out;\n \t}\n \n\n"}