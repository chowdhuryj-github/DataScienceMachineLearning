{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Paul Lalli <mritty@gmail.com>", "subject": "Re: loop auto-incrementing array elements", "body": "On Jun 13, 10:23 am, gian.sar...@worc.ox.ac.uk (Gian Sartor) wrote:\n> Hi All,\n>\n> I have a list in the following format ->\n>\n> room\n> surname\n> firstnames\n>\n> What I would like to is read the file into an array and combine the\n> firstname and surname onto the same line and ignore the room. Below is\n> an example of what I want to do ->\n>\n> @line = <>;\n> $surname = $line[1];\n> chomp ($surname);\n> $fname = $line[2];\n> chomp ($fname);\n> print \"$surname, $fname\\n\";\n>\n> this needs to loop through the array till the end but on each loop the\n> $surname and $fname elements need to increment by 3, so the next time\n> the loop runs it will look something like this ->\n>\n> @line = <>;\n> $surname = $line[4];\n> chomp ($surname);\n> $fname = $line[5];\n> chomp ($fname);\n> print \"$surname, $fname\\n\";\n>\n> I would like to end up with a list of names only, eg ->\n>\n> surname, firstname\n> surname, firstname\n>\n> i would be grateful if someone could point me in the right direction on\n> this one. TIA.\n\nI wouldn't bother reading the file into an array at all.  Seems\nwasteful.  Instead, read from your file, and let Perl keep track of\nthe line number for you.  When the line number is one more than a\nmultiple of 3, ignore it.  When it's two more than a multiple of\nthree, print it followed by a comma.  When it is a multiple of three,\nprint it followed by a newline.\n\n#!/usr/bin/env perl\nuse strict;\nuse warnings;\nwhile (my $line = ) {\n   next if $. % 3 == 1;\n   chomp $line;\n   print \"$line, \" if $. % 3 == 2;\n   print \"$line\\n\" if $. % 3 == 0;\n}\n__DATA__\nliving room\nSmith\nJohn\nKitchen\nJones\nJimmy\nBedroom\nBrady\nMarcia\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}