{"category": "ham", "to_address": "\"Thompson, Jonathan\" <jonathan.thompson@oregonstate.edu>", "from_address": "Mike Lawrence <Mike.Lawrence@dal.ca>", "subject": "Re: [R] Aggregate to find majority level of a factor", "body": "This should do the trick. Also labels ties with NA.\n\na=as.data.frame(cbind(c(1,1,1,2,2,2,3,3,3,4,4),c \n('big','big','small','big','small','small','small','small','small','big' \n,'small')))\na$V2=factor(a$V2)\n\nmaj=function(x){\n\ty=table(x)\n\tz=which.max(y)\n\tif(sum(y==max(y))==1){\n\t\treturn(names(y)[z])\n\t}else{\n\t\treturn(NA)\n\t}\n}\n\naggregate(a$V2,list(a$V1),maj)\n\n\nOn 31-May-07, at 4:25 PM, Thompson, Jonathan wrote:\n\n> I want to use the aggregate function to summarize data by a factor (my\n> field plots), but I want the summary to be the majority level of  \n> another\n> factor.\n>\n>\n> For example, given the dataframe:\n>\n> Plot1     big\n> Plot1     big\n> Plot1     small\n> Plot2     big\n> Plot2     small\n> Plot2     small\n> Plot3     small\n> Plot3     small\n> Plot3     small\n>\n>\n> My desired result would be:\n> Plot1 big\n> Plot2 small\n> Plot3 small\n>\n>\n> I can't seem to find a scalar function that will give me the majority\n> level.\n>\n> Thanks in advance,\n>\n> Jonathan Thompson\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting- \n> guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n--\nMike Lawrence\nGraduate Student, Department of Psychology, Dalhousie University\n\nWebsite: http://myweb.dal.ca/mc973993\nPublic calendar: http://icalx.com/public/informavore/Public\n\n\"The road to wisdom? Well, it's plain and simple to express:\nErr and err and err again, but less and less and less.\"\n\t- Piet Hein\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}