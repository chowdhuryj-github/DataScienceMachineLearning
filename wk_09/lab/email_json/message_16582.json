{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "sfrench@samba.org", "subject": "svn commit: linux-cifs-client r110 - in\n\tbranches/linux-converged-for-old-kernels/fs/cifs: .", "body": "Author: sfrench\nDate: 2007-04-26 14:40:07 +0000 (Thu, 26 Apr 2007)\nNew Revision: 110\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=linux-cifs-client&rev=110\n\nLog:\nUpdate cifs version to 1.49\n\nModified:\n   branches/linux-converged-for-old-kernels/fs/cifs/TODO\n   branches/linux-converged-for-old-kernels/fs/cifs/cifsfs.h\n\n\nChangeset:\nModified: branches/linux-converged-for-old-kernels/fs/cifs/TODO\n===================================================================\n--- branches/linux-converged-for-old-kernels/fs/cifs/TODO\t2007-04-26 14:21:22 UTC (rev 109)\n+++ branches/linux-converged-for-old-kernels/fs/cifs/TODO\t2007-04-26 14:40:07 UTC (rev 110)\n@@ -1,4 +1,4 @@\n-Version 1.39 November 30, 2005\n+Version 1.49 April 26, 2007\n \n A Partial List of Missing Features\n ==================================\n@@ -18,7 +18,7 @@\n \n d) Kerberos/SPNEGO session setup support - (started)\n \n-e) NTLMv2 authentication (mostly implemented - double check\n+e) More testing of NTLMv2 authentication (mostly implemented - double check\n that NTLMv2 signing works, also need to cleanup now unneeded SessSetup code in\n fs/cifs/connect.c)\n \n@@ -27,55 +27,44 @@\n and raw NTLMSSP already. This is important when enabling\n extended security and mounting to Windows 2003 Servers\n \n-f) Directory entry caching relies on a 1 second timer, rather than \n+g) Directory entry caching relies on a 1 second timer, rather than \n using FindNotify or equivalent.  - (started)\n \n-g) A few byte range testcases fail due to POSIX vs. Windows/CIFS\n-style byte range lock differences.  Save byte range locks so\n-reconnect can replay them.  \n-\n-h) Support unlock all (unlock 0,MAX_OFFSET)\n-by unlocking all known byte range locks that we locked on the file.\n-\n-i) quota support (needs minor kernel change since quota calls\n+h) quota support (needs minor kernel change since quota calls\n to make it to network filesystems or deviceless filesystems)\n \n-j) investigate sync behavior (including syncpage) and check  \n+i) investigate sync behavior (including syncpage) and check  \n for proper behavior of intr/nointr\n \n-k) hook lower into the sockets api (as NFS/SunRPC does) to avoid the\n+j) hook lower into the sockets api (as NFS/SunRPC does) to avoid the\n extra copy in/out of the socket buffers in some cases.\n \n-l) finish support for IPv6.  This is mostly complete but\n-needs a simple conversion of ipv6 to sin6_addr from the\n-address in string representation.\n-\n-m) Better optimize open (and pathbased setfilesize) to reduce the\n+k) Better optimize open (and pathbased setfilesize) to reduce the\n oplock breaks coming from windows srv.  Piggyback identical file\n opens on top of each other by incrementing reference count rather\n than resending (helps reduce server resource utilization and avoid\n spurious oplock breaks).\n \n-o) Improve performance of readpages by sending more than one read\n+l) Improve performance of readpages by sending more than one read\n at a time when 8 pages or more are requested. In conjuntion\n add support for async_cifs_readpages.\n \n-p) Add support for storing symlink info to Windows servers \n+m) Add support for storing symlink info to Windows servers \n in the Extended Attribute format their SFU clients would recognize.\n \n-q) Finish fcntl D_NOTIFY support so kde and gnome file list windows\n+n) Finish fcntl D_NOTIFY support so kde and gnome file list windows\n will autorefresh (partially complete by Asser). Needs minor kernel\n vfs change to support removing D_NOTIFY on a file.   \n \n-r) Add GUI tool to configure /proc/fs/cifs settings and for display of\n+o) Add GUI tool to configure /proc/fs/cifs settings and for display of\n the CIFS statistics (started)\n \n-s) implement support for security and trusted categories of xattrs\n+p) implement support for security and trusted categories of xattrs\n (requires minor protocol extension) to enable better support for SELINUX\n \n-t) Implement O_DIRECT flag on open (already supported on mount)\n+q) Implement O_DIRECT flag on open (already supported on mount)\n \n-u) Create UID mapping facility so server UIDs can be mapped on a per\n+r) Create UID mapping facility so server UIDs can be mapped on a per\n mount or a per server basis to client UIDs or nobody if no mapping\n exists.  This is helpful when Unix extensions are negotiated to\n allow better permission checking when UIDs differ on the server\n@@ -83,19 +72,26 @@\n standard for asking the server for the corresponding name of a\n particular uid.\n \n-v) Add support for CIFS Unix and also the newer POSIX extensions to the\n+s) Add support for CIFS Unix and also the newer POSIX extensions to the\n server side for Samba 4.\n \n-w) Finish up the dos time conversion routines needed to return old server\n-time to the client (default time, of now or time 0 is used now for these \n-very old servers)\n-\n-x) In support for OS/2 (LANMAN 1.2 and LANMAN2.1 based SMB servers) \n+t) In support for OS/2 (LANMAN 1.2 and LANMAN2.1 based SMB servers) \n need to add ability to set time to server (utimes command)\n \n-y) Finish testing of Windows 9x/Windows ME server support (started).\n+u) DOS attrs - returned as pseudo-xattr in Samba format (check VFAT and NTFS for this too)\n \n-KNOWN BUGS (updated February 26, 2007)\n+v) mount check for unmatched uids - and uid override\n+\n+w) Add mount option for Linux extension disable per mount, and partial\n+disable per mount (uid off, symlink/fifo/mknod on but what about posix acls?)\n+\n+x) Fix Samba 3 server to handle Linux kernel aio so dbench with lots of \n+processes can proceed better in parallel (on the server)\n+\n+y) Fix Samba 3 to handle reads/writes over 127K (and remove the cifs mount\n+restriction of wsize max being 127K) \n+\n+KNOWN BUGS (updated April 24, 2007)\n ====================================\n See http://bugzilla.samba.org - search on product \"CifsVFS\" for\n current bug list.\n@@ -126,3 +122,4 @@\n \n 4) More exhaustively test against less common servers.  More testing\n against Windows 9x, Windows ME servers.\n+\n\nModified: branches/linux-converged-for-old-kernels/fs/cifs/cifsfs.h\n===================================================================\n--- branches/linux-converged-for-old-kernels/fs/cifs/cifsfs.h\t2007-04-26 14:21:22 UTC (rev 109)\n+++ branches/linux-converged-for-old-kernels/fs/cifs/cifsfs.h\t2007-04-26 14:40:07 UTC (rev 110)\n@@ -148,5 +148,5 @@\n extern ssize_t\tcifs_listxattr(struct dentry *, char *, size_t);\n extern int cifs_ioctl (struct inode * inode, struct file * filep,\n \t\t       unsigned int command, unsigned long arg);\n-#define CIFS_VERSION   \"1.47\"\n+#define CIFS_VERSION   \"1.49\"\n #endif\t\t\t\t/* _CIFSFS_H */\n\n"}