{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "idra@samba.org", "subject": "svn commit: samba r23411 - in branches: SAMBA_3_0/source/lib\n\tSAMBA_3_0_25/source/lib SAMBA_3_0_26/source/lib", "body": "Author: idra\nDate: 2007-06-11 00:05:48 +0000 (Mon, 11 Jun 2007)\nNew Revision: 23411\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23411\n\nLog:\n\nWe were missing displayName and that was preventing us\nfrom successfully deleting an entry when \"account\" is\nthe STRUCTURAL objectclass used for users and machines.\n\"account\" is used each time the user entry is in /etc/passwd\nand we have only the samba attributes in ldap, as well\nas for rfc2307(bis) standard based directories.\n\n\nModified:\n   branches/SAMBA_3_0/source/lib/smbldap.c\n   branches/SAMBA_3_0_25/source/lib/smbldap.c\n   branches/SAMBA_3_0_26/source/lib/smbldap.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/smbldap.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/smbldap.c\t2007-06-10 17:02:09 UTC (rev 23410)\n+++ branches/SAMBA_3_0/source/lib/smbldap.c\t2007-06-11 00:05:48 UTC (rev 23411)\n@@ -138,6 +138,7 @@\n \t{ LDAP_ATTR_LOGON_TIME,\t\t\"sambaLogonTime\" \t},\n \t{ LDAP_ATTR_LOGOFF_TIME,\t\"sambaLogoffTime\"\t},\n \t{ LDAP_ATTR_KICKOFF_TIME,\t\"sambaKickoffTime\"\t},\n+\t{ LDAP_ATTR_DISPLAY_NAME,\t\"displayName\"\t\t},\n \t{ LDAP_ATTR_HOME_DRIVE,\t\t\"sambaHomeDrive\"\t},\n \t{ LDAP_ATTR_HOME_PATH,\t\t\"sambaHomePath\"\t\t},\n \t{ LDAP_ATTR_LOGON_SCRIPT,\t\"sambaLogonScript\"\t},\n\nModified: branches/SAMBA_3_0_25/source/lib/smbldap.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/lib/smbldap.c\t2007-06-10 17:02:09 UTC (rev 23410)\n+++ branches/SAMBA_3_0_25/source/lib/smbldap.c\t2007-06-11 00:05:48 UTC (rev 23411)\n@@ -138,6 +138,7 @@\n \t{ LDAP_ATTR_LOGON_TIME,\t\t\"sambaLogonTime\" \t},\n \t{ LDAP_ATTR_LOGOFF_TIME,\t\"sambaLogoffTime\"\t},\n \t{ LDAP_ATTR_KICKOFF_TIME,\t\"sambaKickoffTime\"\t},\n+\t{ LDAP_ATTR_DISPLAY_NAME,\t\"displayName\"\t\t},\n \t{ LDAP_ATTR_HOME_DRIVE,\t\t\"sambaHomeDrive\"\t},\n \t{ LDAP_ATTR_HOME_PATH,\t\t\"sambaHomePath\"\t\t},\n \t{ LDAP_ATTR_LOGON_SCRIPT,\t\"sambaLogonScript\"\t},\n\nModified: branches/SAMBA_3_0_26/source/lib/smbldap.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/lib/smbldap.c\t2007-06-10 17:02:09 UTC (rev 23410)\n+++ branches/SAMBA_3_0_26/source/lib/smbldap.c\t2007-06-11 00:05:48 UTC (rev 23411)\n@@ -138,6 +138,7 @@\n \t{ LDAP_ATTR_LOGON_TIME,\t\t\"sambaLogonTime\" \t},\n \t{ LDAP_ATTR_LOGOFF_TIME,\t\"sambaLogoffTime\"\t},\n \t{ LDAP_ATTR_KICKOFF_TIME,\t\"sambaKickoffTime\"\t},\n+\t{ LDAP_ATTR_DISPLAY_NAME,\t\"displayName\"\t\t},\n \t{ LDAP_ATTR_HOME_DRIVE,\t\t\"sambaHomeDrive\"\t},\n \t{ LDAP_ATTR_HOME_PATH,\t\t\"sambaHomePath\"\t\t},\n \t{ LDAP_ATTR_LOGON_SCRIPT,\t\"sambaLogonScript\"\t},\n\n"}