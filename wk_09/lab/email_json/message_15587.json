{"category": "ham", "to_address": "chromatic <chromatic@wgz.org>", "from_address": "Andy Spieherty <spiehera@lafayette.edu>", "subject": "Re: [perl #42620] PGE 'Out of memory' panics.", "body": "On Tue, 24 Apr 2007, chromatic wrote:\n\n> On Tuesday 24 April 2007 13:30, Andy Spieherty wrote:\n> \n> > > Andy, could you update to r18323, remove the -G's, and see if it\n> > > now runs to completion on your Solaris box?\n> \n> > Thanks for the heads-up.  I'm afraid testing will have to wait until\n> > tomorrow.  The rsync server at svn.perl.org is still down, and the\n> > snapshot on svn.perl.org hasn't picked up that patch yet.\n> \n> Here's the patch (before I added comments); it should apply cleanly to \n> anything in the past week or two.\n\nThanks.  That indeed does help.  Without this patch, \n\n\t ./parrot  t/compilers/pge/p5regex/p5rx.t\n\nwould only get to test 185.  Today, I made it to test 227.  Granted, it \ntook 22 minutes to get there, but it did get there!\n\nSo, good detective work.  I think you've plugged an important leak.  \nAlas, there are still (at least) two problems:\n\n1.  It's still leaking memory badly for me.  It improved from test 185\nto 227, but that's a long way from completing all 960 tests.\n\n2.  Garbage collection really slows the program down (I observed factors\nof 10 difference in speed with and without -G), and I have a vague\nunsupported suspicion that the slowdown grows faster than linearly with\nthe allocated memory.\n\nStill, keep up the good work!\n\n-- \n    Andy Spieherty\t\tspiehera@lafayette.edu\n\n"}