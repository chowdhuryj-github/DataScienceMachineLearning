{"category": "ham", "to_address": "debian-laptop@lists.debian.org", "from_address": "\"Alexandre Neubert\" <alexandre.neubert@gmail.com>", "subject": "Problem configuring reverse proxy on apache2.2", "body": "Hello List,I encountered some problems while trying to configure the apache 2.2 modules reverse proxy ajp,http and ssl on a Debian Etch.Here is what I've done:Installation of the packages apache \n2.2I activated the modules (cd /etc/apache2/mods-available && a2enmod\nproxy_ajp && a2enmod proxy_http && a2enmod ssl)A message says each time that the module is now enabled and to run /etc/init.d/apache2 force-reload to activate them (that's what I did)\nThen, I configured the reverse proxy for my urls. Suppose my apache is on 192.168.0.2 and I want to redirect /toto to 192.168.2.90. I edit the file /etc/apache2/mods-enabled/proxy.conf with:\nProxyRequests Off\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 <Proxy *>\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 AddDefaultCharset off\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Order deny,allow\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 Allow from all\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 </Proxy>\nProxyVia On\n\nProxyPass /toto http://192.168.2.90:9000/titi\n\nProxyPassReverse /toto http://192.168.2.90:9000/titi\nI saved and restarted apache (/etc/init.d/apache2 restart)\nI get the following error message, but apache still starts\u00a0 (mais apache demarre quand meme)\n\nForcing reload of web server (apache2)...apache2: Could not reliably\ndetermine the server's fully qualified domain name, using 192.168.0.2\nfor ServerName\nNow, if I query http://192.168.0.2/toto he gets me to the right page, but:I don't have any image not html fontsIt's incredibly slow (like 2 minutes for a simple html page)\nFurthermore, if I click on a local link on the forwarded page he tries to redirect to 192.168.2.90 where he isn't alowed to of course.Now, I have some questions:\nIs my configuration OK?Is there a reason why the display is so slow (apart from jitter)Why does he try to find something on 192.168.2.90 on the second request? Does that mean that the reverse proxy does not work?\nI tried to get the logs, but no error message in /var/log/apache2.Does someone has an idea?Thx,Alexandre\n"}