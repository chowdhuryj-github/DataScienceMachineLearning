{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r23556 - in branches: SAMBA_3_0/source/nmbd\n\tSAMBA_3_0_25/source/nmbd SAMBA_3_0_26/source/nmbd", "body": "Author: jra\nDate: 2007-06-20 23:24:18 +0000 (Wed, 20 Jun 2007)\nNew Revision: 23556\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23556\n\nLog:\nFix for error path from Atsushi Nakabayashi .\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/nmbd/nmbd_winsserver.c\n   branches/SAMBA_3_0_25/source/nmbd/nmbd_winsserver.c\n   branches/SAMBA_3_0_26/source/nmbd/nmbd_winsserver.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/nmbd/nmbd_winsserver.c\n===================================================================\n--- branches/SAMBA_3_0/source/nmbd/nmbd_winsserver.c\t2007-06-20 18:05:48 UTC (rev 23555)\n+++ branches/SAMBA_3_0/source/nmbd/nmbd_winsserver.c\t2007-06-20 23:24:18 UTC (rev 23556)\n@@ -2333,6 +2333,7 @@\n \t\tif (tdb_reopen(wins_tdb)) {\n \t\t\tDEBUG(0,(\"wins_write_database: tdb_reopen failed. Error was %s\\n\",\n \t\t\t\tstrerror(errno)));\n+\t\t\t_exit(0);\n \t\t\treturn;\n \t\t}\n \t}\n\nModified: branches/SAMBA_3_0_25/source/nmbd/nmbd_winsserver.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/nmbd/nmbd_winsserver.c\t2007-06-20 18:05:48 UTC (rev 23555)\n+++ branches/SAMBA_3_0_25/source/nmbd/nmbd_winsserver.c\t2007-06-20 23:24:18 UTC (rev 23556)\n@@ -2333,6 +2333,7 @@\n \t\tif (tdb_reopen(wins_tdb)) {\n \t\t\tDEBUG(0,(\"wins_write_database: tdb_reopen failed. Error was %s\\n\",\n \t\t\t\tstrerror(errno)));\n+\t\t\t_exit(0);\n \t\t\treturn;\n \t\t}\n \t}\n\nModified: branches/SAMBA_3_0_26/source/nmbd/nmbd_winsserver.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/nmbd/nmbd_winsserver.c\t2007-06-20 18:05:48 UTC (rev 23555)\n+++ branches/SAMBA_3_0_26/source/nmbd/nmbd_winsserver.c\t2007-06-20 23:24:18 UTC (rev 23556)\n@@ -2333,6 +2333,7 @@\n \t\tif (tdb_reopen(wins_tdb)) {\n \t\t\tDEBUG(0,(\"wins_write_database: tdb_reopen failed. Error was %s\\n\",\n \t\t\t\tstrerror(errno)));\n+\t\t\t_exit(0);\n \t\t\treturn;\n \t\t}\n \t}\n\n"}