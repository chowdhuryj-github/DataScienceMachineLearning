{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r23308 - in branches/SAMBA_3_0_26/source: .\n\tinclude", "body": "Author: metze\nDate: 2007-06-02 08:31:48 +0000 (Sat, 02 Jun 2007)\nNew Revision: 23308\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23308\n\nLog:\nmerge from SAMBA_3_0:\n\nfix build on hosts with missing readahead prototype\n\nmetze\nModified:\n   branches/SAMBA_3_0_26/source/configure.in\n   branches/SAMBA_3_0_26/source/include/includes.h\n\n\nChangeset:\nModified: branches/SAMBA_3_0_26/source/configure.in\n===================================================================\n--- branches/SAMBA_3_0_26/source/configure.in\t2007-06-02 08:30:42 UTC (rev 23307)\n+++ branches/SAMBA_3_0_26/source/configure.in\t2007-06-02 08:31:48 UTC (rev 23308)\n@@ -5773,6 +5773,8 @@\n              [Whether Linux readahead is available])\n fi\n \n+AC_HAVE_DECL(readahead, [#include ])\n+\n ############################################\n # See if we have the posix_fadvise syscall.\n \n\nModified: branches/SAMBA_3_0_26/source/include/includes.h\n===================================================================\n--- branches/SAMBA_3_0_26/source/include/includes.h\t2007-06-02 08:30:42 UTC (rev 23307)\n+++ branches/SAMBA_3_0_26/source/include/includes.h\t2007-06-02 08:31:48 UTC (rev 23308)\n@@ -1218,6 +1218,9 @@\n \n #endif\t/* HAVE_LDAP */\n \n+#if defined(HAVE_LINUX_READAHEAD) && ! defined(HAVE_READAHEAD_DECL)\n+ssize_t readahead(int fd, off64_t offset, size_t count);\n+#endif\n \n /* TRUE and FALSE are part of the C99 standard and gcc, but\n    unfortunately many vendor compilers don't support them.  Use True\n\n"}