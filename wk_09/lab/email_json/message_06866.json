{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Ben Bolker <bolker@zoo.ufl.edu>", "subject": "Re: [R] software comparison", "body": "Philippe Grosjean  sciviews.org> writes:\n\n> \n> Hello,\n> \n> For a paper published in 2007, and submitted in April 2005, this is \n> still surprising. If I my calculation is correct, in 2004, they would \n> have used R 2.2.x, or something,... not 1.9.1?\n> \n> Anyway, does someone know if there is a chance 2.5.0 provides some \n> improvements in some of the \"difficult cases\" for R 1.9.1 (for instance, \n> improvement of the algorithms for calculating autocorrelation, ANOVA, \n> linear regression or non linear regression)?\n> \n\n  I did a bit of testing (with 2.6.0 unstable).\nTwo of the tests that R 1.9.1 did worst on were\nANOVAs of NIST data sets SiRstv and AgWt \n(LREs listed in the paper for these tests are\n 5.7 and 6.7 respectively, compared\nwith SAS 9.1's 12.7 and 8.8, Splus 6.2's 13.4\nand 9.7).\n\n  The code below produces LREs of\n13.3 for SiRstv and 9.18 for AgWt -- close to Splus\n6.2, better than SAS.\n\n  If anyone has a whole zoo of R versions lying around\nthey could go back and try this code on them ...\n\n  Ben Bolker\n\n\nscanstr = function(con,target,verbose=FALSE) {\n  s = readLines(con,n=1)\n  while (length(s)>0 && length(grep(target,s))==0) {\n    if (verbose) cat(s,\"\\n\")\n    s = readLines(con,n=1)\n  }\n  pushBack(s,con)\n}\nLRE = function(target,val) {\n  -log10(abs(val-target)/abs(target))\n}\nu1 = url(\"http://www.itl.nist.gov/div898/strd/anova/SiRstv.dat\",open=\"r\")\nscanstr(u1,\"F Statistic\")  ## skip ahead to ANOVA table\nr = readLines(u1,3)\n## grab last value in ANOVA table\ncert.F = as.numeric(strsplit(r[3],\" \")[[1]][7])  \nscanstr(u1,\"Resistance\")                         ## skip ahead to data\nx = read.table(u1,skip=1)\nnames(x)=c(\"Instrument\",\"Resistance\")\nx$Instrument=factor(x$Instrument)\n\na1 = anova(lm(Resistance~Instrument,data=x))     ## R anova(lm)\na2 = summary(aov(Resistance~Instrument,data=x))     ## R aov\nR.F = a1$\"F value\"[1]\nR.F2 = a2[[1]]$\"F value\"[1]\nLRE(cert.F,R.F)\nLRE(cert.F,R.F2)\nclose(u1)\n\nu2 = url(\"http://www.itl.nist.gov/div898/strd/anova/AtmWtAg.dat\",open=\"r\")\nscanstr(u2,\"F Statistic\")  ## skip ahead to ANOVA table\nr = readLines(u2,4)\n## grab last value in ANOVA table\ncert.F = as.numeric(strsplit(r[4],\" \")[[1]][7])  \nscanstr(u2,\"AgWt\",verbose=TRUE)  ## skip ahead to data\nx = read.table(u2,skip=1,header=FALSE)\nnames(x)=c(\"Instrument\",\"AgWt\")\nx$Instrument=factor(x$Instrument)\n\na1 = anova(lm(AgWt~Instrument,data=x))     ## R anova(lm)\na2 = summary(aov(AgWt~Instrument,data=x))     ## R aov\nR.F = a1$\"F value\"[1]\nR.F2 = a2[[1]]$\"F value\"[1]\nLRE(cert.F,R.F)\nLRE(cert.F,R.F2)\nclose(u2)\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}