{"category": "ham", "to_address": "Gregory Pierce <pierce.gregory@gmail.com>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] Survival statistics--displaying multiple plots", "body": "Greg,\n\nI suspect that you want something like this:\n\nUse the 'aml' dataset and create a 'meld' column with random values from\n1:25:\n\nlibrary(survival)\n\nset.seed(1)\naml$meld <- sample(25, 23, replace = TRUE)\n\n> aml$meld\n [1]  7 10 15 23  6 23 24 17 16  2  6  5 18 10 20 13 18 25 10 20 24  6\n[23] 17\n\n\nNow use cut() to create a 3 level factor from the values in 'meld':\n\naml$meld.grp <- cut(aml$meld, breaks = c(-Inf, 10, 20, Inf))\n\n> aml$meld.grp\n [1] (-Inf,10] (-Inf,10] (10,20]   (20, Inf] (-Inf,10] (20, Inf]\n [7] (20, Inf] (10,20]   (10,20]   (-Inf,10] (-Inf,10] (-Inf,10]\n[13] (10,20]   (-Inf,10] (10,20]   (10,20]   (10,20]   (20, Inf]\n[19] (-Inf,10] (10,20]   (20, Inf] (-Inf,10] (10,20]  \nLevels: (-Inf,10] (10,20] (20, Inf]\n\n\nNow, let's do the plot, grouping by 'meld.grp':\n\nplot(survfit(Surv(time, status) ~ meld.grp, data = aml), \n     col = 1:3, legend.text = levels(aml$meld.grp),\n     legend.pos = 1)\n\n\nIf this is close, see ?cut for creating a factor from a continuous\nvector.\n\nYou can of course further tweak the plot aesthetics as you desire.\n\nHTH,\n\nMarc Schwartz\n\n\n\nOn Wed, 2007-05-02 at 23:14 -0400, Gregory Pierce wrote:\n> I should clarify. I can generate plots for each category individually but\n> not for all three on the same chart.\n> \n> Greg\n> \n> -----Original Message-----\n> From: Gregory Pierce [mailto:pierce.gregory@gmail.com] \n> Sent: Wednesday, May 02, 2007 10:21 PM\n> To: 'r-help@stat.math.ethz.ch'\n> Subject: Survival statistics--displaying multiple plots\n> \n> Hello all!\n> \n> I am once again analyzing patient survival data with chronic liver disease. \n> \n> The severity of the liver disease is given by a number which is continuously\n> variable. I have referred to this number as \"meld\"--model for end stage\n> liver disease--which is the result of a mathematical calculation on\n> underlying laboratory values. So, for example, I can generate a Kaplan-Meier\n> plot of patients undergoing a TIPS procedure with the following:\n> \n> >plot(survfit(Surv(days,status==1),subset(tips,meld<10)) \n> \n> where \"tips\" is my data set, \"days\" is the number of days alive, and meld is\n> the meld score.\n> \n> What I would like to do is display the survival graphs of patients with\n> meld<10, 1020. I am unsure about how to go about this.\n> \n> Any suggestions would be appreciated.\n> \n> Greg\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}