{"category": "ham", "to_address": "David Vonka <D.Vonka@uvt.nl>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] Computational speed question", "body": "On Tue, 10 Apr 2007, David Vonka wrote:\n\n> Hello,\n>\n> I'm doing bootstrap in R 2.4.1 in order to compute standard errors of an\n> estimator. I'm running the same program on 4 computers. The core of the\n> program is a nlm minimization of a function, which is (I believe) nicely\n> coded using (t)apply and all the vectorized stuff.\n>\n> I'm slightly puzzled by the differences in the speed of computation. The\n> program works twice as fast on a two years old Celeron (256 MB, running\n> Ubuntu Dapper Linux) than on a P4 (1GB, Windows 2000 + Novell) and the\n> speed of that Celeron is comparable with an other P4 (1GB, Ubuntu Feisty\n> Linux). In general (outside R, text editing, whatever), the Celeron is\n> much slower than any of the two P4.\n>\n> Is there any reason for this ? Is R better optimized for Linux ? Some\n> options I might have used when installing R on one of the Linuxes and\n> not on the other one ?\n\nR is not better optimized for Linux (and nor is the compiler used) but \nLinux is much better optimized for operations using very frequent memory \naccess than is Windows.  Also you haven't told us the details of your \nchips.  (Not that I really wanted to know, but the size of caches can be \nmuch more important than the clock speed, and P4's are the architecture \nmost likely to depend on fast caches in my experience.)\n\nBTW, R on Windows is comparable with --enable-R-shlib under Linux, and the \nlatter has a ca 15% penalty on a i686: the Linux binary distributions are \nI believe built that way, but it is not the default. Running R under \nWindows and FC5 (with --enable-R-shlib) on the same hardware I see rather \nlittle difference in speed except for some operations like bootstrapping.\n\nThere used to be a large overhead (I saw 7x or more) on Windows for \nbootstrap-like calculations, but we along ago we added a memory manager \nfor R (from the same stable as the Linux one) on top of the Windows one. \nThis usually works well, but not always.\n\nIt is always worth trying a later R.  That additional malloc layer has \nbeen changed in R 2.5.0 beta and seems to help.\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}