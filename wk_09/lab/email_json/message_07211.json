{"category": "ham", "to_address": "perl6-internals@perl.org", "from_address": "pancake <pancake@youterm.com>", "subject": "a patch from pkgsrc", "body": "Hi, I have updated the pkgsrc package of parrot to the latest 0.4.10 (I hope\nto maintain the following releases too), There's an ancient patch into the\npackage to fix the build on dragonflybsd. I have no dflybsd but it looks ok\nfor me.\n\nKeep up the good work!\n\n--pancake\n\n# cat patches/patch-aa \n$NetBSD: patch-aa,v 1.2 2006/01/09 17:47:07 wiz Exp $\n\n--- /dev/null   Fri Jan  6 20:33:00 2006\n+++ config/init/hints/dragonflybsd.pm   Fri Jan  6 20:37:08 2006\n@@ -0,0 +1,30 @@\n+# Copyright: 2005 The Perl Foundation.  All Rights Reserved.\n+\n+package init::hints::dragonflybsd;\n+\n+use strict;\n+\n+sub runstep\n+{\n+    my ($self, $conf) = @_;\n+\n+    my $libs = $conf->data->get('libs');\n+\n+    if ($libs !~ /pthread/) {\n+        $libs .= ' -pthread';\n+    }\n+\n+    $conf->data->set(\n+        libs                    => $libs,\n+        link                    => 'g++',\n+        rpath                   => '-Wl,-R',\n+\n+        has_dynamic_linking     => 1,\n+        parrot_is_shared        => 1,\n+        libparrot_shared        => 'libparrot$(SHARE_EXT).$(SOVERSION)',\n+        libparrot_shared_alias  => 'libparrot$(SHARE_EXT)',\n+        libparrot_soname        => '-Wl,-soname=libparrot$(SHARE_EXT).$(SOVERSION)',\n+    );\n+}\n+\n+1;\n\n"}