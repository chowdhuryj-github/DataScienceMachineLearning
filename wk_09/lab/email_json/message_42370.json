{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r23343 - in branches: SAMBA_3_0/source/lib\n\tSAMBA_3_0_26/source/lib", "body": "Author: vlendec\nDate: 2007-06-04 19:45:41 +0000 (Mon, 04 Jun 2007)\nNew Revision: 23343\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23343\n\nLog:\nFix error return\n\nModified:\n   branches/SAMBA_3_0/source/lib/messages.c\n   branches/SAMBA_3_0_26/source/lib/messages.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/messages.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/messages.c\t2007-06-04 19:29:40 UTC (rev 23342)\n+++ branches/SAMBA_3_0/source/lib/messages.c\t2007-06-04 19:45:41 UTC (rev 23343)\n@@ -199,8 +199,10 @@\n \tstatus = messaging_tdb_init(ctx, ctx, &ctx->local);\n \n \tif (!NT_STATUS_IS_OK(status)) {\n-\t\tDEBUG(0, (\"messaging_tdb_init failed: %s\\n\", nt_errstr(status)));\n+\t\tDEBUG(0, (\"messaging_tdb_init failed: %s\\n\",\n+\t\t\t  nt_errstr(status)));\n \t\tTALLOC_FREE(ctx);\n+\t\treturn NULL;\n \t}\n \n \tmessaging_register(ctx, NULL, MSG_PING, ping_message);\n\nModified: branches/SAMBA_3_0_26/source/lib/messages.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/lib/messages.c\t2007-06-04 19:29:40 UTC (rev 23342)\n+++ branches/SAMBA_3_0_26/source/lib/messages.c\t2007-06-04 19:45:41 UTC (rev 23343)\n@@ -199,8 +199,10 @@\n \tstatus = messaging_tdb_init(ctx, ctx, &ctx->local);\n \n \tif (!NT_STATUS_IS_OK(status)) {\n-\t\tDEBUG(0, (\"messaging_tdb_init failed: %s\\n\", nt_errstr(status)));\n+\t\tDEBUG(0, (\"messaging_tdb_init failed: %s\\n\",\n+\t\t\t  nt_errstr(status)));\n \t\tTALLOC_FREE(ctx);\n+\t\treturn NULL;\n \t}\n \n \tmessaging_register(ctx, NULL, MSG_PING, ping_message);\n\n"}