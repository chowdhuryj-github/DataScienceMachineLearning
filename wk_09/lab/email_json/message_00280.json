{"category": "ham", "to_address": "James Peach <jpeach@samba.org>", "from_address": "Jeremy Allison <jra@samba.org>", "subject": "Re: svn commit: samba r22132 - in branches:\n\tSAMBA_3_0/source/modules SAMBA_3_0/source/smbd\n\tSAMBA_3_0_25/source/modules SAMBA_3_0_25/source/smbd", "body": "On Sun, Apr 08, 2007 at 06:35:18PM -0700, James Peach wrote:\n> \n> They're not *exactly* the same, but they are mostly the same. The  \n> difference is quite subtle. This patch should resolve the differences:\n\nI don't think this is the same. The readahead code\ndoes readahead every time a pread/sendfile is requested\nat an offset of (offset % boundary) == 0.\n\n>From what I can see this patch doesn't do that.\n\nCommit it if you like but my opinion is that\nthe modules are different enough that I intend\nto keep the vfs_readahead one separate.\n\nAlso, to use the current one with defaults\nthat are exactly tuned to Vista you just use :\n\nvfs objects = readahead\n\nand you get the speedup (on Linux at least,\nand that's our major platform). I like that\nsimplicity and I don't want to lose it.\n\nI know you wrote (and like :-) the cacheprime\nmodule, but that was for a very specific SGI\nsetup as I recall and I don't think they are\nsimilar enough to merge. They *look* similar\nbut they're doing different things and it'd\nbe simpler to leave them that way (IMHO).\n\nJeremy.\n\n"}