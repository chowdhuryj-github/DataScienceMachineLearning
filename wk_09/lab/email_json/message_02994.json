{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "mimir@samba.org", "subject": "svn commit: samba r22179 - in branches/SAMBA_4_0/services: .", "body": "Author: mimir\nDate: 2007-04-11 23:01:48 +0000 (Wed, 11 Apr 2007)\nNew Revision: 22179\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22179\n\nLog:\nStore resource id along with the object itself to be able to return\nit as \"number\" type. This fixes a small problem with resource set\nmethod returning id of type \"number\" whereas find method was returning\nid of type \"string\".\n\n\nrafal\n\n\nModified:\n   branches/SAMBA_4_0/services/resources.esp\n\n\nChangeset:\nModified: branches/SAMBA_4_0/services/resources.esp\n===================================================================\n--- branches/SAMBA_4_0/services/resources.esp\t2007-04-11 14:30:42 UTC (rev 22178)\n+++ branches/SAMBA_4_0/services/resources.esp\t2007-04-11 23:01:48 UTC (rev 22179)\n@@ -52,6 +52,7 @@\n         /* Save the resource and its type */\n         r.resource = resource;\n         r.type = type;\n+\tr.id = this.resourceList.id;\n \n         /* Add this resource to the list */\n         this.resourceList[this.resourceList.id] = r;\n@@ -110,7 +111,7 @@\n                 if (r.type == type)\n                 {\n                     /* Yup, this is the one they want. */\n-                    return resourceId;\n+\t\t  return r.id;\n                 }\n             }\n         }\n\n"}