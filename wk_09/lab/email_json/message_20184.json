{"category": "ham", "to_address": "simo <idra@samba.org>", "from_address": "Johann Hanne <jhml@gmx.net>", "subject": "Re: Setting \"winbind separator\" to '\\' in smb.conf", "body": "On Sunday 29 April 2007 18:36, simo wrote:\n> On Sun, 2007-04-29 at 13:01 +0200, Johann Hanne wrote:\n> > Hi,\n> >\n> > there is currently no obvious way to explicitly set the winbind separator\n> > to '\\' in smb.conf. Even worse, the default given in the man page of\n> > smb.conf is wrong:\n> >\n> > winbind separator = '\\'\n> >\n> > This will actually set the separator to a single quote ('). Similarly,\n> >\n> > winbind separator = \"\\\"\n> >\n> > will set it to a double quote (\"). People may also think that\n> >\n> > winbind separator = \\\\\n> >\n> > works. And yes, the separator will be \\ indeed, but the next line in the\n> > config file will have no effect, because it's taken as continuation of\n> > the winbind separator line.\n> >\n> > One way that works is\n> >\n> > winbind separator = \\garbage\n> >\n> > but imho this is not really obvious.\n> >\n> > Thus, this should either either be fixed so that '\\' and \"\\\" both work as\n> > expected, or the problem should be described in the man page!\n> >\n> > Comments, please?\n>\n> Have you tried: winbind separator = \"\\\\\" ?\nJust tried it with 3.0.25rc3. It results in the actual seperator being a \ndouble quote (\"), and '\\\\' results in a single quote ('). As it seems that \neven a Samba insider falls about the smb.conf parsing, I feel assured that \nthere should be an extra paragraph in the smb.conf man page explaining that a \nbackslash is *NEVER* treated in a special way except for line continuation \n(that's why \\\\SERVER\\SHARE is a valid notation) and that single/double quotes \nonly have a special meaning with certain keywords (e.g. passdb backend).\n\n> However, being it the default, all you need to do is to remove the\n> parameter :)\nYes, that's why I wrote \"no obvious way to EXPLICITLY set the winbind \nseparator\". In my experience, relying on the default is not always a good \nidea. If you heavily rely on a parameter being set to a certain value, it's \nusually wise to set it in a configuration file even it's the default.\n\nIt's ok for me if you insist on the current behaviour, but then the smb.conf \nman page is still wrong, as it says:\n\nDefault: winbind separator = '\\'\n\nThe Default is \\, and this directive would set it to '. And even worse, it \nsuggests that it's ok to enclose the character in quotes which is wrong, too. \nIf you keep the current behaviour, the man page must explain that the default \nis something like\n\nwinbind separator = \\garbage\n\nSo maybe it's better to allow both '\\' and \"\\\".\n\nIf we agree on a solution, I'm willing to write a patch. Just let me know what \nyou think about it.\n\nCheers, Johann\n\n"}