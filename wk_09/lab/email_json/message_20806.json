{"category": "ham", "to_address": "Duncan Murdoch <murdoch@stats.uwo.ca>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] Concepts question: environment, frame, search path", "body": "On Tue, 1 May 2007, Duncan Murdoch wrote:\n\n> On 01/05/2007 12:29 AM, Graham Wideman wrote:\n>> Folks:\n>>\n>> I'd appreciate if someone could straighten me out on a few concepts which\n>> are described a bit ambiguously in the docs.\n>>\n>> 1.  data.frame:\n>> ----------------\n>> Refan p84: 'A data frame is a list of variables of the same length with\n>> unique row names, given class \"data.frame\".'\n>>\n>> I probably don't need to point out how opaque that is!\n>\n> Which manual are you looking at?  The \"reference index\" (refman.pdf)? It\n> doesn't usually include statements like that; they are usually found in\n> the Introduction to R (R-intro.pdf) or the R Language Definition\n> (R-lang.pdf).  But since the refman is just a collection of man pages,\n> it might be in there somewhere.  And since the manuals do get updated,\n> that statement may not be present in the current release.  (I did a\n> quick search of the source, and couldn't spot it, but my search might\n> have failed because of line breaks, strange formatting, or looking in\n> the wrong place.)\n>\n> By the way, it's generally best to cite the section name where you found\n> a quote, because the pagination varies from system to system.  Even\n> better would be to give a URL to the online HTML version at\n> http://cran.r-project.org/manuals.html.\n>\n> For future reference, if you are suggesting a change, it's best to cite\n> the line number in the source at\n> https://svn.r-project.org/R/trunk/doc/manual in the *.texi files or\n> https://svn.r-project.org/R/trunk/src/library/*/man/*.Rd for man pages,\n> and send such suggestions to the R-devel list.\n>\n>> Anyhow, key question: Some places in the docs seem pretty firm that a\n>> data.frame is basically a 2-D array with:\n>> a) named rows and\n>> b) columns whose items within a column be of uniform data type.\n>>\n>> Elsewhere, it seems like a data.frame can be a collection of arbitrary\n>> variables.\n>\n> The former interpretation is correct.  Since the variables all have the\n> same length, things like df[i, j] make sense:  they choose the i'th\n> entry from the j'th variable (according to the \"refan\" definition), or\n> the i'th row, j'th column (according to the 2-D array interpretation.\n>>\n>> 2. environment\n>> ---------------\n>> Refman p122:  \"Environments consist of a frame, or collection of named\n>> objects, and a pointer to an enclosing environment.\"\n>>\n>> Is the \"or\" here explaining parenthetically that a frame is a collection of\n>> named objects, or is separating too alternative structures for an\n>> environment?\n>\n> The former.\n>>\n>> If the former, does this imply that a frame can contain arbitrary variables?\n>\n> Yes, but a frame isn't an R object, it's a concept that appears in\n> descriptions, e.g. part of an environment, or the local variables\n> created during function evaluation, etc.\n>>\n>> And \"pointer\"? Is that a type of thing in R?\n>\n> No, there are no pointers in R.  There are a couple of tricks to fake\n> them (e.g. environment objects aren't copied when assigned, you just get\n> a new reference to the same environment; this allows you to construct\n> something like a pointer by wrapping an object in an environment), but I\n> don't recommend using these routinely.\n\nNevertheless, the statement is true.  R is implemented using pointers.\n\n\n>> 3.  R search path; attach()\n>> ----------------------------\n>> The R search path appears to hold the list of \"collections of data\" (my\n>> term) that can be accessed by a users' commands. Refman p27 tells that\n>> search path can hold items that are data.frame, list, environment or R data\n>> file (on disk).  Yet R-intro p28 describes attach() as taking a \"directory\n>> name\" argument.  What is the concept \"directory\" in this context?\n>\n> I haven't read the preceding pages carefully, but that looks like an\n> error.  The usual argument to attach is a package name, and what gets\n> attached is an environment holding the exports from the package.\n> Packages are stored in directories in the file system, so maybe that's\n> what the author of that line had in mind.\n\nFor the record, it is old S terminology: that document was converted from \nnotes for S.  What S(-PLUS) now calls 'chapters' it used to call \ndirectories.\n\nAlso for the record, these documents do not have page numbers: their \nlayout depends on the version of R, paper size and the tools used to \nprepare them.\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}