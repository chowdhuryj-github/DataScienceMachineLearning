{"category": "ham", "to_address": "<philozine@yahoo.com>, <r-help@stat.math.ethz.ch>", "from_address": "<Bill.Venables@csiro.au>", "subject": "Re: [R] Retain names in conversion of matrix to vector", "body": "There is a slightly surprising way to do this in one step.  Here's an\nexample\n\n> tmp <- matrix(1:16, 4, 4)\n> dimnames(tmp) <- list(letters[1:4], letters[1:4])\n> tmp\n  a b  c  d\na 1 5  9 13\nb 2 6 10 14\nc 3 7 11 15\nd 4 8 12 16\n> as.data.frame(as.table(tmp))\n   Var1 Var2 Freq\n1     a    a    1\n2     b    a    2\n3     c    a    3\n4     d    a    4\n5     a    b    5\n6     b    b    6\n7     c    b    7\n8     d    b    8\n9     a    c    9\n10    b    c   10\n11    c    c   11\n12    d    c   12\n13    a    d   13\n14    b    d   14\n15    c    d   15\n16    d    d   16\n>  \n\n\nBill Venables\nCSIRO Laboratories\nPO Box 120, Cleveland, 4163\nAUSTRALIA\nOffice Phone (email preferred): +61 7 3826 7251\nFax (if absolutely necessary):  +61 7 3826 7304\nMobile:                (I don't have one!)\nHome Phone:                     +61 7 3286 7700\nmailto:Bill.Venables@csiro.au\nhttp://www.cmis.csiro.au/bill.venables/ \n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch\n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of philozine\nSent: Friday, 15 June 2007 9:04 AM\nTo: r-help@stat.math.ethz.ch\nSubject: [R] Retain names in conversion of matrix to vector\n\nHi R-listers,\n\nI'm using R only for a few basic functions but am having difficulty\ndoing something that *should* be simple. I have an nxn matrix, Q, where\nQ[i,j] is a directed value (in this case, oil exports from i to j). Note\nthat Q[i,j]~=Q[j,i]. I imported column names along with the matrix then\ncopied them to the rows using rownames(Q) <- colnames(Q). Simple so far.\n\nWhat I'd like to do now is convert Q for export into a vector of values\nwith the original row and column names intact. Having one vector each\nfor row, column, and cell would be ideal, e.g., [1,1] = i's name, [1,2]\n= j's name, and [1,3] = Q[i, j]. But just being able to export my matrix\ndata in vector form with the correct row/col names for each observation\nwould be sufficient.\n\nThus far I've tried c(), vector(), and a few others, but can't get the\ncorrect results. They do generate the correct vector of matrix values,\nbut they do not appear to retain both row and column names. (Or, rather,\nI have not discovered how to make them do so.)\n\nTo illustrate, my data currently look something like this:\n\n    A    B    C    D\nA | 0  |.1 |.4  |.6  |\nB |.2 | 0  |.2  |.1  |\nC |.5  |.9  | 0  |.9  |\nD |.7  | 0  |.3  | 0  |\n\nI would like them to look like this (at least when exported as a .txt\nfile, if not necessary when displayed within R):\n\n  i   j   Q\n| A | A | 0 |\n| A | B |.1 |\n| A | C |.4 |\n| A | D |.6 |\n| B | A |.2 |\n| B | B | 0 |\n| B | C |.2 |\n[...] and so on\n\nIf anybody knows how to do this, I will be extremely appreciative!\n\nBest regards,\n\n\n       \n---------------------------------\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide\nhttp://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}