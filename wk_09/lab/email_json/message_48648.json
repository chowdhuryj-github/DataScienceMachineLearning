{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "obnox@samba.org", "subject": "svn commit: samba r23507 - in branches: SAMBA_3_0/source/lib\n\tSAMBA_3_0/source/registry SAMBA_3_0_26/source/lib\n\tSAMBA_3_0_26/source/registry", "body": "Author: obnox\nDate: 2007-06-15 15:51:45 +0000 (Fri, 15 Jun 2007)\nNew Revision: 23507\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23507\n\nLog:\nSplit one general function normalize_dbkey from reg_db.c into util_reg.c\n(To be used in other place in subsequent commit.)\n\nMichael\n\n\nModified:\n   branches/SAMBA_3_0/source/lib/util_reg.c\n   branches/SAMBA_3_0/source/registry/reg_db.c\n   branches/SAMBA_3_0_26/source/lib/util_reg.c\n   branches/SAMBA_3_0_26/source/registry/reg_db.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/util_reg.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/util_reg.c\t2007-06-15 12:23:14 UTC (rev 23506)\n+++ branches/SAMBA_3_0/source/lib/util_reg.c\t2007-06-15 15:51:45 UTC (rev 23507)\n@@ -110,3 +110,10 @@\n \n \treturn WERR_OK;\n }\n+\n+void normalize_dbkey(char *key)\n+{\n+\tsize_t len = strlen(key);\n+\tstring_sub(key, \"\\\\\", \"/\", len+1);\n+\tstrupper_m(key);\n+}\n\nModified: branches/SAMBA_3_0/source/registry/reg_db.c\n===================================================================\n--- branches/SAMBA_3_0/source/registry/reg_db.c\t2007-06-15 12:23:14 UTC (rev 23506)\n+++ branches/SAMBA_3_0/source/registry/reg_db.c\t2007-06-15 15:51:45 UTC (rev 23507)\n@@ -697,13 +697,6 @@\n \treturn ret != -1 ;\n }\n \n-void normalize_dbkey(char *key)\n-{\n-\tsize_t len = strlen(key);\n-\tstring_sub(key, \"\\\\\", \"/\", len+1);\n-\tstrupper_m(key);\n-}\n-\n static WERROR regdb_get_secdesc(TALLOC_CTX *mem_ctx, const char *key,\n \t\t\t\tstruct security_descriptor **psecdesc)\n {\n\nModified: branches/SAMBA_3_0_26/source/lib/util_reg.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/lib/util_reg.c\t2007-06-15 12:23:14 UTC (rev 23506)\n+++ branches/SAMBA_3_0_26/source/lib/util_reg.c\t2007-06-15 15:51:45 UTC (rev 23507)\n@@ -110,3 +110,10 @@\n \n \treturn WERR_OK;\n }\n+\n+void normalize_dbkey(char *key)\n+{\n+\tsize_t len = strlen(key);\n+\tstring_sub(key, \"\\\\\", \"/\", len+1);\n+\tstrupper_m(key);\n+}\n\nModified: branches/SAMBA_3_0_26/source/registry/reg_db.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/registry/reg_db.c\t2007-06-15 12:23:14 UTC (rev 23506)\n+++ branches/SAMBA_3_0_26/source/registry/reg_db.c\t2007-06-15 15:51:45 UTC (rev 23507)\n@@ -697,13 +697,6 @@\n \treturn ret != -1 ;\n }\n \n-void normalize_dbkey(char *key)\n-{\n-\tsize_t len = strlen(key);\n-\tstring_sub(key, \"\\\\\", \"/\", len+1);\n-\tstrupper_m(key);\n-}\n-\n static WERROR regdb_get_secdesc(TALLOC_CTX *mem_ctx, const char *key,\n \t\t\t\tstruct security_descriptor **psecdesc)\n {\n\n"}