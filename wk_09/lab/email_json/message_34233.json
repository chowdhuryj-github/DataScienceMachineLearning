{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Yong Wang\" <wangyong1@gmail.com>", "subject": "[R] rewrite a data file use write.table(),\n\tcount.fields() show different pattern, any suggestion appreciated.", "body": "Dear all:\n\nI read in a tab delimited dataset, and then write it out as another\nfile as following: I did this simply to make sure I understand the\nbehavior of this command.\n\ndata<-read.table(file,header=F,sep=\"\\t\",fill=T,colClasses=\"character\");\nwrite.table(data,file=\"newdata.txt\",eol=\"\\n\",sep=\"\\t\",quote=F,row.names=F);\n\n\ncf1 <- count.fields(newdata.txt, sep=\"\\t\")\ntable(cf1)\n13   17       23\n10   126   5445\n\n# is different to\n\ncf2 <- count.fields(file,sep=\"\\t\")\n13   17       23        33\n10   106   5433      32\n\nthe worst problem is the maximal value of cf1 (33) is larger than the\nmaximal value of cf2 (23) which is the right number of fields for most\nrows in the original file.\n\nI need to use write.table for some important data manipulation work,\nyour suggestion is\nhighly appreciated.\n\nBest Regards\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}