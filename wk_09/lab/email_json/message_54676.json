{"category": "ham", "to_address": "Marc Schwartz <marc_schwartz@comcast.net>,\n   Prof Brian Ripley <ripley@stats.ox.ac.uk>", "from_address": "Gavin Simpson <gavin.simpson@ucl.ac.uk>", "subject": "Re: [R] Names of objects passed as ... to a function?", "body": "On Sat, 2007-06-23 at 16:52 +0100, Prof Brian Ripley wrote:\n> On Sat, 23 Jun 2007, Gavin Simpson wrote:\n> \n> > Dear list,\n> >\n> > I have a function whose first argument is '...'. Each element of '...'\n> > is a data frame, and there will be at least 2 data frames in '...'. The\n> > function processes each of the data frames in '...' and returns a list,\n> > whose components are the processed data frames. I would like to name the\n> > components of this returned list with the names of the original data\n> > frames.\n> >\n> > Normally I'd use deparse(substitute()) to do this, but here I do not\n> > know the appropriate argument to run deparse(substitute()) on, and doing\n> > this on ... only returns a single \"name\":\n> >\n> >> foo <- function(...)\n> > +                 deparse(substitute(...))\n> >> dat1 <- rnorm(10)\n> >> dat2 <- runif(10)\n> >> foo(dat1, dat2)\n> > [1] \"dat1\"\n> >\n> > Can anyone suggest to me a way to get the names of objects passed as\n> > the ... argument of a function?\n> \n> That's a little tricky.  The following may suffice:\n> \n> foo <- function(...)\n> {\n>    as.character(match.call())[-1]\n> }\n\nThanks Brian and Marc for this solution. I simplified my example too\nmuch, as in reality there are additional arguments after '...', but with\na minor change to the solution you provided I got it working.\n\n> \n> The problem is that under certain circumstances match.call can give names \n> like '..2'\n> \n> > bar <- function(...) foo(...)\n> > bar(dat1, dat2)\n> [1] \"..1\" \"..2\"\n> \n> and I don't know a comprehensive R-level solution to that.\n\nAre there any particular situations (other than the one you show) that\nyou are aware of when this might happen? I will put a Warning section in\nthe Rd page for my function explaining that it might not name the\ncomponents correctly, so any further examples of where this might not\nwork could be helpful in writing that.\n\nAll the best,\n\nG\n-- \n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\nGavin Simpson                     [t] +44 (0)20 7679 0522\nECRC                              [f] +44 (0)20 7679 0565\nUCL Department of Geography\nPearson Building                  [e] gavin.simpsonATNOSPAMucl.ac.uk\nGower Street\nLondon, UK                        [w] http://www.ucl.ac.uk/~ucfagls/\nWC1E 6BT                          [w] http://www.freshwaters.org.uk/\n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}