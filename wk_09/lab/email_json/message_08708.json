{"category": "ham", "to_address": "\"Felix Wave\" <felix-wave@vr-web.de>", "from_address": "\"jim holtman\" <jholtman@gmail.com>", "subject": "Re: [R] GREP - Choosing values between two borders", "body": "Another way you can do it, if the data has the pattern shown in your\nsample, it to select all the lines that start with a numeric:\n\n> input <- \"######## FILE-CONTENT ##############\n+ EXAM NUM:2\n+ -----------------\n+ EXAM #1\n+ ASTIG:-2.4D\n+ AXIS:4.8\n+ START OF HEIGHT DATA\n+  0 0.0 0.00000000\n+  0 0.1 0.00055643\n+  9 4.9 1.67278117\n+  9 5.0 1.74873257\n+ 10 0.0 0.00000000\n+ 10 0.1 0.00075557\n+ 99 5.3 1.94719490\n+ END OF HEIGHT DATA\n+ X POS:-0.299mm\n+ Y POS:0.442mm\n+ Z POS:-0.290mm\n+ -----------------\n+ EXAM #2\n+ ASTIG:-2.4D\n+ AXIS:4.8\n+ START OF HEIGHT DATA\n+  0 0.0 0.00000000\n+  0 0.1 0.00055643\n+  9 4.9 1.67278117\n+  9 5.0 1.74873257\n+ 10 0.0 0.00000000\n+ 10 0.1 0.00075557\n+ 99 5.3 1.94719490\n+ END OF HEIGHT DATA\n+ X POS:-0.299mm\n+ Y POS:0.442mm\n+ Z POS:-0.290mm\n+ \"\n> x <- readLines(textConnection(input))\n> x <- x[grep(\"^\\\\s*\\\\d\", x, perl=TRUE)]\n> x.in <- scan(textConnection(x), what=0)\nRead 42 items\n> x.in <- matrix(x.in, ncol=3, byrow=TRUE)\n> x.in\n      [,1] [,2]       [,3]\n [1,]    0  0.0 0.00000000\n [2,]    0  0.1 0.00055643\n [3,]    9  4.9 1.67278117\n [4,]    9  5.0 1.74873257\n [5,]   10  0.0 0.00000000\n [6,]   10  0.1 0.00075557\n [7,]   99  5.3 1.94719490\n [8,]    0  0.0 0.00000000\n [9,]    0  0.1 0.00055643\n[10,]    9  4.9 1.67278117\n[11,]    9  5.0 1.74873257\n[12,]   10  0.0 0.00000000\n[13,]   10  0.1 0.00075557\n[14,]   99  5.3 1.94719490\n>\n>\n\nOn 4/17/07, Felix Wave  wrote:\n> Hello,\n> I import datas from an file with: readLines\n> But I need only a part of all measurments of this file. These are between\n> two borders \"START\" and \"END\".\n>\n> Can you tell me the syntax of grep(), to choose values between two borders?\n>\n> My R Code was not succesful, and I can't finde anything in the help.\n>\n> Thank's a lot.\n>\n> Felix\n>\n>\n>\n>\n> ######### R-CODE ###################\n>  file    <- \"file-content\"\n>  Measure <- grep(\"[START-END]\",file)\n> #Measure <- grep(\"[START|END]\",file)\n>\n>\n>\n> ######## FILE-CONTENT ##############\n> EXAM NUM:2\n> -----------------\n> EXAM #1\n> ASTIG:-2.4D\n> AXIS:4.8\n> START OF HEIGHT DATA\n>  0 0.0 0.00000000\n>  0 0.1 0.00055643\n>  9 4.9 1.67278117\n>  9 5.0 1.74873257\n> 10 0.0 0.00000000\n> 10 0.1 0.00075557\n> 99 5.3 1.94719490\n> END OF HEIGHT DATA\n> X POS:-0.299mm\n> Y POS:0.442mm\n> Z POS:-0.290mm\n> -----------------\n> EXAM #2\n> ASTIG:-2.4D\n> AXIS:4.8\n> START OF HEIGHT DATA\n>  0 0.0 0.00000000\n>  0 0.1 0.00055643\n>  9 4.9 1.67278117\n>  9 5.0 1.74873257\n> 10 0.0 0.00000000\n> 10 0.1 0.00075557\n> 99 5.3 1.94719490\n> END OF HEIGHT DATA\n> X POS:-0.299mm\n> Y POS:0.442mm\n> Z POS:-0.290mm\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n\n-- \nJim Holtman\nCincinnati, OH\n+1 513 646 9390\n\nWhat is the problem you are trying to solve?\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}