{"category": "ham", "to_address": "hadley wickham <h.wickham@gmail.com>", "from_address": "Peter Dalgaard <p.dalgaard@biostat.ku.dk>", "subject": "Re: [R] intersect more than two sets", "body": "hadley wickham wrote:\n> On 4/24/07, Weiwei Shi  wrote:\n>   \n>> assume t2 is a list of size 11 and each element is a vector of characters.\n>>\n>> the following codes can get what I wanted but I assume there might be\n>> a one-line code for that:\n>>\n>> t3 <- t2[[1]]\n>> for ( i in 2:11){\n>>         t3 <- intersect(t2[[i]], t3)\n>> }\n>>\n>> or there is no such \"apply\"?\n>>     \n>\n> The operation you want is called a fold\n> (http://en.wikipedia.org/wiki/Fold_%28higher-order_function%29), and\n> if it was available in R, you'd be able to do:\n>\n> fold(t2, intersect)\n>\n> Unfortunately, it's not, but you could implement it as follows:\n>\n> fold <- function(x, fun) {\n> \tif (length(x) == 1) return(fun(x))\n> \t\n> \taccumulator <- fun(x[[1]], x[[2]])\n> \tif (length(x) == 2) return(accumulator)\n>\n> \tfor(i in 3:length(x)) {\n> \t\taccumulator <- fun(accumulator, x[[i]])\n> \t}\n> \taccumulator\n> }\n>\n> a <- list(c(1,3,5), c(1,3), c(1, 2, 5, 6))\n> fold(a, intersect)\n>\n>   \n\nIt's come up before. Gabor G posted this rather more succinct version:\n\n > Fold <- function(f, x, L) (for(e in L) x <- f(x, e))\n > Fold(intersect,a[[1]],a[-1])\n[1] 1\n\nor maybe prettier:\n\n > (E <- Fold(union, NULL, a))\n[1] 1 3 5 2 6\n > Fold(intersect, E, a)\n[1] 1\n\n\n> Which is just a trivial generalisation of your code above\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}