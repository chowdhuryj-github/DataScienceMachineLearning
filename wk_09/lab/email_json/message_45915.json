{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "xiao-jun ma <gmaxma@gmail.com>", "subject": "[R] Question on weighted Kaplan-Meier analysis of case-cohort design", "body": "I have a study best described as a retrospective case-cohort design:  \nthe cases were all the events in a given time span surveyed, and the  \ncontrols (event-free during the follow-up period) were selected in  \n2:1 ratio (2 controls per case).  The sampling frequency for the  \ncontrols was about 0.27, so I used a weight vector consisting of 1  \nfor cases and 1/0.27 for controls for coxph to adjust for sampling  \nbias. Using the same weights in Kaplan-Meier analysis (survfit) gave  \nvery inaccurate survival curves (much lower event rate than expected  \nfrom population). Are weighting handled differently between coxph and  \nsurvfit? How should I conduct a weighted Kaplan-Meier analysis (given  \nthat survfit doesn't accept a weighted cox model) for such a design?\n\nAny explanations or suggestions are highly appreciated,\n\nxiaojun\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}