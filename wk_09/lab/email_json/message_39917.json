{"category": "ham", "to_address": "ripley@stats.ox.ac.uk", "from_address": "\"Talbot Katz\" <topkatz@msn.com>", "subject": "Re: [R] Restoring .Random.seed", "body": "Thanks!  The \"get / assign\" combination does just what I want, and the \nwarning about the pre-existence of .Random.seed was very helpful.  As for \nset.seed, I have used it to create a replicable state (in fact, I have an \noption to use it in the function I was writing that prompted my query), but \nI didn't see any indication that it could be used to restore a state for \nwhich you don't necessarily know the seed.\n\nI got a couple of good offlist responses, too.  One person told me about the \n\"<<-\" assignment operator (with an admonishment to use it judiciously).  \nAnother responder mentioned the setRNG package, which has a specific \nmethodology for saving the random number generator state.\n\n--  TMK  --\n212-460-5430\thome\n917-656-5351\tcell\n\n\n\n>From: Prof Brian Ripley \n>To: Talbot Katz \n>CC: r-help@stat.math.ethz.ch\n>Subject: Re: [R] Restoring .Random.seed\n>Date: Thu, 31 May 2007 20:57:09 +0100 (BST)\n>\n>On Thu, 31 May 2007, Talbot Katz wrote:\n>\n>>Hi.\n>>\n>>Suppose I have a function which does some random number generation within.\n>>The random number generation inside the function changes the value of\n>>.Random.seed in the calling environment.  If I want to restore the\n>                ^^^^^^^^^^^^^^^^^^^^^^^^^^\n>That is your misunderstanding.  From the help page\n>\n>      The object '.Random.seed' is only looked for in the user's\n>      workspace.\n>\n>which seems plain enough.  So, you can do\n>\n>save.seed <- get(\".Random.seed\", .GlobalEnv)\n>assign(\".Randon.seed\", save.seed, .GlobalEnv)\n>\n>to save and restore, *provided* that random numbers have been used in the \n>session (or .Random.seed will not exist).\n>\n>However, the help recommends using set.seed(), and why not follow the \n>advice?\n>\n>>pre-function call .Random.seed, I can do:\n>>\n>>save.seed<-.Random.seed\n>>result<-myfunction()\n>>.Random.seed<-save.seed\n>>\n>>Is there a way to do the restoration inside the function?  I tried putting\n>>the \"save.seed<-.Random.seed\" and \".Random.seed<-save.seed\" statements\n>>inside the function, but that didn't work.\n>\n>As documented on the help page.\n>\n>[...]\n>\n>--\n>Brian D. Ripley,                  ripley@stats.ox.ac.uk\n>Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\n>University of Oxford,             Tel:  +44 1865 272861 (self)\n>1 South Parks Road,                     +44 1865 272866 (PA)\n>Oxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}