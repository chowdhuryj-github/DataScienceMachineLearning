{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 357: added code to ctdb to send a tcp 'tickle' ack when we\n\ttakeover an in http://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 357\nrevision-id: tridge@samba.org-20070527052629-21sso5vacuoyij16\nparent: tridge@samba.org-20070527033936-fhaceqmyqu4hrr6r\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Sun 2007-05-27 15:26:29 +1000\nmessage:\n  added code to ctdb to send a tcp 'tickle' ack when we takeover an\n  IP. A raw tcp ack is sent for each tcp connection held by clients\n  before the IP takeover.\n  \n  These acks have a deliberately incorrect sequence number, and should\n  cause the windows client to send its own ack which will in turn cause\n  a tcp reset and thus cause windows clients to much more quickly\n  reconnect to the new node.\nmodified:\n  common/ctdb_control.c          ctdb_control.c-20070426122724-j6gkpiofhbwdin63-1\n  common/ctdb_daemon.c           ctdb_daemon.c-20070409200331-3el1kqgdb9m4ib0g-1\n  include/ctdb_private.h         ctdb_private.h-20061117234101-o3qt14umlg9en8z0-13\n  takeover/ctdb_takeover.c       ctdb_takeover.c-20070525071636-a5n1ihghjtppy08r-2\n  takeover/system.c              system.c-20070525071636-a5n1ihghjtppy08r-3\n\nDiff too large for email (365, the limit is 200).\n\n"}