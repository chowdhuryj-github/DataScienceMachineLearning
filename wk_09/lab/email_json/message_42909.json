{"category": "ham", "to_address": "James Keenan via RT <parrotbug-followup@parrotcode.org>", "from_address": "Andy Spieherty <spiehera@lafayette.edu>", "subject": "Re: [perl #41168] graceful \"no compiler\" error message? ", "body": "On Mon, 4 Jun 2007, James Keenan via RT wrote:\n\n> On Fri Jun 01 09:29:18 2007, chromatic  at wgz.org wrote:\n> > This patch is very close.  Instead of handling compilation manually, I\n> > recommend instead using cc_gen() and cc_build() from\n> > Parrot::Configure::Step.\n> > See config/auto/sizes.pm for an example.\n\n> Can you explain why using these functions would be the better course?  In particular, how \n> would this approach square with the criticism Andy Spieherty made earlier in this thread on \n> March 21:\n> \n> > + unless ( eval { cc_build(); 1 } ) {\n> > + warn \"Compilation failed with '$cc'\\n\";\n> > + exit 1;\n> > + }\n> \n> > This has two problems. First, it ignores the return value of cc_build(). \n> > That's understandable at the moment since cc_build doesn't seem to have a \n> > documented return value. It should, of course.\n\nI agree with chromatic -- I'd simply add that the cc_build() function \nshould be improved to have a meaningful return value, not that it should \nbe avoided.\n\n-- \n    Andy Spieherty\t\tspiehera@lafayette.edu\n\n"}