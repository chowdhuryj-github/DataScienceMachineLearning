{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jpeach@samba.org", "subject": "svn commit: samba r23423 - in branches: SAMBA_3_0/source/modules\n\tSAMBA_3_0_25/source/modules SAMBA_3_0_26/source/modules", "body": "Author: jpeach\nDate: 2007-06-11 20:56:17 +0000 (Mon, 11 Jun 2007)\nNew Revision: 23423\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23423\n\nLog:\nUse the correct structure types in the NT_ACL operations. It's not\nclear to my why the catia module feels it's necessary to implement\nthese operations, but at least they're now the right type.\n\nModified:\n   branches/SAMBA_3_0/source/modules/vfs_catia.c\n   branches/SAMBA_3_0_25/source/modules/vfs_catia.c\n   branches/SAMBA_3_0_26/source/modules/vfs_catia.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/modules/vfs_catia.c\n===================================================================\n--- branches/SAMBA_3_0/source/modules/vfs_catia.c\t2007-06-11 15:49:57 UTC (rev 23422)\n+++ branches/SAMBA_3_0/source/modules/vfs_catia.c\t2007-06-11 20:56:17 UTC (rev 23423)\n@@ -232,7 +232,7 @@\n \n static size_t catia_get_nt_acl(vfs_handle_struct *handle, files_struct *fsp,\n \t\t\t       const char *name, uint32 security_info,\n-\t\t\t       struct  security_descriptor **ppdesc)\n+\t\t\t       struct  security_descriptor_info **ppdesc)\n {\n         return SMB_VFS_NEXT_GET_NT_ACL(handle, fsp, name, security_info,\n \t\t\t\t       ppdesc);\n@@ -240,7 +240,7 @@\n \n static BOOL catia_set_nt_acl(vfs_handle_struct *handle, files_struct *fsp, \n \t\t\t     const char *name, uint32 security_info_sent,\n-\t\t\t     struct security_descriptor *psd)\n+\t\t\t     struct security_descriptor_info *psd)\n {\n         return SMB_VFS_NEXT_SET_NT_ACL(handle, fsp, name, security_info_sent,\n \t\t\t\t       psd);\n\nModified: branches/SAMBA_3_0_25/source/modules/vfs_catia.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/modules/vfs_catia.c\t2007-06-11 15:49:57 UTC (rev 23422)\n+++ branches/SAMBA_3_0_25/source/modules/vfs_catia.c\t2007-06-11 20:56:17 UTC (rev 23423)\n@@ -222,7 +222,7 @@\n \n static size_t catia_get_nt_acl(vfs_handle_struct *handle, files_struct *fsp,\n \t\t\t       const char *name, uint32 security_info,\n-\t\t\t       struct  security_descriptor **ppdesc)\n+\t\t\t       struct  security_descriptor_info **ppdesc)\n {\n         return SMB_VFS_NEXT_GET_NT_ACL(handle, fsp, name, security_info,\n \t\t\t\t       ppdesc);\n@@ -230,7 +230,7 @@\n \n static BOOL catia_set_nt_acl(vfs_handle_struct *handle, files_struct *fsp, \n \t\t\t     const char *name, uint32 security_info_sent,\n-\t\t\t     struct security_descriptor *psd)\n+\t\t\t     struct security_descriptor_info *psd)\n {\n         return SMB_VFS_NEXT_SET_NT_ACL(handle, fsp, name, security_info_sent,\n \t\t\t\t       psd);\n\nModified: branches/SAMBA_3_0_26/source/modules/vfs_catia.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/modules/vfs_catia.c\t2007-06-11 15:49:57 UTC (rev 23422)\n+++ branches/SAMBA_3_0_26/source/modules/vfs_catia.c\t2007-06-11 20:56:17 UTC (rev 23423)\n@@ -232,7 +232,7 @@\n \n static size_t catia_get_nt_acl(vfs_handle_struct *handle, files_struct *fsp,\n \t\t\t       const char *name, uint32 security_info,\n-\t\t\t       struct  security_descriptor **ppdesc)\n+\t\t\t       struct  security_descriptor_info **ppdesc)\n {\n         return SMB_VFS_NEXT_GET_NT_ACL(handle, fsp, name, security_info,\n \t\t\t\t       ppdesc);\n@@ -240,7 +240,7 @@\n \n static BOOL catia_set_nt_acl(vfs_handle_struct *handle, files_struct *fsp, \n \t\t\t     const char *name, uint32 security_info_sent,\n-\t\t\t     struct security_descriptor *psd)\n+\t\t\t     struct security_descriptor_info *psd)\n {\n         return SMB_VFS_NEXT_SET_NT_ACL(handle, fsp, name, security_info_sent,\n \t\t\t\t       psd);\n\n"}