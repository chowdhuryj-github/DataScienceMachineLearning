{"category": "ham", "to_address": "gavin.simpson@ucl.ac.uk", "from_address": "\"David L. Van Brunt, Ph.D.\" <dlvanbrunt@gmail.com>", "subject": "Re: [R] randomForest gives different results for formula call v. x,\n\ty methods. Why?", "body": "In the words of Simpson (2007), \"D'OH!\"\n\nI knew it had to be something simple!\n\nOn 4/29/07, Gavin Simpson  wrote:\n>\n> On Sat, 2007-04-28 at 21:13 -0400, David L. Van Brunt, Ph.D. wrote:\n> > Just out of curiosity, I took the default \"iris\" example in the RF\n> > helpfile...\n> > but seeing the admonition against using the formula interface for large\n> data\n> > sets, I wanted to play around a bit to see how the various options\n> affected\n> > the output. Found something interesting I couldn't find documentation\n> for...\n> >\n> > Just like the example...\n> > > set.seed(12) # to be sure I have reproducibility\n>\n> No differences between runs for me on FC4 using R 2.4.1 and 2.5.0 with:\n>\n> > require(randomForest)\n> Loading required package: randomForest\n> randomForest 4.5-18\n>\n> *if* I reset the seed before each call to randomForest.\n>\n> Your example code doesn't seem to be resetting the random seed before\n> each run. As such, each run is using a different set of random variables\n> at each bootstrap sample.\n>\n> E.g. runs all same with reset seed:\n>\n> > set.seed(12)\n> > randomForest(Species ~ ., data=iris)\n>\n> Call:\n> randomForest(formula = Species ~ ., data = iris)\n>                Type of random forest: classification\n>                      Number of trees: 500\n> No. of variables tried at each split: 2\n>\n>         OOB estimate of  error rate: 4%\n> Confusion matrix:\n>            setosa versicolor virginica class.error\n> setosa         50          0         0        0.00\n> versicolor      0         47         3        0.06\n> virginica       0          3        47        0.06\n> > set.seed(12)\n> > randomForest(x=iris[,1:4],y=iris[,5])\n>\n> Call:\n> randomForest(x = iris[, 1:4], y = iris[, 5])\n>                Type of random forest: classification\n>                      Number of trees: 500\n> No. of variables tried at each split: 2\n>\n>         OOB estimate of  error rate: 4%\n> Confusion matrix:\n>            setosa versicolor virginica class.error\n> setosa         50          0         0        0.00\n> versicolor      0         47         3        0.06\n> virginica       0          3        47        0.06\n> > set.seed(12)\n> > randomForest(x=iris[,c(1:4)],y=iris[,5])\n>\n> Call:\n> randomForest(x = iris[, c(1:4)], y = iris[, 5])\n>                Type of random forest: classification\n>                      Number of trees: 500\n> No. of variables tried at each split: 2\n>\n>         OOB estimate of  error rate: 4%\n> Confusion matrix:\n>            setosa versicolor virginica class.error\n> setosa         50          0         0        0.00\n> versicolor      0         47         3        0.06\n> virginica       0          3        47        0.06\n> > set.seed(12)\n> > randomForest(x=iris[,c(1,2,3,4)],y=iris[,5])\n>\n> Call:\n> randomForest(x = iris[, c(1, 2, 3, 4)], y = iris[, 5])\n>                Type of random forest: classification\n>                      Number of trees: 500\n> No. of variables tried at each split: 2\n>\n>         OOB estimate of  error rate: 4%\n> Confusion matrix:\n>            setosa versicolor virginica class.error\n> setosa         50          0         0        0.00\n> versicolor      0         47         3        0.06\n> virginica       0          3        47        0.06\n>\n> HTH\n>\n> G\n> --\n> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n> Gavin Simpson                     [t] +44 (0)20 7679 0522\n> ECRC                              [f] +44 (0)20 7679 0565\n> UCL Department of Geography\n> Pearson Building                  [e] gavin.simpsonATNOSPAMucl.ac.uk\n> Gower Street\n> London, UK                        [w] http://www.ucl.ac.uk/~ucfagls/\n> WC1E 6BT                          [w] http://www.freshwaters.org.uk/\n> %~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n>\n>\n\n\n-- \n---------------------------------------\nDavid L. Van Brunt, Ph.D.\nmailto:dlvanbrunt@gmail.com\n\n\"If Tyranny and Oppression come to this land, it will be in the guise of\nfighting a foreign enemy.\"\n--James Madison\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}