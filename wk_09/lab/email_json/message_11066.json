{"category": "ham", "to_address": "chromatic via RT <parrotbug-followup@parrotcode.org>", "from_address": "Andy Spieherty <spiehera@lafayette.edu>", "subject": "Re: [perl #42619] t/stm/llqueue_2.pir sometimes hangs", "body": "On Thu, 19 Apr 2007, chromatic via RT wrote:\n\n> On Thursday 19 April 2007 11:35, Andy Spieherty wrote:\n> \n> > While trying to run 'make test' today, t/stm/llqueue_2.pir hung and had\n> > to be killed manually.  Trying it again, I got an out-of-memory error\n> \n> > The hanging behavior appears to be intermittent.  I haven't been able\n> > to identify conditions under which it reliably occurs.  I realize this\n> > is a TODO test, but it shouldn't hang.  Perhaps it should just be skipped.\n> \n> Probably so.  I have an idea what it is, but I haven't quite fixed it yet.\n> \n> Does the attached patch make the test pass, or at least not take up so much \n> memory?\n\n[ turning on gc]\n\nAlas, no.  Today I couldn't get stm/llqueue_2.pir to hang.  It just exited \nwith a \"PANIC:  Out of mem\" error with or without your suggested patch.  \nI have no idea what that means.  And if I can't pin it down any better \nthan that, I don't exepct there's much you can do, unless it's failing for \nyou too.\n\n> Does it help with RT #42617 too?\n\nUnfortunately not.  It made no difference.  That one still just hangs \nunless, of course, you run it in under the debugger, in which case it \ncompletes just fine.  Naturally.  Sigh.\n\n-- \n    Andy Spieherty\t\tspiehera@lafayette.edu\n\n"}