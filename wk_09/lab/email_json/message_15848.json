{"category": "ham", "to_address": "\"hadley wickham\" <h.wickham@gmail.com>,\n   \"Deepayan Sarkar\" <deepayan.sarkar@gmail.com>", "from_address": "\"Waichler, Scott R\" <Scott.Waichler@pnl.gov>", "subject": "Re: [R] levelplot and unequal cell sizes", "body": "Hadley and Deepayan,\n\nThank you for responding.  Here is a simple example of what I'm talking\nabout.  It is a grid that is 5 cells wide by 2 cells tall.  The width of\nthe cells in the x-direction is variable; the cells at either end have\nwidth = 4 units, and the three cells in the middle have width = 2 units.\nMy objective is to have the color contour boundaries fall on the cell\nboundaries instead of equidistant between cell nodes.  In the plot, I\nwant the cyan/blue and orange/gray boundaries to be located at the red\ncell boundary lines.  Also, the colored regions should extend to the\nends of the domain (x = 0, 14).\n\n\nlibrary(lattice)\n\nx.node <- rep(c(2, 5, 7, 9, 12), 2)\ny.node <- c(rep(0.5, 5), rep(1.5, 5))\nz <- rep(1:5, 2)\ncontour.levels <- seq(0.5, 5.5, by=1)\nx.cell.boundary <- c(0, 4, 6, 8, 10, 14)\ncontour.colors <- c(\"cyan\", \"blue\", \"green\", \"orange\", \"gray\")\n  \nprint(\n  levelplot(z ~ x.node * y.node,\n     panel = function(z,...) {\n        panel.levelplot(z,...)\n        panel.abline(v = x.cell.boundary, col=\"red\")\n     },\n     xlim = range(x.cell.boundary),\n     at=contour.levels,        \n     colorkey = list(space=\"top\", width=1, height=0.9,\n                     at=1:5,\n                     col=contour.colors, \n                     labels=list(labels=z, at=z)\n                    ), \n     col.regions=contour.colors,\n     region = T,\n     contour = F\n  )\n)\n\nAny help you can offer is appreciated.\n\nThanks,\nScott Waichler\nPacific Northwest National Laboratory\nscott.waichler _at_ pnl.gov\nhttp://hydrology.pnl.gov\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}