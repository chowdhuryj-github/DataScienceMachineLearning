{"category": "ham", "to_address": "Herb Lewis <hlewis@panasas.com>", "from_address": "Jeremy Allison <jra@samba.org>", "subject": "Re: comment doesn't match code", "body": "On Fri, May 25, 2007 at 12:31:30PM -0700, Herb Lewis wrote:\n> Didn't look at the implementation :-)\n> \n> So that also makes the\n> \n> if(ret_flock == -1 ){\n> \n> code that will never get executed.\n> Might be better to just leave the comment here and just\n> \n> (void)SMB_VFS_KERNEL_FLOCK(fsp, fsp->fh->fd, share_access);\n> \n> and remove the error check code\n\nI'd prefer to move the comment to the implementation\nin the vfs_module, and leave the check in the mainline\ncode. At some point we might get a good kernel implementation\nand start to care....\n\n"}