{"category": "ham", "to_address": "\"Chris Stubben\" <stubben@lanl.gov>", "from_address": "Waverley <waverley.paloalto@gmail.com>", "subject": "Re: [R] Question: RMySQL bulk load/update one column,\n\tdbWriteTable()?", "body": "Thanks Chris.  I am trying almost the same solution while I have failed the\ndbWriteTable.\n\nThe problem of using update is that it is way TOO slow when the row size is\n~200000.\n\nThat is why I hope I can still get dbWriteTable way to add one column.\ndbWriteTable is very efficient and fast.  The problem of dbWriteTable, so\nfar I know and so far I have read, is that you have to load one data frame\nwhich covers all the columns of one table.  Now I want to do is bulky load\none column in stead of ALL columns.  Supposedly underneath dbWriteTable is\n\"load data infile\", which according to my reading should allow you to load\ndata infile to one table column.\n\ncan someone help?\n\nThanks.\n\n\nOn 6/6/07, Chris Stubben  wrote:\n>\n>\n> > I have a question reading using RMySQL trying to load one R vector into\n> a\n> > table column.  To be more specifically, the table is there\n> populated.  Now I\n> > add a new column and want to populate this.\n> >\n>\n>\n> Okay, this is more of an SQL question now, but you could just use\n> dbWriteTable\n> and then do an multi-table update.\n>\n>\n>\n> dbGetQuery(con, \"select * from tmp\")\n>\n> id name\n> 1  1    A\n> 2  2    B\n> 3  3    C\n> 4  4    D\n> 5  5    E\n>\n>\n> dbSendQuery(con, \"alter table tmp add column r2 float\")\n>\n> ## calculate some statistic for all or some ids in table\n>\n>\n> x<-dataframe(id=1:5, r2=c(.1, .4, .9, .4,.7))\n>\n>\n> dbWriteTable(con, \"r2tmp\",  x )\n>\n>\n> dbSendQuery(con, \"update tmp t, r2tmp r set t.r2=r.r2 where t.id=r.id\")\n>\n>\n> dbGetQuery(con, \"select * from tmp\")\n>\n> id name  r2\n> 1  1    A 0.1\n> 2  2    B 0.4\n> 3  3    C 0.9\n> 4  4    D 0.4\n> 5  5    E 0.7\n>\n>\n> Chris\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n\n\n-- \nWaverley @ Palo Alto\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}