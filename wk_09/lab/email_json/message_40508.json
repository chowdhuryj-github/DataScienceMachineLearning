{"category": "ham", "to_address": "beginners@perl.org", "from_address": "\"Ben Edwards\" <funkytwig@gmail.com>", "subject": "Matching of filename regular expression (was:pr warn die question)", "body": "Thanks everybody for there help, did a little more dinging and came up with:-\n\n    eval {\n      $ftp = Net::FTP->new( $remote_host ) or die \"faild to connect to\n$remote_host\";\n      $ftp->login( $remote_user, $remote_password ) or die \"failed to\nlogin $remote_user\";\n      $ftp->cwd( $remote_dir ) or die \"fail to cwd to $remote_dir\";\n      my @f = $ftp->ls or die \"failed to ls $remote_dir\";\n      foreach $file ( @f ) {\n        if ( $file =~ /$flist/ ) {\n          print LOGFILE \"        Getting $file\";\n          $ftp->get( $file, $local_dir  ) or die \"failed to get $file\";\n        } else {\n          print LOGFILE \"        Skipping $file\";\n        }\n      }\n      $ftp->quit;\n    };\n\n    if ($@) {\n      print LOGFILE \"Error:$@\\n\";\n      return(1);\n    }\n\nWitch almost works.  The problem is:-\n\nif ( $file =~ /$flist/ ) {\n\nWhich gived the error:-\n\nError:Quantifier follows nothing in regex; marked by <-- HERE in m/*\n<-- HERE .csv/ at ./subs2pubsub_cron.pl line 786.\n\nThe variable $flist has something like '*.cvs' in it which I guess is\nalmost but not quite a regular expresion.\n\nAny idea how I can find out if $file matches the filename 'mask'\n$flist.  Alternatively is there a way of doing a ls and specifying a\nfile mask?\n\nBen\n-- \nBen Edwards - Bristol, UK\nIf you have a problem emailing me use\nhttp://www.gurtlush.org.uk/profiles.php?uid=4\n(email address this email is sent from may be defunct)\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}