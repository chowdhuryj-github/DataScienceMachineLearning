{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "obnox@samba.org", "subject": "svn commit: samba r22496 - in branches/SAMBA_3_0/source/registry: .", "body": "Author: obnox\nDate: 2007-04-24 00:12:28 +0000 (Tue, 24 Apr 2007)\nNew Revision: 22496\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22496\n\nLog:\nreg_enumvalue should return WERR_NO_MORE_ITEMS instead of\nWERR_BAD_FILE when all items have been successfully enumerated. \nBesides seeming the reasonable code to return,\nthis is what I have seen from w2k3, w2k, wxp.\n\n\nModified:\n   branches/SAMBA_3_0/source/registry/reg_api.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/registry/reg_api.c\n===================================================================\n--- branches/SAMBA_3_0/source/registry/reg_api.c\t2007-04-23 22:17:06 UTC (rev 22495)\n+++ branches/SAMBA_3_0/source/registry/reg_api.c\t2007-04-24 00:12:28 UTC (rev 22496)\n@@ -168,7 +168,7 @@\n \t}\n \n \tif (idx >= key->values->num_values) {\n-\t\treturn WERR_BADFILE;\n+\t\treturn WERR_NO_MORE_ITEMS;\n \t}\n \n \terr = registry_pull_value(mem_ctx, &val,\n\n"}