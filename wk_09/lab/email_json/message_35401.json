{"category": "ham", "to_address": "sugar@laptop.org", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "[sugar] [PATCH] services/presence/presenceservice: Make\n\tbytes_to_string() unnecessary by requesting a ByteArray from\n\tdbus-python", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\n- ---\n services/presence/presenceservice.py |    5 +++--\n 1 files changed, 3 insertions(+), 2 deletions(-)\n\ndiff --git a/services/presence/presenceservice.py b/services/presence/presenceservice.py\nindex 0c8a2a5..a439372 100644\n- --- a/services/presence/presenceservice.py\n+++ b/services/presence/presenceservice.py\n@@ -303,9 +303,10 @@ class PresenceService(ExportedGObject):\n                 ret.append(buddy.object_path())\n         return ret\n \n- -    @dbus.service.method(_PRESENCE_INTERFACE, in_signature=\"ay\", out_signature=\"o\")\n+    @dbus.service.method(_PRESENCE_INTERFACE,\n+                         in_signature=\"ay\", out_signature=\"o\",\n+                         byte_arrays=True)\n     def GetBuddyByPublicKey(self, key):\n- -        key = psutils.bytes_to_string(key)\n         if self._buddies.has_key(key):\n             buddy = self._buddies[key]\n             if buddy.props.valid:\n- -- \n1.5.2-rc3.GIT\n\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGVXueWSc8zVUw7HYRAuNiAKDcizeX8ubVytd43AX0ZI0fX6QjCACgoJBy\nRWUdbbtmdXzb+9+3kstw8mo=\n=V7N0\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}