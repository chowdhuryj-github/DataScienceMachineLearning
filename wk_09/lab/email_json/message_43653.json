{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] sampling problem - new to R", "body": "A variation of Brian's idea of using resample in ?sample would be:\n\n   set.seed(1) # makes sample reproducible\n   aggregate(DF[1], DF[2], resample, size = 1)\n\nUsing resample ensures that the solution works even if some\nof the Plots only have one Tree.  Some of the solutions\nthat were presented in this thread do not work properly in that case\nas sample acts differently according to whether its first argument's\nlength is 1 or > 1.\n\nOn 6/6/07, Prof Brian Ripley  wrote:\n> On Tue, 5 Jun 2007, baldeck wrote:\n>\n> > I have a data set of individual trees and the plots that they are in:\n> >\n> > Tree      Plot\n> > 56749    1\n> > 63494    1\n> > 87375    1\n> > 37494    2\n> > 92753    3\n> > 34847    3\n> > 38747    4 etc...\n>\n> You haven't told us what form the 'data set' is, but I will presume a data\n> frame called DF.\n>\n> The obvious first step is to split by Plot.  Using 'resample' from ?sample\n>\n> sapply(with(DF, split(Tree, Plot)), resample, size=1)\n>\n> give a vector of trees ('individuals'?) with names the plots sampled from.\n> That seems to be what you want, but if not please come back to us with a\n> more extensive example including the desired output.\n>\n>\n> > So each plot is represented once for every individual that occurrs in it.\n> > Plots get different numbers of rows because there can be a different number\n> > of individuals in each plot.\n> >\n> > I want to make a data frame that consists of one individual from each plot.\n> > I would like to randomly choose one individual from each plot that is\n> > present in the data set.  I will have to do this to multiple data sets which\n> > may contain different plots, and may contain up to 1200 plots, so I can't\n> > choose the plots by hand.\n> >\n> > Please help me with this.  I'm an ecologist and I'm in Panama, with no one\n> > around who is educated in R.  Whoever solves this problem for me will be\n> > acknowledged in any resulting publications.\n> >\n> > Thanks!\n> > -Claire\n> >\n>\n> --\n> Brian D. Ripley,                  ripley@stats.ox.ac.uk\n> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\n> University of Oxford,             Tel:  +44 1865 272861 (self)\n> 1 South Parks Road,                     +44 1865 272866 (PA)\n> Oxford OX1 3TG, UK                Fax:  +44 1865 272595\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}