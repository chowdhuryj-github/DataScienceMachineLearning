{"category": "ham", "to_address": "Jeremy Allison <jra@samba.org>", "from_address": "\"Gerald (Jerry) Carter\" <jerry@samba.org>", "subject": "Re: svn commit: samba r23290 - in\n branches:\tSAMBA_3_0/source/nsswitch SAMBA_3_0_26/source/nsswitch", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nJeremy Allison wrote:\n\n> Personally I think it's just a style thing. \n> \n> I am wary of the \"any pointer is a talloc\n> pointer\" idiom as it's easy to screw up\n> when you have a mixture of malloc and\n> talloc pointers. So I tend to explicitly\n> use the top-level context to remind me.\n\nJeremy,\n\nIt's is better IMO to use the correct context pointer\nso that in this case you can free the array\nwitout worrying about it the mem_ctx point is freed\nI think Michael's original code is correct.\nFor example, this is how the struct samu* stuff\nis done.\n\nThe moral of the story is \"Don't mix malloc and\ntalloc\".\n\n\n\n\n\ncheers, jerry\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.4 (MingW32)\nComment: Using GnuPG with Mozilla - http://enigmail.mozdev.org\n\niD8DBQFGYN3FIR7qMdg1EfYRAvkmAJ4yx931wCFC2Kg1cZE5GSnIvM1WJQCfQS8Q\n6DKWGKylR2jt0NjBDxT0idQ=\n=jr70\n-----END PGP SIGNATURE-----\n\n"}