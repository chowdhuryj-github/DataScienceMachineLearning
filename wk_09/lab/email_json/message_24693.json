{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r22744 - in branches: SAMBA_3_0/source/nsswitch\n\tSAMBA_3_0_25/source/nsswitch SAMBA_3_0_26/source/nsswitch", "body": "Author: vlendec\nDate: 2007-05-07 13:39:25 +0000 (Mon, 07 May 2007)\nNew Revision: 22744\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22744\n\nLog:\nFix a valgrind error. parse_domain_username does not necessarily fill in\nthe domain.\n\n\nModified:\n   branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\n   branches/SAMBA_3_0_25/source/nsswitch/winbindd_group.c\n   branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\n===================================================================\n--- branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\t2007-05-07 13:32:34 UTC (rev 22743)\n+++ branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\t2007-05-07 13:39:25 UTC (rev 22744)\n@@ -494,6 +494,9 @@\n \tmemset(name_group, 0, sizeof(fstring));\n \n \ttmp = state->request.data.groupname;\n+\n+\tname_domain[0] = '\\0';\n+\tname_group[0] = '\\0';\n \t\n \tparse_domain_user(tmp, name_domain, name_group);\n \n\nModified: branches/SAMBA_3_0_25/source/nsswitch/winbindd_group.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/nsswitch/winbindd_group.c\t2007-05-07 13:32:34 UTC (rev 22743)\n+++ branches/SAMBA_3_0_25/source/nsswitch/winbindd_group.c\t2007-05-07 13:39:25 UTC (rev 22744)\n@@ -479,6 +479,9 @@\n \tmemset(name_group, 0, sizeof(fstring));\n \n \ttmp = state->request.data.groupname;\n+\n+\tname_domain[0] = '\\0';\n+\tname_group[0] = '\\0';\n \t\n \tparse_domain_user(tmp, name_domain, name_group);\n \n\nModified: branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\t2007-05-07 13:32:34 UTC (rev 22743)\n+++ branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\t2007-05-07 13:39:25 UTC (rev 22744)\n@@ -494,6 +494,9 @@\n \tmemset(name_group, 0, sizeof(fstring));\n \n \ttmp = state->request.data.groupname;\n+\n+\tname_domain[0] = '\\0';\n+\tname_group[0] = '\\0';\n \t\n \tparse_domain_user(tmp, name_domain, name_group);\n \n\n"}