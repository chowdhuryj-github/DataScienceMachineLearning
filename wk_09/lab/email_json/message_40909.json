{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r23304 - in\n\tbranches/SAMBA_3_0_26/source/lib/replace: .", "body": "Author: metze\nDate: 2007-06-02 08:13:54 +0000 (Sat, 02 Jun 2007)\nNew Revision: 23304\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23304\n\nLog:\nmerge from samba4:\n\nfix large file support on HP-UX 11.00 and 11.11\n\nmetze\nModified:\n   branches/SAMBA_3_0_26/source/lib/replace/libreplace_cc.m4\n\n\nChangeset:\nModified: branches/SAMBA_3_0_26/source/lib/replace/libreplace_cc.m4\n===================================================================\n--- branches/SAMBA_3_0_26/source/lib/replace/libreplace_cc.m4\t2007-06-02 08:00:45 UTC (rev 23303)\n+++ branches/SAMBA_3_0_26/source/lib/replace/libreplace_cc.m4\t2007-06-02 08:13:54 UTC (rev 23304)\n@@ -60,9 +60,9 @@\n \t*hpux*)\n \t\t# mmap on HPUX is completely broken...\n \t\tAC_DEFINE(MMAP_BLACKLIST, 1, [Whether MMAP is broken])\n-\t\tif test \"`uname -r`\" = \"B.11.11\"; then\n-\t\t\tAC_MSG_WARN([Enabling HPUX 11.11 header bug workaround])\n-\t\t\tCFLAGS=\"$CFLAGS -D_LARGEFILE64_SUPPORT -D__LP64__ -DO_LARGEFILE=04000\"\n+\t\tif test \"`uname -r`\" = \"B.11.00\" -o \"`uname -r`\" = \"B.11.11\"; then\n+\t\t\tAC_MSG_WARN([Enabling HPUX 11.00/11.11 header bug workaround])\n+\t\t\tCFLAGS=\"$CFLAGS -Dpread=pread64 -Dpwrite=pwrite64\"\n \t\tfi\n \t\tif test \"`uname -r`\" = \"B.11.23\"; then\n \t\t\tAC_MSG_WARN([Enabling HPUX 11.23 machine/sys/getppdp.h bug workaround])\n\n"}