{"category": "ham", "to_address": "Gabor Grothendieck <ggrothendieck@gmail.com>", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] character to time problem", "body": "Thanks. I read your code too quickly.  I'll have a\nlook at the R News article. I read it last year but\napparently have forgotten just about all of it. :(\n\n\n--- Gabor Grothendieck \nwrote:\n\n> The code in my post uses \"Date\" class, not POSIX.\n> sort.POSIXlt is never invoked.  Suggest you read the\n> help desk article in R News 4/1 for more.\n> \n> On 6/8/07, John Kane  wrote:\n> > Looks much better. I seldom use dates for much and\n> > didn't think to look at the sort.POSIXlt function.\n> >\n> > If I understand this correctly the sort.POSIXlt\n> with\n> > na.last = FALSE is dropping all the NAs.  Very\n> nice.\n> >\n> >\n> > --- Gabor Grothendieck \n> > wrote:\n> >\n> > > Perhaps you want one of these:\n> > >\n> > > > sort(as.Date(aa$times, \"%d/%m/%Y\"))\n> > > [1] \"1995-03-02\" \"2001-05-12\" \"2007-02-14\"\n> > >\n> > > > sort(as.Date(aa$times, \"%d/%m/%Y\"), na.last =\n> > > TRUE)\n> > > [1] \"1995-03-02\" \"2001-05-12\" \"2007-02-14\" NA\n> > >    NA\n> > > [6] NA\n> > >\n> > >\n> > > On 6/7/07, John Kane  wrote:\n> > > > I am trying to clean up some dates and I am\n> > > clearly\n> > > > doing something wrong.  I have laid out an\n> example\n> > > > that seems to show what is happening with the\n> > > \"real\"\n> > > > data.  The  coding is lousy but it looks like\n> it\n> > > > should have worked.\n> > > >\n> > > > Can anyone suggest a) why I am getting that NA\n> > > > appearing after the strptime() command and b)\n> why\n> > > the\n> > > > NA is disappearing in the sort()? It happens\n> with\n> > > > na.rm=TRUE  and na.rm=FALSE\n> > > >\n> -------------------------------------------------\n> > > > aa  <- data.frame( c(\"12/05/2001\", \" \",\n> > > \"30/02/1995\",\n> > > > NA, \"14/02/2007\", \"M\" ) )\n> > > > names(aa)  <- \"times\"\n> > > > aa[is.na(aa)] <- \"M\"\n> > > > aa[aa==\" \"]  <- \"M\"\n> > > > bb <- unlist(subset(aa, aa[,1] !=\"M\"))\n> > > > dates <- strptime(bb, \"%d/%m/%Y\")\n> > > > dates\n> > > > sort(dates)\n> > > >\n> --------------------------------------------------\n> > > >\n> > > > Session Info\n> > > > R version 2.4.1 (2006-12-18)\n> > > > i386-pc-mingw32\n> > > >\n> > > > locale:\n> > > > LC_COLLATE=English_Canada.1252;\n> > > > LC_CTYPE=English_Canada.1252;\n> > > > LC_MONETARY=English_Canada.1252;\n> > > > LC_NUMERIC=C;LC_TIME=English_Canada.1252\n> > > >\n> > > > attached base packages:\n> > > > [1] \"stats\"     \"graphics\"  \"grDevices\"\n> \"utils\"\n> > > > \"datasets\"  \"methods\"   \"base\"\n> > > >\n> > > > other attached packages:\n> > > >  gdata   Hmisc\n> > > > \"2.3.1\" \"3.3-2\"\n> > > >\n> > > >  (Yes I know I'm out of date but I don't like\n> > > > upgrading just as I am finishing a project)\n> > > >\n> > > > Thanks\n> > > >\n> > > > ______________________________________________\n> > > > R-help@stat.math.ethz.ch mailing list\n> > > > https://stat.ethz.ch/mailman/listinfo/r-help\n> > > > PLEASE do read the posting guide\n> > > http://www.R-project.org/posting-guide.html\n> > > > and provide commented, minimal,\n> self-contained,\n> > > reproducible code.\n> > > >\n> > >\n> >\n> >\n> >\n> >      Be smarter than spam. See how smart SpamGuard\n> is at giving junk email the boot with the All-new\n\n> http://mrd.mail.yahoo.com/try_beta?.intl=ca\n> >\n> >\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}