{"category": "ham", "to_address": "Jeremy Allison <jra@samba.org>", "from_address": "James Peach <jpeach@samba.org>", "subject": "Re: getting rid of mkproto.sh from Samba3", "body": "\nOn 03/06/2007, at 6:59 PM, Jeremy Allison wrote:\n\n> On Sun, Jun 03, 2007 at 08:29:48PM -0500, Gerald (Jerry) Carter wrote:\n>>\n>> mkproto.sh promotes lazing programming, leads to bad interfaces\n>> and to monolithic code.\n\nThis is the basic reason why I don't like mkproto.sh. I'd also add that\n\t- it makes it impossible to do incremental builds\n\t- it makes it harder to find existing interfaces, raising the  \nbarrier to contributions\n\t- it makes it harder to document existing interfaces\n\t- leads to false sharing, forcing trivial tools to link most of lib/\n\nmkproto.sh makes it easier once, when you add a a new global symbol,  \nbut the costs of it last forever and affect the whole codebase.\n\n>> We should all suffer the pain of change *.h and *.c when\n>> change an interface.  I strongly agree with James on this one\n>> since it was already on my list of things to work on.\n>\n> Hmmmm. Ok, so shall we start from a current working\n> interface set and then remove \"make proto\" ? For 3.0.26 ?\n\nYep. My plan was to do a \"make headers\", check in the result and  \nremove the proto generator roles and scripts. Once that is done, I/we  \ncan gradually start paring the proto.h files down into well-defined  \ninterfaces.\n\n--\nJames Peach | jpeach@samba.org\n\n\n"}