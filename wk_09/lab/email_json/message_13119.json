{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r22474 - in\n\tbranches/SAMBA_4_0/source/lib/ldb/common: .", "body": "Author: abartlet\nDate: 2007-04-23 07:22:16 +0000 (Mon, 23 Apr 2007)\nNew Revision: 22474\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22474\n\nLog:\nIf ldb does not return sucess, then the res variable may not be valid.\nIt *should* just be NULL from the initialisation above, but I've had\nthis not be the case...\n\nAndrew Bartlett\n\nModified:\n   branches/SAMBA_4_0/source/lib/ldb/common/ldb.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/ldb/common/ldb.c\n===================================================================\n--- branches/SAMBA_4_0/source/lib/ldb/common/ldb.c\t2007-04-23 06:10:22 UTC (rev 22473)\n+++ branches/SAMBA_4_0/source/lib/ldb/common/ldb.c\t2007-04-23 07:22:16 UTC (rev 22474)\n@@ -970,8 +970,6 @@\n \tif (ret == LDB_SUCCESS) {\n \t\ttalloc_steal(mem_ctx, res);\n \t\t*result = res;\n-\t} else {\n-\t\ttalloc_free(res);\n \t}\n \n \ttalloc_free(expression);\n\n"}