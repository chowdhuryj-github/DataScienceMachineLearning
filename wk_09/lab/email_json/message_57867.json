{"category": "ham", "to_address": "Bingshan Li <bli1@bcm.tmc.edu>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] logistic regression and dummy variable coding", "body": "On Thu, 2007-06-28 at 18:16 -0500, Bingshan Li wrote:\n> Hello everyone,\n> \n> I have a variable with several categories and I want to convert this  \n> into dummy variables and do logistic regression on it. I used  \n> model.matrix to create dummy variables but it always picked the  \n> smallest one as the reference. For example,\n> \n> model.matrix(~.,data=as.data.frame(letters[1:5]))\n> \n> will code 'a' as '0 0 0 0'. But I want to code another category as  \n> reference, say 'b'. How to do it in R using model.matrix? Is there  \n> other way to do it if model.matrix  has no such functionality?\n> \n> Thanks!\n\nSee ?relevel\n\nNote that this (creating dummy variables) will be done automatically in\nR's modeling functions, which default to treatment contrasts on factors.\nmodel.matrix() is used internally by model functions such as glm().\n\nFor example using a single factor:\n\nFL <- factor(letters[1:5])\n\n> FL\n[1] a b c d e\nLevels: a b c d e\n\n> contrasts(FL)\n  b c d e\na 0 0 0 0\nb 1 0 0 0\nc 0 1 0 0\nd 0 0 1 0\ne 0 0 0 1\n\n\n\nFL.b <- relevel(FL, \"b\")\n\n> FL.b\n[1] a b c d e\nLevels: b a c d e\n\n> contrasts(FL.b)\n  a c d e\nb 0 0 0 0\na 1 0 0 0\nc 0 1 0 0\nd 0 0 1 0\ne 0 0 0 1\n\n\n\nSee ?contrasts and the Statistical Models section in \"An Introduction to\nR\".\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}