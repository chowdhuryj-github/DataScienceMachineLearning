{"category": "ham", "to_address": "\"r-help@stat.math.ethz.ch\" <r-help@stat.math.ethz.ch>", "from_address": "Hans-Peter <gchappi@gmail.com>", "subject": "Re: [R] Unit Testing Frameworks: summary and brief discussion", "body": "> - My code gives error and warning messages in some situations. I want to\n> test that the errors and warnings work, but these flags are the correct\n> response to the test. In fact, it is an error if I don't get the flag.\n> How easy is it to set up automatic tests to check warning and error\n> messages work?\n\nMaybe like this:\n\n### for errors:\nres1fkt <- function() xls.info( exc )\nres1 <- try( res1fkt(), silent = TRUE )\nif (class( res1 ) != \"try-error\") stop( \"xls.info, data not equal\" )\ncat( \"REQUIRED (EXPECTED) error message: \", res1  )\n\n### for warnings:\ntryCatch( res1 <- encodeDateTime( yd, md, dd, hd, mind, secd, msd ),\n    warning = function(x) cat(\"REQUIRED (EXPECTED) warning\nmessage:\\n\", x$message, \"\\n\" ) )\n  # have to resubmit the command as I didn't find a way to execute the command\n  # (assignement) and catch the warning message (but suppress the warning)\nsuppressWarnings( res1 <- encodeDateTime( yd, md, dd, hd, mind, secd, msd ) )\nif (!all( res1 == ddate )) stop( \"encode/decode , data not equal\" )\n\n\n-- \nRegards,\nHans-Peter\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}