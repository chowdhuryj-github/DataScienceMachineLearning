{"category": "ham", "to_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "from_address": "Dylan Beaudette <dylan.beaudette@gmail.com>", "subject": "Re: [R] off-topic: affine transformation matrix", "body": "Thanks for the prompt and clear reply! The simplicity of the solution may have \nbeen why I initially overlooked this approach...\n\n\nThe results look convincing (http://169.237.35.250/~dylan/temp/affine.png), \nnow I just need to verify that the output from coef() is in the format that I \nneed it in.\n\n\nl <- lm(cbind(nx,ny) ~ x + y, data=g)\ncoef(l)\n                     nx           ny\n(Intercept)  6.87938629  5.515261158\nx            1.01158806 -0.005449152\ny           -0.04481893  0.996895878\n\n\n## convert to format needed for affine() function in postGIS?\nt(coef(l))\n\n   (Intercept)            x           y\nnx    6.879386  1.011588063 -0.04481893\nny    5.515261 -0.005449152  0.99689588\n\n\nnote that the format that I am looking for looks something like the matrix \ndefined on this page:\nhttp://www.geom.uiuc.edu/docs/reference/CRC-formulas/node15.html\n\ncheers,\n\ndylan\n\n\n\nOn Monday 28 May 2007 15:18, Prof Brian Ripley wrote:\n> Isn't this just a regression (hopefully with a near-zero error).\n>\n> coef(lm(cbind(xnew, ynew) ~ xold + yold))\n>\n> should do what I think you are asking for.  (I am not clear which\n> direction you want the transformation, so choose 'old' and 'new'\n> accordingly.)\n>\n> On Mon, 28 May 2007, Dylan Beaudette wrote:\n> > This may sound like a very naive question, but...\n> >\n> > give two lists of coordinate pairs (x,y - Cartesian space) is there any\n> > simple way to compute the affine transformation matrix in R.\n> >\n> > I have a set of data which is offset from where i know it should be. I\n> > have coordinates of the current data, and matching coordinates of where\n> > the data should be. I need to compute the composition of the affine\n> > transformation matrix, so that I can apply an affine transform the entire\n> > dataset.\n> >\n> > any ideas?\n> >\n> > thanks in advance!\n\n-- \nDylan Beaudette\nSoils and Biogeochemistry Graduate Group\nUniversity of California at Davis\n530.754.7341\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}