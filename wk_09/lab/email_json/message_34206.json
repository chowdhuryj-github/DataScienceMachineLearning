{"category": "ham", "to_address": "\"'Charles C. Berry'\" <cberry@tajo.ucsd.edu>", "from_address": "\"John Fox\" <jfox@mcmaster.ca>", "subject": "Re: [R] Selecting complementary colours", "body": "Dear Chuck,\n\nThis solution works reasonably well for me. Although it occasionally\nproduces an error, I'm able to trap that.\n\nThank you -- and to everyone else who responded.\n\nJohn\n\n--------------------------------\nJohn Fox, Professor\nDepartment of Sociology\nMcMaster University\nHamilton, Ontario\nCanada L8S 4M4\n905-525-9140x23604\nhttp://socserv.mcmaster.ca/jfox \n-------------------------------- \n\n> -----Original Message-----\n> From: Charles C. Berry [mailto:cberry@tajo.ucsd.edu] \n> Sent: Monday, May 21, 2007 8:49 PM\n> To: John Fox\n> Cc: 'Deepayan Sarkar'; r-help@stat.math.ethz.ch\n> Subject: Re: [R] Selecting complementary colours\n> \n> On Mon, 21 May 2007, John Fox wrote:\n> \n> > Dear Deepayan,\n> >\n> > I actually thought of the equivalent of this approach, but \n> it doesn't \n> > do quite what I want.\n> >\n> > In retrospect, I didn't specify the problem clearly: What I \n> want to be \n> > able to do is to place text on a background of arbitrary (but known \n> > RGB) colour so that the text is legible. I guess that this \n> is better \n> > described as a \"contrasting\" than a \"complementary\" colour.\n> \n> John,\n> \n> There may be no unique solution. (For gray, for example.)\n> \n> I am not sure (in terms of color theory) that maximizing in \n> rgb space really is the right thing to do, but perhaps this \n> will help you:\n> \n> > cval <- function(x,y) -sum((x-y)^2)\n> > contrasting <- function(x) \n> > \n> optim(runif(3,0,255),cval,lower=0,upper=255,method=\"L-BFGS-B\",y=x)$par\n> > do.call(rgb,as.list(contrasting(col2rgb(\"gray\"))/255))\n> [1] \"#000000\"\n> > do.call(rgb,as.list(contrasting(col2rgb(\"gray\"))/255))\n> [1] \"#0000FF\"\n> > do.call(rgb,as.list(contrasting(col2rgb(\"pink\"))/255))\n> [1] \"#00FF00\"\n> \n> Regards,\n> \n> Chuck\n> \n> >\n> \n> >\n> > Your solution, for example breaks down for grays:\n> >\n> >> mycol <- \"#888888\"\n> >> do.call(rgb, as.list(1 - col2rgb(mycol) / 255))\n> > [1] \"#777777\"\n> >\n> > Thank you for the suggestion.\n> >\n> > John\n> >\n> > --------------------------------\n> > John Fox, Professor\n> > Department of Sociology\n> > McMaster University\n> > Hamilton, Ontario\n> > Canada L8S 4M4\n> > 905-525-9140x23604\n> > http://socserv.mcmaster.ca/jfox\n> > --------------------------------\n> >\n> >> -----Original Message-----\n> >> From: r-help-bounces@stat.math.ethz.ch \n> >> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Deepayan \n> >> Sarkar\n> >> Sent: Monday, May 21, 2007 6:45 PM\n> >> To: John Fox\n> >> Cc: r-help@stat.math.ethz.ch\n> >> Subject: Re: [R] Selecting complementary colours\n> >>\n> >> On 5/21/07, John Fox  wrote:\n> >>> Dear r-helpers,\n> >>>\n> >>> I wonder whether, given the \"#rrggbb\" representation of a colour, \n> >>> there is a simple way to select the complementary colour,\n> >> also expressed as a \"#rrggbb\"\n> >>> string.\n> >>>\n> >>> Any suggestions would be appreciated.\n> >>\n> >> You want rgb2col. The following should work for any standard color\n> >> specification:\n> >>\n> >>> mycol = \"royalblue\"\n> >>> do.call(rgb, as.list(1 - col2rgb(mycol) / 255))\n> >> [1] \"#BE961E\"\n> >>\n> >> -Deepayan\n> >>\n> >> ______________________________________________\n> >> R-help@stat.math.ethz.ch mailing list \n> >> https://stat.ethz.ch/mailman/listinfo/r-help\n> >> PLEASE do read the posting guide\n> >> http://www.R-project.org/posting-guide.html\n> >> and provide commented, minimal, self-contained, reproducible code.\n> >>\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide \n> > http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> >\n> \n> Charles C. Berry                        (858) 534-2098\n>                                           Dept of \n> Family/Preventive Medicine\n> E mailto:cberry@tajo.ucsd.edu\t         UC San Diego\n> http://biostat.ucsd.edu/~cberry/         La Jolla, San Diego \n> 92093-0901\n> \n> \n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}