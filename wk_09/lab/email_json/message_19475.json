{"category": "ham", "to_address": "Perl Beginners <beginners@perl.org>", "from_address": "Rob Dixon <rob.dixon@350.com>", "subject": "Re: creating hash from scalar variable", "body": "Goksie wrote:\n> hello,\n> \n> Can someone help me correct this code.\n> \n> if i print, it only print the first line.\n> \n> Goksie\n> \n> #!/usr/bin/perl\n> use strict;\n> \n> my $test =\n>         'NAS-IP-Address = 192.168.42.1\n>     Quintum-NAS-Port = \"0 0/0/c1dc2a26\"\n>     NAS-Port-Type = Async\n>     User-Name = \"192.168.42.8\"\n>     Called-Station-Id = \"8600508208079\"\n>     Calling-Station-Id = \"\"\n>     Acct-Status-Type = Stop\n>     Acct-Delay-Time = 0\n>     Acct-Input-Octets = 0\n>     Acct-Output-Octets = 0\n>     Acct-Session-Id = \"000000C0000012F5\"\n>     Acct-Session-Time = 245\n>     Acct-Input-Packets = 0\n>     Acct-Output-Packets = 0\n>     Service-Type = Login-User\n>     Quintum-AVPair = \"h323-ivr-out=ACCESSCODE:8600508208079\"\n>     Quintum-h323-conf-id = \"34363262 65383833 32656366 00340000\"\n>     Quintum-AVPair = \"h323-incoming-conf-id=34363262 65383833 32656366 00340000\"\n>     Quintum-h323-gw-id = \"ng-la\"\n>     Quintum-h323-call-origin = \"answer\"\n>     Quintum-h323-call-type = \"VoIP\"\n>     Quintum-h323-setup-time = \"22:58:10.220 UTC Sun Apr 22 2007\"\n>     Quintum-h323-connect-time = \"22:59:09.550 UTC Sun Apr 22 2007\"\n>     Quintum-h323-disconnect-time = \"22:59:09.550 UTC Sun Apr 22 2007\"\n>     Quintum-h323-remote-address = \"192.168.42.8\"\n>     Quintum-h323-disconnect-cause = \"1f\"\n>     Quintum-h323-voice-quality = \"0\"\n>     Quintum-Trunkid-In = \"192.20.42.8\"\n>     Quintum-Trunkid-Out = \"10.15.115.79\"\n>     h323-incoming-conf-id = \"34363262 65383833 32656366 00340000\"\n>     Client-IP-Address = 192.168.42.1\n>     Acct-Unique-Session-Id = \"87d380e1881d226c\"\n>     Timestamp = 1177282824';\n>     \n>    my %test = my($fname, $fvalu)=split(/=/, $test);\n>        foreach(keys %test)\n>         {\n>          print \"$_ --- $test{$_}\";\n>      }\n>  \n>  OUTPUT\n> NAS-IP-Address  ---  192.168.42.1\n> Quintum-NAS-Port  ---\n\nHope this helps,\n\nRob\n\n\n\nmy %test = $test =~ /( \"[^\"]+\" | [^=\\s]+ )/gx;\n\nforeach (keys %test) {\n  print \"$_ --- $test{$_}\\n\";\n}\n\n**OUTPUT**\n\nNAS-Port-Type --- Async\nQuintum-NAS-Port --- \"0 0/0/c1dc2a26\"\nAcct-Unique-Session-Id --- \"87d380e1881d226c\"\nCalled-Station-Id --- \"8600508208079\"\nQuintum-h323-voice-quality --- \"0\"\nQuintum-h323-remote-address --- \"192.168.42.8\"\nClient-IP-Address --- 192.168.42.1\nQuintum-h323-setup-time --- \"22:58:10.220 UTC Sun Apr 22 2007\"\nAcct-Status-Type --- Stop\nAcct-Output-Packets --- 0\nQuintum-h323-disconnect-cause --- \"1f\"\nNAS-IP-Address --- 192.168.42.1\nAcct-Output-Octets --- 0\nAcct-Session-Time --- 245\nh323-incoming-conf-id --- \"34363262 65383833 32656366 00340000\"\nQuintum-AVPair --- \"h323-incoming-conf-id=34363262 65383833 32656366 00340000\"\nTimestamp --- 1177282824\nUser-Name --- \"192.168.42.8\"\nAcct-Input-Packets --- 0\nAcct-Input-Octets --- 0\nAcct-Session-Id --- \"000000C0000012F5\"\nService-Type --- Login-User\nQuintum-h323-gw-id --- \"ng-la\"\nQuintum-h323-call-type --- \"VoIP\"\nQuintum-Trunkid-Out --- \"10.15.115.79\"\nQuintum-h323-connect-time --- \"22:59:09.550 UTC Sun Apr 22 2007\"\nQuintum-h323-disconnect-time --- \"22:59:09.550 UTC Sun Apr 22 2007\"\nQuintum-Trunkid-In --- \"192.20.42.8\"\nCalling-Station-Id --- \"\"\nQuintum-h323-call-origin --- \"answer\"\nQuintum-h323-conf-id --- \"34363262 65383833 32656366 00340000\"\nAcct-Delay-Time --- 0\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}