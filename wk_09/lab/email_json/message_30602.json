{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Juan Pablo Lewinger <lewinger@usc.edu>", "subject": "[R] Efficiently reading random lines form a large file", "body": "I need to read two different random lines at a time from a large \nASCII file (120 x 296976) containing space delimited 0-1 entries.\n\nThe following code does the job and it's reasonable fast for my needs:\n\n   lineNumber = sample(120, 2)\n   line1 = scan(filename, what = \"integer\", skip=lineNumber[1]-1, nlines=1)\n   line2 = scan(filename, what = \"integer\", skip=lineNumber[2]-1, nlines=1)\n\n > system.time(for (i in 50){\n+   lineNumber = sample(120, 2)\n+   line1 = scan(filename, what = \"integer\", skip=lineNumber[1]-1, nlines=1)\n+   line2 = scan(filename, what = \"integer\", skip=lineNumber[2]-1, nlines=1)\n+ })\n\nRead 296976 items\nRead 296976 items\n[1] 14.24  0.12 14.51    NA    NA\n\nHowever, I'm wondering if there's an even faster way to do this. Is there?\n\n > sessionInfo()\nR version 2.4.1 (2006-12-18)\ni386-pc-mingw32\n\nJuan Pablo Lewinger\nDepartment of Preventive Medicine\nKeck School of Medicine\nUniversity of Southern California\n1540 Alcazar Street, CHP-220\nLos Angeles, CA 90089-9011, USA\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}