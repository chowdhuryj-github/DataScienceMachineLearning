{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Yuchen Luo\" <realityrandom@gmail.com>", "subject": "[R] How to manipulate the pointer of a file?", "body": "Dear friends.\n\nWith file( ) to obtain a pointer of a file,  every time we use scan ( ) to\nread one row of it, the pointer will point to the next row of the file. In\nthe following example, d1 and d2 are obtained the same way but they\ncorrespond to different rows of the same file because the pointer of the\nfile moves down a row when a row of the file is read.\n\n The following is an example:\n\n a1 <- list(name=\"Fred\", wife=\"Mary\", no.children=3)\n\na2 <- list(name=\"Tom\", wife=\"Joy\", no.children=9)\n\na3 <- list(name=\"Paul\", wife=\"Alic\", no.children=5)\n\n\nwrite.table(a1, file = \"tt.csv\", sep=',',row.names=FALSE,col.name=TRUE)\n\nwrite.table(a2, file=\"tt.csv\", sep=',', append=TRUE, row.names=FALSE,\ncol.names=FALSE)\n\nwrite.table(a3, file=\"tt.csv\", sep=',', append=TRUE, row.names=FALSE,\ncol.names=FALSE)\n\n\nfp=file(\"tt.csv\",\"r\")\n\n c=scan(file=fp, sep=',', what=list(c1=\"\", c2=\"\", c3=\"\"), flush=TRUE,\nnlines=1)\n\n d1=scan(file=fp, sep=',', what=list(name=\"\", wife=\"\", no.kids=0),\nflush=TRUE, nlines=1)\n\nd1\n\n\nR output:\n\n-----------------------\n\n$name\n\n[1] \"Fred\"\n\n\n\n$wife\n\n[1] \"Mary\"\n\n\n\n$no.kids\n\n[1] 3\n\n-------------------------\n\n d2=scan(file=fp, sep=',', what=list(name=\"\", wife=\"\", no.kids=0),\nflush=TRUE, nlines=1)\nd2\n\n\n\nR Output:\n\n------------\n\n$name\n\n[1] \"Tom\"\n\n\n\n$wife\n\n[1] \"Joy\"\n\n\n\n$no.kids\n\n[1] 9\n\n----------------------\n\nMy question is, how to manipulate the pointer of the file further? For\nexample, what if I need the pointer to go back to the previous row?\n\n\nBest Wishes\n\nYuchen Luo\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}