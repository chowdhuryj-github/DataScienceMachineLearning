{"category": "ham", "to_address": "parrot-porters@perl.org", "from_address": "pancake <pancake@youterm.com>", "subject": "source code comments", "body": "I have been reading the source code of he virtual machine a bit and found some\nconfusing things and other stuff that imho should change.\n\nMost of this patches are merely stupid, so they are easy to fix and will reflect\non a clenaer and reduced source code.\n\nI will probably submit other similar mails, because some of these patches can\nrequire a little discussion.\n\nHere it is my NOTES file:\n\nexec.c:37 -- confusing comment.\n             remove it and use a enum to clarify\n\nsrc/exec.c:217 -- strange hack, looks ugly\n        #if defined(EXEC_A_OUT) || defined(EXEC_COFF)\n                /* for the trailing \"_\" */\n                obj->symbol_list_size++;\n        #endif\n        Can this code be removed?\n\nsrc/packout.c:336  -- better error message. show:\n        \"unsupported constant type (type=%d)\", self->type)\n\n        Question:\n        - what's the binary format going to be used for\n          floating point values?\n\nsrc/dynext.c:456 -- 2 in 1. no need to define lib_pmc var.\n        lib_pmc = run_init_lib(interp, handle, lib_name, wo_ext);\n        return lib_pmc;\n\nsrc/inter_cb.c:70 -- no need for pointers.\n        the 'sig_str' variable can be removed.\n        accessign directly to [1] and [2] chars of the\n        cb_signature->strstart variable should be\n        faster because it executes less steps and the\n        stack size will be 4 bytes less\n\n  --pancake\n\n"}