{"category": "ham", "to_address": "\"Bert Gunter\" <gunter.berton@gene.com>, <r-help@stat.math.ethz.ch>", "from_address": "\"Leeds, Mark \\(IED\\)\" <Mark.Leeds@morganstanley.com>", "subject": "Re: [R] Looking for a cleaner way to implement a setting\n\tcertainindices of a matrix to 1 function", "body": "That's a good idea : I didn't realize that my matrices would look so bad\nin the final email. All I want\nTo do is output 1's in the diagonal elements and zero's everywhere else\nbut the matrix is not square so by diagonals I\nReally mean if\n\nLagnum = 1 then the elements are (1,1), (2,2), (3,3),(4,4),(5,5),(6,6)\n\nLagnum = 2 then the elements (1,1), (2,2),\n(3,3),(4,4),(5,5),(6,6),(7,1),(8,2),(9,3),(10,4),(11,5),(12,6)\n\nLagnum = 3 then the elements (1,1), (2,2),\n(3,3),(4,4),(5,5),(6,6),(7,1),(8,2),(9,3),(10,4),(11,5),(12,6),(13,1),(1\n4,2),(15,3),(16,4),(17,5),\n(18,6)\n\nAnd lagnum always has to be greater than or equal to 1 and less than or\nequal to (number of cols/number of rows ). Thanks\nFor your advice.\n\n\n-----Original Message-----\nFrom: Bert Gunter [mailto:gunter.berton@gene.com] \nSent: Tuesday, May 08, 2007 5:34 PM\nTo: Leeds, Mark (IED); r-help@stat.math.ethz.ch\nSubject: RE: [R] Looking for a cleaner way to implement a setting\ncertainindices of a matrix to 1 function\n\nSuggestion:\n\nYou might make it easier for folks to help if you explained in clear and\nsimple terms what you are trying to do. Code is hard to deconstruct.\n\n\nBert Gunter\nGenentech Nonclinical Statistics\n\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch\n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Leeds, Mark (IED)\nSent: Tuesday, May 08, 2007 2:22 PM\nTo: r-help@stat.math.ethz.ch\nSubject: [R] Looking for a cleaner way to implement a setting\ncertainindices of a matrix to 1 function\n\nI wrote an ugly algorithm to set certain elements of a matrix to 1\nwithout looping and below works and you can see what The output is below\nthe code.\n\nK<-6\nlagnum<-2\n\nrestrictmat<-matrix(0,nrow=K,ncol=K*3)\nrestrictmat[((col(restrictmat) - row(restrictmat) >= 0 ) &\n(col(restrictmat)-row(restrictmat)) %% K == 0)]<-1\nrestrictmat[,(lagnum*K+1):ncol(restrictmat)]<-0\n\n restrictmat\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\n[,13] [,14] [,15] [,16] [,17] [,18]\n[1,]    1    0    0    0    0    0    1    0    0     0     0     0\n0     0     0     0     0     0\n[2,]    0    1    0    0    0    0    0    1    0     0     0     0\n0     0     0     0     0     0\n[3,]    0    0    1    0    0    0    0    0    1     0     0     0\n0     0     0     0     0     0\n[4,]    0    0    0    1    0    0    0    0    0     1     0     0\n0     0     0     0     0     0\n[5,]    0    0    0    0    1    0    0    0    0     0     1     0\n0     0     0     0     0     0\n[6,]    0    0    0    0    0    1    0    0    0     0     0     1\n0     0     0     0     0     0\n\nFor lagnum equals 1 , it also works :\n\n restrictmat\n     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12]\n[,13] [,14] [,15] [,16] [,17] [,18]\n[1,]    1    0    0    0    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[2,]    0    1    0    0    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[3,]    0    0    1    0    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[4,]    0    0    0    1    0    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[5,]    0    0    0    0    1    0    0    0    0     0     0     0\n0     0     0     0     0     0\n[6,]    0    0    0    0    0    1    0    0    0     0     0     0\n0     0     0     0     0     0\n\nBut I am thinking that there has to be a better way particularly because\nI'll get an error if I set lagnum to 3. \nAny improvements or total revampings are appreciated. The number of\ncolumns will always be a multiple of the number of rows So K doesn't\nhave to be 6. that was just to show what the commands do.\nthanks.\n--------------------------------------------------------\n\nThis is not an offer (or solicitation of an offer) to\nbuy/se...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide\nhttp://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n--------------------------------------------------------\n\nThis is not an offer (or solicitation of an offer) to buy/se...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}