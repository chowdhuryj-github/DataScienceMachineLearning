{"category": "ham", "to_address": "Juan Pablo Lewinger <lewinger@usc.edu>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] Efficiently reading random lines form a large file", "body": "On Tue, 2007-05-15 at 16:02 -0700, Juan Pablo Lewinger wrote:\n> I need to read two different random lines at a time from a large \n> ASCII file (120 x 296976) containing space delimited 0-1 entries.\n> \n> The following code does the job and it's reasonable fast for my needs:\n> \n>    lineNumber = sample(120, 2)\n>    line1 = scan(filename, what = \"integer\", skip=lineNumber[1]-1, nlines=1)\n>    line2 = scan(filename, what = \"integer\", skip=lineNumber[2]-1, nlines=1)\n> \n>  > system.time(for (i in 50){\n> +   lineNumber = sample(120, 2)\n> +   line1 = scan(filename, what = \"integer\", skip=lineNumber[1]-1, nlines=1)\n> +   line2 = scan(filename, what = \"integer\", skip=lineNumber[2]-1, nlines=1)\n> + })\n> \n> Read 296976 items\n> Read 296976 items\n> [1] 14.24  0.12 14.51    NA    NA\n> \n> However, I'm wondering if there's an even faster way to do this. Is there?\n\nYou might want to take a look at this post by Jim Holtman from earlier\nin the year for some ideas:\n\nhttp://tolstoy.newcastle.edu.au/R/e2/help/07/02/9709.html\n\nHTH,\n\nMarc Schwartz\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}