{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Perl WANNABE <perl@rocteur.cc>", "subject": "Ram disk filling up - File::COPY", "body": "Hi,\n\nI'm trying to copy a couple of DBM files from a disk to a RAM disk, one of the files is 500M the other quite small.\n\nThis is on Slackware 10.1.0 using:  This is perl, v5.8.6 built for i486-linux\n\nWhether I use File::Copy or I roll my own copy by reading and writing the file the filesystem fills up... If I use system (cp from to) I don't have a problem.\n\nBefore the file is already there and will be overwritten (I've tried deleting it before copy):\n\tFilesystem           1K-blocks      Used Available Use% Mounted on\n\t/dev/rd/0               253871    121344    132527  48% /Dir/dbm\n\nAfter:\n\tFilesystem           1K-blocks      Used Available Use% Mounted on\n\t/dev/rd/0               253871    253870         1 100% /Dir/dbm\n\nIt copies this:\n\n\t499661824 2007-06-07 11:30 file.pag\n\nWhen it is fine it looks like this in the destination:\n\n\t499661824 /Dir/dbm/file.pag\n\nOtherwise like this when disk is full:\n\n\t173121536 /Dir/dbm/file.pag\n\nAs you see, the file is not copied in its entirety but the file system is full ...\n\nIn the meantime I'll use system(cp) but I'm curious.\n\nI've tried changing buffer size, binmode and anything else I could tinker with but I always have the file system filling up when reading and writing using Perl or File::Copy\n\nCheers,\n\nJerry \n\n\n\n\n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}