{"category": "ham", "to_address": "Jeremy Allison <jra@samba.org>", "from_address": "\"Gerald (Jerry) Carter\" <jerry@samba.org>", "subject": "Re: Broken idmap interface design", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nJeremy Allison wrote:\n> On Thu, Apr 19, 2007 at 04:15:00PM -0500, Gerald (Jerry) Carter wrote:\n>> -----BEGIN PGP SIGNED MESSAGE-----\n>> Hash: SHA1\n>>\n>> Gerald (Jerry) Carter wrote:\n>>\n>>> Here is a patch bundle\n>>>\n>>> auth_util.patch\t\tRevert create_local_token() to\n>>> \t\t\tthe 3.0.24 codebase\n>>>\n>>> idmap_type.patch\tHave the caller fillin the\n>>> \t\t\tid_map.xid.type field when\n>>> \t\t\tresolving a SID so that if we allocate\n>>> \t\t\ta new id, we know what type to use\n>>>\n>> new idmap_type.patch (had accidentally duplicated\n>> the idmap_rid changes in the previous version).\n> \n> At quick scan these look ok to me...\n\nOK.  Simo agrees as well.  I'm going to commit this set of\npatches and will follow up with a change to validate the\nSID in winbindd.\n\nTo illustrate, this should not work using the tdb alloc\nbackend:\n\n  $ wbinfo -S S-1-5-21-2366234788-659026988-763736888-513\n  100003\n\n\n\n\n\ncheers, jerry\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.3 (GNU/Linux)\nComment: Using GnuPG with Mozilla - http://enigmail.mozdev.org\n\niD8DBQFGJ+clIR7qMdg1EfYRAtF0AKCykJ3hhWG7XmvAC0Br4Gpvtj8s3wCcCjEy\noHZu5x9F2w4rc47i8TyGJkU=\n=hGLj\n-----END PGP SIGNATURE-----\n\n"}