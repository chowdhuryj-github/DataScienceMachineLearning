{"category": "ham", "to_address": "Ben Edwards <funkytwig@gmail.com>", "from_address": "Steve Bertrand <iaccounts@ibctech.ca>", "subject": "Re: pr warn die question", "body": "Ben Edwards wrote:\n> I have a perl script that uses FTP.  If the ftp server can not be\n> conected to I want to write to a log file and exit with a return code\n> of 1.\n> \n> Something like\n> \n>    my $ftp = Net::FTP->new( $remote_host ) or {\n>      print LOGFILE \"failed to connect to $remote_host\\n\"\n>      return(1);\n>    };\n> \n> But this does not work.  So how do I do 2 statements for an or?\n\nI did this backwards, it prints on success, but you get the idea. BTW,\nthe return won't work unless this code is within a subroutine. Even\nthough it spits an error because of this, you can see that both\nstatements get processed:\n\n#!/usr/bin/perl -w\n\nuse strict;\nuse Net::FTP;\n\nmy $remote_host = 'localhost';\n\nmy $ftp = Net::FTP->new ($remote_host);\n\nif ($ftp) {\n        print \"Connected to $remote_host\\n\";\n        return(1);\n}\n\n\n...returns this:\n\n%./ftptest.pl\nConnected to localhost\nCan't return outside a subroutine at ./ftptest.pl line 12.\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}