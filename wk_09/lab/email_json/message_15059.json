{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Chris Linton\" <connect.chris@gmail.com>", "subject": "[R] sorting data help", "body": "I am trying to create a 2x2xk contingency table.  The variables are GDP and\nan income inequality statistic with year being the k levels.  I want to\neventually run a loglinear model with the data.  Currently the data is\norganized by either year or country.  example\n\nCountry    Year   log(GDP)    sqrt(INEQ)\n1              1980   24             5.3\n1              1981   25             5.45\n1              1982   24.5          5.4\n1              1983   25            5.3\n1              1984   25.5          5.5\n\nor\n\nCountry    Year    log(GDP)   sqrt(INEQ)\n1              1980   25             5.5\n2              1980   22             6.5\n3              1980   23.8          6.8\n4              1980   26.7          5.2\n5              1980   24             6\n6              1980   26             5.5\n\n\nI want to reorganize the data so it's like:\n\nYear    GDP>median(for the ith year)     INEQ>sqrt(40)      count\n1980    1\n1                          3\n1980    1\n0                          6\n1980    0\n1                          8\n1980    0\n0                          9\n1981    1\n1                          2\n1981    1\n0                          7\n1981    0\n1                          7\n1981    0\n0                          9\n\n\n\nSo far, I've been using the \"sort()\" function to order the data.  Then,\n\nf63<-sort(data1963$Gdp)\ndata1963$INEQ[data1963$Gdp>median(f63)]\ndata1963$INEQ[data1963$Gdp<median(f63)]\n\nin order to separate the data.  But, there's missing data and the NA are\nstill being counted when I use the function \"length()\".  I'm not sure how to\nget the data in the way I need it without simply doing it by hand.  I might\nhave to do that, but I would really rather not.\n\n\nAny advice would be much appreciated,\n\nChris\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}