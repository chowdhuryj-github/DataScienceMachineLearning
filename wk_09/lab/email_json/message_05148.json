{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r22214 - in branches/SAMBA_3_0/source/nsswitch: .", "body": "Author: vlendec\nDate: 2007-04-14 06:44:30 +0000 (Sat, 14 Apr 2007)\nNew Revision: 22214\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22214\n\nLog:\nFix incompatible pointer type warnings. Simo, please check and merge to 3_0_25\nif appropriate.\n\nVolker\n\nModified:\n   branches/SAMBA_3_0/source/nsswitch/idmap.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/nsswitch/idmap.c\n===================================================================\n--- branches/SAMBA_3_0/source/nsswitch/idmap.c\t2007-04-14 06:40:47 UTC (rev 22213)\n+++ branches/SAMBA_3_0/source/nsswitch/idmap.c\t2007-04-14 06:44:30 UTC (rev 22214)\n@@ -828,7 +828,11 @@\n \t\twbret = winbind_lookup_sid(ctx, map->sid, &domname, &name, &sid_type);\n \t\twinbind_off();\n \t} else {\n-\t\twbret = winbindd_lookup_name_by_sid(ctx, map->sid, &domname, &name, &sid_type);\n+\t\tchar *tmp_dom, *tmp_name;\n+\t\twbret = winbindd_lookup_name_by_sid(ctx, map->sid, &tmp_dom,\n+\t\t\t\t\t\t    &tmp_name, &sid_type);\n+\t\tdomname = tmp_dom;\n+\t\tname = tmp_name;\n \t}\n \n \t/* check if this is a valid SID and then map it */\n\n"}