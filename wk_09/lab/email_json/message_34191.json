{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r23068 - in branches: SAMBA_3_0/source/modules\n\tSAMBA_3_0_25/source/modules SAMBA_3_0_26/source/modules", "body": "Author: vlendec\nDate: 2007-05-22 10:05:56 +0000 (Tue, 22 May 2007)\nNew Revision: 23068\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23068\n\nLog:\nFix some uninitialized variables in the solarisacl module\n\nModified:\n   branches/SAMBA_3_0/source/modules/vfs_solarisacl.c\n   branches/SAMBA_3_0_25/source/modules/vfs_solarisacl.c\n   branches/SAMBA_3_0_26/source/modules/vfs_solarisacl.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/modules/vfs_solarisacl.c\n===================================================================\n--- branches/SAMBA_3_0/source/modules/vfs_solarisacl.c\t2007-05-22 09:25:58 UTC (rev 23067)\n+++ branches/SAMBA_3_0/source/modules/vfs_solarisacl.c\t2007-05-22 10:05:56 UTC (rev 23068)\n@@ -66,7 +66,7 @@\n {\n \tSMB_ACL_T result = NULL;\n \tint count;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \t\n \tDEBUG(10, (\"solarisacl_sys_acl_get_file called for file '%s'.\\n\", \n \t\t   path_p));\n@@ -106,7 +106,7 @@\n {\n \tSMB_ACL_T result = NULL;\n \tint count;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \n \tDEBUG(10, (\"entering solarisacl_sys_acl_get_fd.\\n\"));\n \n@@ -139,7 +139,7 @@\n {\n \tint ret = -1;\n \tstruct stat s;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \tint count;\n \t\n \tDEBUG(10, (\"solarisacl_sys_acl_set_file called for file '%s'\\n\",\n@@ -222,8 +222,8 @@\n \t\t\t      files_struct *fsp,\n \t\t\t      int fd, SMB_ACL_T theacl)\n {\n-\tSOLARIS_ACL_T solaris_acl;\n-\tSOLARIS_ACL_T default_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n+\tSOLARIS_ACL_T default_acl = NULL;\n \tint count, default_count;\n \tint ret = -1;\n \n@@ -293,7 +293,7 @@\n {\n \tSMB_ACL_T smb_acl;\n \tint ret = -1;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \tint count;\n \n \tDEBUG(10, (\"entering solarisacl_sys_acl_delete_def_file.\\n\"));\n\nModified: branches/SAMBA_3_0_25/source/modules/vfs_solarisacl.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/modules/vfs_solarisacl.c\t2007-05-22 09:25:58 UTC (rev 23067)\n+++ branches/SAMBA_3_0_25/source/modules/vfs_solarisacl.c\t2007-05-22 10:05:56 UTC (rev 23068)\n@@ -66,7 +66,7 @@\n {\n \tSMB_ACL_T result = NULL;\n \tint count;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \t\n \tDEBUG(10, (\"solarisacl_sys_acl_get_file called for file '%s'.\\n\", \n \t\t   path_p));\n@@ -106,7 +106,7 @@\n {\n \tSMB_ACL_T result = NULL;\n \tint count;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \n \tDEBUG(10, (\"entering solarisacl_sys_acl_get_fd.\\n\"));\n \n@@ -139,7 +139,7 @@\n {\n \tint ret = -1;\n \tstruct stat s;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \tint count;\n \t\n \tDEBUG(10, (\"solarisacl_sys_acl_set_file called for file '%s'\\n\",\n@@ -222,8 +222,8 @@\n \t\t\t      files_struct *fsp,\n \t\t\t      int fd, SMB_ACL_T theacl)\n {\n-\tSOLARIS_ACL_T solaris_acl;\n-\tSOLARIS_ACL_T default_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n+\tSOLARIS_ACL_T default_acl = NULL;\n \tint count, default_count;\n \tint ret = -1;\n \n@@ -293,7 +293,7 @@\n {\n \tSMB_ACL_T smb_acl;\n \tint ret = -1;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \tint count;\n \n \tDEBUG(10, (\"entering solarisacl_sys_acl_delete_def_file.\\n\"));\n\nModified: branches/SAMBA_3_0_26/source/modules/vfs_solarisacl.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/modules/vfs_solarisacl.c\t2007-05-22 09:25:58 UTC (rev 23067)\n+++ branches/SAMBA_3_0_26/source/modules/vfs_solarisacl.c\t2007-05-22 10:05:56 UTC (rev 23068)\n@@ -66,7 +66,7 @@\n {\n \tSMB_ACL_T result = NULL;\n \tint count;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \t\n \tDEBUG(10, (\"solarisacl_sys_acl_get_file called for file '%s'.\\n\", \n \t\t   path_p));\n@@ -106,7 +106,7 @@\n {\n \tSMB_ACL_T result = NULL;\n \tint count;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \n \tDEBUG(10, (\"entering solarisacl_sys_acl_get_fd.\\n\"));\n \n@@ -139,7 +139,7 @@\n {\n \tint ret = -1;\n \tstruct stat s;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \tint count;\n \t\n \tDEBUG(10, (\"solarisacl_sys_acl_set_file called for file '%s'\\n\",\n@@ -222,8 +222,8 @@\n \t\t\t      files_struct *fsp,\n \t\t\t      int fd, SMB_ACL_T theacl)\n {\n-\tSOLARIS_ACL_T solaris_acl;\n-\tSOLARIS_ACL_T default_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n+\tSOLARIS_ACL_T default_acl = NULL;\n \tint count, default_count;\n \tint ret = -1;\n \n@@ -293,7 +293,7 @@\n {\n \tSMB_ACL_T smb_acl;\n \tint ret = -1;\n-\tSOLARIS_ACL_T solaris_acl;\n+\tSOLARIS_ACL_T solaris_acl = NULL;\n \tint count;\n \n \tDEBUG(10, (\"entering solarisacl_sys_acl_delete_def_file.\\n\"));\n\n"}