{"category": "ham", "to_address": "\"'Michael Andric'\" <mjandric@gmail.com>, <r-help@stat.math.ethz.ch>", "from_address": "Bert Gunter <gunter.berton@gene.com>", "subject": "Re: [R] R-help with apply and ccf", "body": "I understand you to want correlations of corresponding rows (** not ccf,\nwhich returns a vector ccf for each pair of rows). If that is so, \n\n1) ... in theory, diag(cor(t(A), t(B)) would work without apply, except\n196,000 rows is probably too large, and it is probably too inefficient to\ncompute and then throw away all the off-diagonals anyway.\n\n2. ##Use a 3d array.\n ar <- array(c(A,B),dim=c(dim(A),2)) ## this can also be done by abind() in\nthe abind package\n  apply(ar,1,function(x)cor(x[,1],x[,2])) ## Value is a vector\n\n3. ## probably simplest and best\n sapply(seq_along(nrow(a)),function(i)cor(a[i,],b[i,])) ## Note: value is a\nvector, not an array\n\n\nBert Gunter\nGenentech Nonclinical Statistics\n\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch\n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Michael Andric\nSent: Tuesday, May 22, 2007 8:35 AM\nTo: r-help@stat.math.ethz.ch\nSubject: [R] R-help with apply and ccf\n\nDear R gurus,\n\nI would like to use the ccf function on two matrices that are each 196000 x\n12.  Ideally, I want to be able to go row by row for the two matrices using\napply for the ccf function and get one 196000 X 1 array output.  The apply\nfunction though wants only one array, no?  Basically, is there a way to use\napply when there are two arrays in order to do something like correlation on\na row by row basis?\nThanks for your help\n\nMichael\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}