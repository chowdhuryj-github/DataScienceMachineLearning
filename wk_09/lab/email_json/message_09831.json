{"category": "ham", "to_address": "Simon Pickett <S.Pickett@exeter.ac.uk>", "from_address": "Chuck Cleland <ccleland@optonline.net>", "subject": "Re: [R] general question about plotting multiple regression results", "body": "Simon Pickett wrote:\n> Hi all,\n> \n> I have been bumbling around with r for years now and still havent come up\n> with a solution for plotting reliable graphs of relationships from a\n> linear regression.\n> \n> Here is an example illustrating my problem\n> \n> 1.I do a linear regression as follows\n> \n> summary(lm(n.day13~n.day1+ffemale.yell+fmale.yell+fmale.chroma,data=surv))\n> \n> which gives some nice sig. results\n> \n> Coefficients:\n>              Estimate Std. Error t value Pr(>|t|)\n> (Intercept)  -0.73917    0.43742  -1.690 0.093069 .\n> n.day1        1.00460    0.05369  18.711  < 2e-16 ***\n> ffemale.yell  0.22419    0.06251   3.586 0.000449 ***\n> fmale.yell    0.25874    0.06925   3.736 0.000262 ***\n> fmale.chroma  0.23525    0.11633   2.022 0.044868 *\n> \n> 2. I want to plot the effect of \"ffemale.yell\", \"fmale.yell\" and\n> \"fmale.chroma\" on my response variable.\n> \n> So, I either plot the raw values (which is fine when there is a very\n> strong relationship) but what if I want to plot the effects from the\n> model?\n> \n> In this case I would usually plot the fitted values values against the raw\n> values of x... Is this the right approach?\n> \n> fit<-fitted(lm(n.day13~n.day1+ffemale.yell+fmale.yell+fmale.chroma,data=fsurv1))\n> \n> plot(fit~ffemale.yell)\n> \n> #make a dummy variable across the range of x\n> x<-seq(from=min(fsurv1$ffemale.yell),to=max(fsurv1$ffemale.yell), length=100)\n> \n> #get the coefficients and draw the line\n> co<-coef(lm(fit~ffemale.yell,data=fsurv1))\n> y<-(co[2]*x)+co[1]\n> lines(x,y, lwd=2)\n> \n> This often does the trick but for some reason, especially when my model\n> has many terms in it or when one of the independent variables is only\n> significant when the other independent variables are in the equation, it\n> gives me strange lines.\n> \n> Please can someone show me the light?\n\n  Have a close look at John Fox's effects package.  For example, the\nfollowing seems to be the kind of thing you want:\n\nfm <- lm(n.day13 ~ n.day1 + ffemale.yell + fmale.yell +\n                   fmale.chroma, data=fsurv1)\n\nlibrary(effects)\n\neff.fm <- effect(\"ffemale.yell\", fm)\n\nplot(eff.fm)\n\n> Thanks in advance,\n> \n> Simon.\n> \n> Simon Pickett\n> PhD student\n> Centre For Ecology and Conservation\n> Tremough Campus\n> University of Exeter in Cornwall\n> TR109EZ\n> Tel 01326371852\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code. \n\n-- \nChuck Cleland, Ph.D.\nNDRI, Inc.\n71 West 23rd Street, 8th floor\nNew York, NY 10010\ntel: (212) 845-4495 (Tu, Th)\ntel: (732) 512-0171 (M, W, F)\nfax: (917) 438-0894\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}