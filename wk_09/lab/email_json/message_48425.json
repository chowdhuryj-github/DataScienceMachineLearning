{"category": "ham", "to_address": "Andrew J Tyre <atyre2@unlnotes.unl.edu>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] converting character strings to numbers", "body": "There is no support for 'thousands separators' in R's input/conversion \nroutines, mainly because C has no support either (not even for output in \nthe C standard).  We could of course add our own layer, but as far as I am \naware this is the first time this has come up.\n\nOn Thu, 14 Jun 2007, Andrew J Tyre wrote:\n\n> I have a comma delimited text file in which many columns of numbers are\n> also quoted and have commas as well as decimals. I was surprised to find\n> read.csv() didn't import this seamlessly, even after messing around with\n> the colClasses argument. I did find a solution to convert the character\n> strings after reading them in, but wonder if there isn't a better one I\n> overlooked.\n>\n> test = c(\"10,522.5\",\"11,768.9\",\"11,354.3\")\n> as.numeric(test) # fails\n> as.numeric(gsub(\",\",\"\",test)) # works\n>\n> Any suggestions? Or is this as good as it gets? I'm not complaining ...\n> just curious!\n>\n> Drew Tyre\n>\n> School of Natural Resources\n> University of Nebraska-Lincoln\n> 416 Hardin Hall, East Campus\n> Lincoln, NE 68583-0974\n> phone: +1 402 472 4054 fax: +1 402 472 2946\n> email: atyre2@unl.edu\n> http://snr.unl.edu/tyre\n> \t[[alternative HTML version deleted]]\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}