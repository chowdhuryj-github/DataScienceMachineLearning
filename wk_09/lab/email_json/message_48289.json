{"category": "ham", "to_address": "Jason Kivlighn <jkivlighn@gmail.com>", "from_address": "Hubert Figuiere <hub@figuiere.net>", "subject": "Re: [cc-devel] XMP Embedding in TIFF, Bug?", "body": "Jason Kivlighn wrote:\n> Hi Hubert,\n> \n> I seem to have come across a bug in Adobe's code for embedding XMP in\n> the TIFF format.  The spec[1] says that the XMLPacket tag has type BYTE,\n> but Adobe assigns a type of UNDEFINED.  libtiff complains and is unable\n> to read the XMP when given the wrong type.\n> \n> In TIFF_Handler.cpp, changing\n> \n> this->tiffMgr.SetTag ( kTIFF_PrimaryIFD, kTIFF_XMP, kTIFF_UndefinedType,\n> this->xmpPacket.size(), this->xmpPacket.c_str() );\n> \n> to\n> \n> this->tiffMgr.SetTag ( kTIFF_PrimaryIFD, kTIFF_XMP, kTIFF_ByteType,\n> this->xmpPacket.size(), this->xmpPacket.c_str() );\n> \n> solves the problems I'm having.\n> \n> This should be passed on to Adobe.  Do you know who to contact to get\n> this fixed?\n\nNice patch. Will apply it.\n\nAs for sending the patches upstream, I have already a whole set\nincluding the one that allow building on Linux and the brings 64-bits\ncompatibility... (yes code written in 2007 still does not compile on\nplatform where sizeof(void*) != 4. I will add that one to the list.\n\nSo far I still have to hear from them. I have asked both to the PM and\nthe public forums who to send patches to, still have to get an answer....\n\n\nHub\n_______________________________________________\ncc-devel mailing list\ncc-devel@lists.ibiblio.org\nhttp://lists.ibiblio.org/mailman/listinfo/cc-devel\n\n"}