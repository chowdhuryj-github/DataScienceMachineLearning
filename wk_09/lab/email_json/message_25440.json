{"category": "ham", "to_address": "yaron@kahanovitch.com, sigzero@gmail.com", "from_address": "Jeff Pang <pangj@earthlink.net>", "subject": "Re: looping through a file", "body": "\n\n-----Original Message-----\n>From: yaron@kahanovitch.com\n>Sent: May 8, 2007 9:54 PM\n>To: sigzero@gmail.com\n>Cc: beginners@perl.org\n>Subject: Re: looping through a file\n\n>my @lines = <$AFILE>;\n>foreach my $prime_id ( @id_hits ) {\n>     foreach my $line( @lines ) {\n>         if ( $line =~ /$prime_id/ ) {\n>             print \"$line\\n\";\n>             next;\n\n'next' is not needed here.\n\nAlso the whole thing could be written as this simple but more efficient way,\n\nsub matching\n{\n    my @inits=@_;\n    my $eval=join \"||\", map { \"\\$_[0]=~m/\\$inits[$_]/o\" } 0 .. $#inits;\n    my $ref=eval \"sub { $eval }\";\n    die \"can't eval: $@\" if $@;\n    return $ref;\n} \n\nmy $match_ref=matching(@id_hits); \nwhile(<$FILE>) {\n    print if $match_ref->($_);\n}\n\nHope this helps.\n\n--\nmailto:pangj@earthlink.net\nhttp://home.arcor.de/jeffpang/\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}