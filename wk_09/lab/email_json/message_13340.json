{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Vladimir Eremeev <wl2776@gmail.com>", "subject": "Re: [R] automating merging operations from multiple dataframes", "body": "\nConsider sapply and get.\nThere might be something like the following (untested)\nfn<-function(l){  # l is supposed to be a letter. Errors will occurotherwise.\n#constructing names  dfr.name<-paste(toupper(l),\"INDSLIM\",sep=\"\")  column.name<-paste(tolower(l),\"region\",sep=\"\")\n#retrieving data from the environment  this.reg<-get(dfr.name)[,c(\"pid\",column.name)]\n#merging data frames.#please, note \"<<-\". This assigns the value to the variable in this functionenvironment's parent frame  PidRegion<<-merge(PidRegion,this.reg,by=\"pid\",all=TRUE) \n# this should help avoiding too much output  invisible(PidRegion)\n}\nPidRegion <- data.frame(pid=XWAVEID$pid)sapply(letters[1:14],FUN=fn)\n\n\nJon Minton wrote:> > Hi,> > I have a set of dataframes names AINDSLIM, BINDSLIM, CINDSLIM ... NINDSLIM> In each dataframe I want to extract two variables, \u201cpid\u201d and \u201c{w}region\u201d,> where {w} means \u201ca\u201d, \u201cb\u201d, \u201cc\u201d, ...\u201dn\u201d> At the moment my code looks like:>> PidRegion <- data.frame(pid=XWAVEID$pid)>> this.region <- AINDSLIM[,c(\"pid\", \"aregion\")]>> PidRegion <- merge(PidRegion, this.region, by=\"pid\", all=T)>> this.region <- BINDSLIM[,c(\"pid\", \"bregion\")]>> PidRegion <- merge(PidRegion, this.region, by=\"pid\", all=T)>> this.region <- CINDSLIM[,c(\"pid\", \"cregion\")]> ...>> this.region <- NINDSLIM[,c(\"pid\", \"nregion\")]>> PidRegion <- merge(PidRegion, this.region, by=\"pid\", all=T)> > But surely there\u2019s a way to automate this? > > Any suggestions?> Jon Minton> \n-- View this message in context: http://www.nabble.com/automating-merging-operations-from-multiple-dataframes-tf3630723.html#a10139026Sent from the R help mailing list archive at Nabble.com.\n______________________________________________R-help@stat.math.ethz.ch mailing listhttps://stat.ethz.ch/mailman/listinfo/r-helpPLEASE do read the posting guide http://www.R-project.org/posting-guide.htmland provide commented, minimal, self-contained, reproducible code.\n\n"}