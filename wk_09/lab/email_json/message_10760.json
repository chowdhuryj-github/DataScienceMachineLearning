{"category": "ham", "to_address": "\"Marco Visser\" <visser_md@yahoo.com>, <r-help@stat.math.ethz.ch>", "from_address": "\"ONKELINX, Thierry\" <Thierry.ONKELINX@inbo.be>", "subject": "Re: [R] Matrix or grid conversion of spatial data", "body": "Marco,\n\nI've done something similar with spatial data. I defined the points as\nSpatialPoints, the grid as SpatialGrid (using the \"sp\" package). Then\ntable(overlay(grid, points)) will give you the number of points inside\neach gridcell.\n\nlibrary(\"sp\")\npoints <- SpatialPoints(your.data.frame)\ncellsize <- 1\ncellcentre.offset <- bbox(points)[, 1]\ncoords.span <- diff(t(bbox(points)))\ncells.dim <- ceiling(coords.span / cellsize)\ngrid <- SpatialGrid(GridTopology(cellcentre.offset, rep(cellsize,\nnrow(bbox(points))), cells.dim))\nin.cell <- overlay(grid, points)\ntable(in.cell)\n\n\nCheers,\n\nThierry\n\nPS R-sig-geo is a better list to ask spatial releated questions.\n\n------------------------------------------------------------------------\n----\nir. Thierry Onkelinx\nInstituut voor natuur- en bosonderzoek / Reseach Institute for Nature\nand Forest\nCel biometrie, methodologie en kwaliteitszorg / Section biometrics,\nmethodology and quality assurance\nGaverstraat 4\n9500 Geraardsbergen\nBelgium\ntel. + 32 54/436 185\nThierry.Onkelinx@inbo.be\nwww.inbo.be \n\nDo not put your faith in what statistics say until you have carefully\nconsidered what they do not say.  ~William W. Watt\nA statistical analysis, properly conducted, is a delicate dissection of\nuncertainties, a surgery of suppositions. ~M.J.Moroney\n\n \n\n> -----Oorspronkelijk bericht-----\n> Van: r-help-bounces@stat.math.ethz.ch \n> [mailto:r-help-bounces@stat.math.ethz.ch] Namens Marco Visser\n> Verzonden: woensdag 18 april 2007 20:57\n> Aan: r-help@stat.math.ethz.ch\n> Onderwerp: [R] Matrix or grid conversion of spatial data\n> \n> Dear Happy R-users & experts,\n> \n> I am in need of advice,\n> While working with spatial data (x & y coordinates of seed \n> locations) I have come accross the problem that I need to \n> convert my point data into a matrix or grid system. I then \n> need to count how often a point falls into a certain position \n> in the matrix or grid. I have searched all day online, asked \n> collegeas but nothing works.\n> \n> Sadly my R \"box of tricks\" has run out.\n> \n> My (point) data looks like this;\n> \n> x         y\n> 2.3    4.5\n> 3.4      0.2\n> \n> and continues for another million records. \n> \n> Now my question; is there any function that is able to \n> \"count\" how often a point falls into a grid based on the x \n> and y location? So I need to discretize the spatial locations \n> to a regular grid and then counting how often  a point occurs.\n> \n> Many thanks for your thoughts on this problem.\n> \n> Marco Visser\n> \n> \n> \n> \n> \n> \n> \n> \n> \n> __________________________________________________\n> \n> \n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}