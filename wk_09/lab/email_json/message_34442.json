{"category": "ham", "to_address": "Benoit Chemineau <benoitchemineau@gmail.com>", "from_address": "Gavin Simpson <gavin.simpson@ucl.ac.uk>", "subject": "Re: [R] basic problem but can't solve it", "body": "On Tue, 2007-05-22 at 19:01 +0200, Benoit Chemineau wrote:\n> Hello,\n>    I have a basic problem but i can't figure it out with the\n> table underneath. I would like to compute monthly averages.\n>    I would like to have the average measure for month #5 for the first\n> three rows (the same number in the first three lines) and the average\n> measure for month #6 for the last four rows ((the same number in the first\n> three lines) in a separate vesctor (let's call it 'result')\n>    I tried to use a \"while\" statement inside a \"for\" loop but it doesn't\n> seem to work.\n>    Can someone please help me with this ?\n> \n>    Measure Month\n>    2.28 5\n>    14.04 5\n>    0.60 5\n>    0.21 6\n>    0.96 6\n>    0.75 6\n>    1.28 6\n\nIf dat is a data frame containing your data:\n\n> dat\n  Measure Month\n1    2.28     5\n2   14.04     5\n3    0.60     5\n4    0.21     6\n5    0.96     6\n6    0.75     6\n7    1.28     6\n\n> aggregate(dat$Measure, by = list(Month = dat$Month), mean)\n  Month    x\n1     5 5.64\n2     6 0.80\n\n> tapply(dat$Measure, dat$Month, mean)\n   5    6\n5.64 0.80\n\nsee ?aggregate and ?tapply for two solutions. The tapply one seems\ncleaner and easier to get the vector you need, the aggregate version\nneeds an extra step:\n\naggregate(dat$Measure, by = list(Month = dat$Month), mean)$x\n                                                          ^^\nNote the $x at the end to subset the object returned by aggregate\n\nHTH\n\nG\n\n-- \n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n Gavin Simpson                 [t] +44 (0)20 7679 0522\n ECRC, UCL Geography,          [f] +44 (0)20 7679 0565\n Pearson Building,             [e] gavin.simpsonATNOSPAMucl.ac.uk\n Gower Street, London          [w] http://www.ucl.ac.uk/~ucfagls/\n UK. WC1E 6BT.                 [w] http://www.freshwaters.org.uk\n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}