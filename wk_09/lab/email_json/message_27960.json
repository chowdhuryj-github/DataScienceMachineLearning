{"category": "ham", "to_address": "\"Pedro Mardones\" <mardones.p@gmail.com>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] how to get column/row info from a dist object?", "body": "On 5/11/07, Pedro Mardones  wrote:\n> Dear R users;\n>\n> Is it possible to get the row and column number of a particular entry\n> in a dist object?\n>\n> Let's say that I want to find the position of the value 1.1837 (the\n> last entry on the dist object below), that is [6,3]. Can I get those\n> values without transforming the object to a matrix?, i.e. working with\n> the dist object only.\n>\n>            1                2               3\n> 2  0.23935864\n> 3  0.56655914 0.71923104\n> 4  0.15272561 0.37926989 0.43931332\n> 5  0.17728654 0.13355685 0.73025495\n> 6  0.61783536 0.52055379 1.18374889\n>\n> Thanks for any idea\n> PM\n\nTry this.\n\nrow.col <- function(dd, value) {\n\tif (length(value) == 1) {\n\t\tg <- grep(value, dd)\n\t\tN <- attr(dd, \"Size\")\n\t\tidx <- cumsum(seq(N-1, 1))\n\t\tic <- sum(g > idx) + 1\n\t\tir <- g - c(0,idx)[ic] + ic\n\t\tc(row = ir, col = ic)\n\t} else sapply(value, row.col, dd = dd)\n}\n\n# test\nset.seed(1)\nx <- matrix(rnorm(100), nrow=5)\ndd <- dist(x)\ndd\ndd[7]\nrow.col(dd, dd[7])\nrow.col(dd, unlist(dd))\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}