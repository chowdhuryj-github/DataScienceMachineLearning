{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Nigel Peck <nigel@miswebdesign.com>", "subject": "New to OO Perl", "body": "\nHi all,\n\nI'm new to writing Object Oriented Perl and am hoping for some advice?\n\nI found the need to use Image::Magick tonight and in order to reuse the \ncode in future I put it in a package of subs.\n\nI then thought it seemed like a good opportunity to try writing an OO \nmodule so I did.\n\nHowever I'm not sure that I couldn't do it better by making use of \ninheritance although I'm not sure how to do it and also looking for any \nother suggestions.\n\nA cut down version of my code goes like this...\n\n=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Carp;\n\nmy $error;\nmy $obj_image;\n\nmy $obj_image = MIS::Common::Image_magick->new( { path => \n'/home/nigel/scripts/taylor1.jpg' } );\n\t\n$obj_image->resize ( { geometry => '360' } );\n$obj_image->crop ( { geometry => '360x480' } );\n\t\n$obj_image->output ( { path => \n'/home/nigel/scripts/taylor/thumbnail.jpg' } );\n\n######################################################################\n\npackage MIS::Common::Image_magick;\n\nuse Image::Magick;\n\nsub new {\n\t\n\tmy ( $class, $data ) = @_;\n\t\n\t$data->{image_magick_object} = Image::Magick::new();\n\t\n\tmy $error = $data->{image_magick_object}->Read( $data->{path} );\n\tcroak $error if $error;\n\t\n\treturn bless $data, $class;\n\t\n}\n\nsub output {\n\t\n\tmy ( $self, $args ) = @_;\n\t\n\tmy $error = $self->{image_magick_object}->Write( $args->{path} );\n\tcroak $error if $error;\n\t\n}\n\nsub resize {\n\t\n\tmy ( $self, $args ) = @_;\n\t\n\t$error = $self->{image_magick_object}->Resize( geometry => \n$args->{geometry} );\n\tcroak $error if $error;\n\t\n}\n\nsub crop {\n\t\n\tmy ( $self, $args ) = @_;\n\t\n\t$error = $self->{image_magick_object}->Crop( geometry => \n$args->{geometry} );\n\tcroak $error if $error;\n\t\n}\n=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=\n\nWhat could I do better?\n\nTIA.\n\nCheers,\nNigel\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}