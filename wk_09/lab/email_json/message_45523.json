{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Shiazy Fuzzy\" <shiazy@gmail.com>", "subject": "[R] What ECDF function?", "body": "Hello!\n\nI want to plot a P-P plot. So I've implemented this function:\n\nppplot <- function(x,dist,...)\n{\n  pdf <- get(paste(\"p\",dist,sep=\"\"),mode=\"function\");\n  x <- sort(x);\n  plot( pdf(x,...),  ecdf(x)(x));\n}\n\nI have two questions:\n1. Is it right to draw as reference line the following:\n\n    xx <- pdf(x,...);\n    yy <- ecdf(x)(x);\n    l <- lm(  yy ~ xx )\n    abline( l$coefficients );\n\n  or what else is better?\n\n2.I found various version of P-P plot  where instead of using the\n\"ecdf\" function use ((1:n)-0.5)/n\n  After investigation I found there're different definition of ECDF\n(note \"i\" is the rank):\n  * Kaplan-Meier: i/n\n  * modified Kaplan-Meier: (i-0.5)/n\n  * Median Rank: (i-0.3)/(n+0.4)\n  * Herd Johnson i/(n+1)\n  * ...\n  Furthermore, similar expressions are used by \"ppoints\".\n  So,\n  2.1 For P-P plot, what shall I use?\n  2.2 In general why should I prefer one kind of CDF over another one?\n\n  (Note: this issue might also apply to Q-Q plot, infact qqnorm use\nppoints instead of ecdf)\n\nThank you very much!!\n\nSincerely,\n\n-- Marco\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}