{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Vadim Ogranovich <vogranovich@jumptrading.com>", "subject": "[R] convert text to exprission good for lm arguments", "body": "Hi, \n\nI ran into a problem of converting a text representation of an expression into parsed expression to be further evaluated inside lm (). \n\n> n <- 100 \n> data <- data.frame(x= rnorm (n), y= rnorm (n)) \n> data. lm <- lm (y ~ x, data=data) \n> \n> ## this works \n> update(data. lm , subset=x<0) \n\nCall: \nlm (formula = y ~ x, data = data, subset = x < 0) \n\nCoefficients: \n(Intercept) x \n-0.07864094193322170023 -0.14596982635007796358 \n\n> \n> ## this doesn't work \n> ## text representation of subset \n> subset <- \"x<0\" \n> update(data. lm , subset=parse(text=subset)) \nError in `[.data.frame`(list(y = c(-0.601925958140825, -0.111931189071517, : \ninvalid subscript type \n\nWhat is the correct way to convert \"x<0\" into a valid subset argument? \n\nThanks, \nVadim \n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}