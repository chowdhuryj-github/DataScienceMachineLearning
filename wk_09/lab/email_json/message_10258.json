{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "\"Taj Khattra\" <taj.khattra@gmail.com>", "subject": "typo in tdb_firstkey?", "body": "hi,\n\nre: samba-4_0 revision r22117\n\nshould the F_RDLCK in tdb_firstkey():\n\n    tdb->travlocks.lock_rw = F_RDLCK;\n\nbe F_WRLCK - the subsequent unlock in firstkey, and the lock/unlock in\nnextkey all use F_WRLCK?\n\nin any case, i was wondering why we take a write-lock on a hash chain\nin firstkey/nextkey instead of a read-lock?  (it's only held briefly,\nso i don't know if it matters in practice)\n\nthanks.\n\n"}