{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "Guenther Deschner <gd@samba.org>", "subject": "Re: svn commit: samba r23072 - in\n branches/SAMBA_3_0/source/nsswitch: .", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nHey Michael,\n\nobnox@samba.org wrote:\n> +/* If you are looking for \"dn_lookup\": Yes, it used to be here!\n> + * It has gone now since it was a major speed bottleneck in\n> + * lookup_groupmem (its only use). It has been replaced by\n> + * an rpc lookup sids call... R.I.P. */\n\nnice comment :-)\n\n\n> -\t\tif (lookup_cached_sid(mem_ctx, &sid, &domain_name, &name, &name_type)) {\n> -\n> -\t\t\tDEBUG(10,(\"ads: lookup_groupmem: got sid %s from cache\\n\", \n> -\t\t\t\tsid_string_static(&sid)));\n> -\n> -\t\t\t(*names)[*num_names] = CONST_DISCARD(char *,name);\n> -\t\t\t(*name_types)[*num_names] = name_type;\n> -\t\t\tsid_copy(&(*sid_mem)[*num_names], &sid);\n> -\n\nHm, what was the reason the remove the frontend cache for lookups that\nwe already have done and go out to the network with every query?\n\nGuenther\n\n- --\nG\u00fcnther Deschner                    GPG-ID: 8EE11688\nRed Hat                         gdeschner@redhat.com\nSamba Team                              gd@samba.org\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.7 (GNU/Linux)\nComment: Using GnuPG with Fedora - http://enigmail.mozdev.org\n\niD8DBQFGUw3mSOk3aI7hFogRAt5mAJ99MQ+6XUMFYKZIk2MkYNnnEBbBsQCeOcWp\nr67jleG9HfS/EGCQFDkuPKs=\n=+CJb\n-----END PGP SIGNATURE-----\n\n"}