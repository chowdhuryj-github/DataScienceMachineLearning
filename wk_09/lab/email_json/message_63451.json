{"category": "ham", "to_address": "\"Ravi Varadhan\" <rvaradhan@jhmi.edu>, <r-help@stat.math.ethz.ch>", "from_address": "\"James Foadi\" <james.foadi@diamond.ac.uk>", "subject": "Re: [R] unexpected result in function valuation", "body": "----- Original Message ----- \nFrom: \"Ravi Varadhan\" \nTo: \"'James Foadi'\" ; \nSent: Thursday, July 05, 2007 9:37 PM\nSubject: RE: [R] unexpected result in function valuation\n\n\n> The problem is that you are dividing two numbers that are both very small.\n> Any small imprecision in the denominator creates a big error.\n>\n> Here you can re-write your function using a trig identity to get accurate\n> results:\n>\n> sinca <- function(N,th) {\n> #return(sin((N+0.5)* th)/sin(0.5*th))\n> return( (sin(N*th)/tan(th/2)) + cos(N*th))\n> }\n>\n> This function works well, as you had expected.\n>\n> Ravi.\n>\n\nRounding off errors and error propagation...\nI forgot all about it...Sorry for wasting your time, but thanks a lot for \nyour help, Brian, Jim and Ravi.\n\nJ\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}