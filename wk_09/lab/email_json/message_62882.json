{"category": "ham", "to_address": "Giuseppe PEDRAZZI <pedrazzi@unipr.it>", "from_address": "Thomas Lumley <tlumley@u.washington.edu>", "subject": "Re: [R] Is it a bug ?", "body": "On Thu, 5 Jul 2007, Giuseppe PEDRAZZI wrote:\n> I am using R 2.5.0,  windows XP - italian language.\n>\n> I was perfoming some calculation on fractional exponential and\n> I found a strange behaviour. I do not know if it is really a bug, but I would expect\n> a different answer from R.\n>\n> I was trying the following :\n>\n> x <- seq(-3,3, by =0.1)\n> n <- 2.2\n> y <- exp(-x^n)\n>\n> well, the y vector contains (NaN for all negative value of x)\n\nYes. Non-integer powers of negative numbers are undefined (unless you use \ncomplex numbers).\n\n> but if you ask for single value calculation like\n>\n> y <- exp(-(-3)^2.2) or\n>\n> y <- exp(-(-2.9)^2.2)\n>\n> the answer is correct.\n\nI get NaN for both of these.  Perhaps you mean exp(-2.9^2.2)? This gives \na valid answer, but that is because it is exp(-(2.9^2.2)) not \nexp((-2.9)^2.2)\n\n> It seem it does not make the calculation in vector form.\n>\n> I got the same behaviour (NaN)  in a for loop\n>\n>> for(i in 1:length(x)) y[i]=exp(x[i]^n)\n>> y\n> [1]           NaN          NaN          NaN          NaN          NaN          NaN          NaN          NaN          NaN\n> [10]          NaN          NaN          NaN          NaN          NaN          NaN          NaN          NaN          NaN\n> [19]          NaN          NaN          NaN          NaN          NaN          NaN          NaN          NaN          NaN\n> [28]          NaN          NaN          NaN     1.000000     1.006330     1.029416     1.073302     1.142488     1.243137\n> [37]     1.384082     1.578166     1.844237     2.210260     2.718282     3.432491     4.452553     5.936068     8.137120\n> [46]    11.473746    16.648415    24.867680    38.251295    60.611092    98.967689   166.572985   289.077778   517.425935\n> [55]   955.487320  1820.793570  3581.521323  7273.674928 15255.446778 33050.861013 73982.100407\n>>\n>\n> Is it strange or did I miss something ?\n\nYou missed something. It is not clear what you missed because some of your \nexamples do not give the answer you say they give.\n\n \t-thomas\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}