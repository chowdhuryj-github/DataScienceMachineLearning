{"category": "ham", "to_address": "<ngottlieb@marinercapital.com>, <R-help@stat.math.ethz.ch>", "from_address": "\"AA\" <aa2007r@gmail.com>", "subject": "Re: [R] Formatted Data File Question for Clustering -Quickie Project", "body": "if you look at\nthe data USArrests by doing\n> data(USArrets)\n> USArrets\nyou will see that it is a data.frame.\nso by analogy you could do the following:\nProbably you have this data in Excel (I guess from the format in your mail).\nHave the data in a sheet as:\n\n            converts    shortBais ....\n19940131  0.004       -0.0016\n19940228  .......................\n\nsave this sheet as tab limited txt file.\nthen use\nmydata <- read.table(\"yourdata.txt\")\nnow you can use the data.frame mydata in the cluster analysis.\nI would suggest you read the intro to R.\nYou can also use\nread.csv see\n?read.table\nfor more info, read R import/export on\nhttp://finzi.psych.upenn.edu/R/doc/manual/R-data.html\n\ngood luck.\nAA.\n----- Original Message ----- \nFrom: \nTo: \nSent: Wednesday, June 13, 2007 11:46 AM\nSubject: [R] Formatted Data File Question for Clustering -Quickie Project\n\n\n>I am trying to learn how to format Ascii data files for scan or read\n> into R.\n>\n> Precisely for a quickie project, I found some code (at end of this\n> email) to do exactly what I need:\n> To cluster and graph a dendrogram from package (stats).\n>\n> I am stuck on how to format a text file to run the script.\n> I looked at the dataset USArrests (which would be replaced by my data\n> and labels) using UltraEdit. That data appears to be in binary format\n> and I would simply like a readable ASCII text file.\n>\n> How can I:\n> A) format this data to a file for the script below?\n> B) I would like to use squared Euclidean distance, can hclust support\n> this?\n>\n> Thanks,\n> Neil Gottlieb\n>\n> Here is sub-set example of my data set, return series to cluster: 13\n> cases by 36 observations):\n> Month   Convertible Arbitrage   Dedicated Short Bias   Emerging\n> Markets\n> 1/31/1994 0.004 -0.016 0.105\n> 2/28/1994 0.002 0.020 -0.011\n> 3/31/1994 -0.010 0.072 -0.046\n> 4/30/1994 -0.025 0.013 -0.084\n> 5/31/1994 -0.010 0.023 -0.007\n> 6/30/1994 0.002 0.064 0.005\n> 7/31/1994 0.001 -0.012 0.058\n> 8/31/1994 0.000 -0.057 0.164\n> 9/30/1994 -0.012 0.016 0.052\n> 10/31/1994 -0.014 -0.004 -0.035\n> 11/30/1994 -0.002 0.030 -0.014\n> 12/31/1994 -0.019 -0.002 -0.042\n> 1/31/1995 -0.006 0.013 -0.100\n> 2/28/1995 0.012 -0.022 -0.079\n> 3/31/1995 0.013 0.004 -0.055\n> 4/30/1995 0.023 -0.004 0.073\n> 5/31/1995 0.017 -0.013 0.013\n> 6/30/1995 0.019 -0.069 0.008\n> 7/31/1995 0.009 -0.059 0.022\n> 8/31/1995 0.008 0.008 0.010\n> 9/30/1995 0.011 -0.029 0.019\n> 10/31/1995 0.013 0.064 -0.057\n> 11/30/1995 0.023 -0.010 -0.031\n> 12/31/1995 0.014 0.049 0.007\n> 1/31/1996 0.021 0.006 0.079\n> 2/29/1996 0.012 -0.056 -0.006\n> 3/31/1996 0.015 -0.009 -0.009\n> 4/30/1996 0.013 -0.066 0.051\n> 5/31/1996 0.016 0.000 0.045\n> 6/30/1996 0.015 0.051 0.054\n> 7/31/1996 0.014 0.098 -0.027\n> 8/31/1996 0.013 -0.034 0.036\n> 9/30/1996 0.011 -0.059 0.016\n> 10/31/1996 0.014 0.043 0.017\n> 11/30/1996 0.014 -0.029 0.026\n>\n> Code Example from Help files:\n> hc <- hclust(dist(USArrests), \"ave\")\n> (dend1 <- as.dendrogram(hc)) # \"print()\" method\n> str(dend1)          # \"str()\" method\n> str(dend1, max = 2) # only the first two sub-levels\n>\n> op <- par(mfrow= c(2,2), mar = c(5,2,1,4))\n> plot(dend1)\n> ## \"triangle\" type and show inner nodes:\n> plot(dend1, nodePar=list(pch = c(1,NA), cex=0.8, lab.cex = 0.8),\n>      type = \"t\", center=TRUE)\n> plot(dend1, edgePar=list(col = 1:2, lty = 2:3), dLeaf=1, edge.root =\n> TRUE)\n> plot(dend1, nodePar=list(pch = 2:1,cex=.4*2:1, col = 2:3), horiz=TRUE)\n>\n> dend2 <- cut(dend1, h=70)\n> plot(dend2$upper)\n> ## leafs are wrong horizontally:\n> plot(dend2$upper, nodePar=list(pch = c(1,7), col = 2:1))\n> ##  dend2$lower is *NOT* a dendrogram, but a list of .. :\n> plot(dend2$lower[[3]], nodePar=list(col=4), horiz = TRUE, type = \"tr\")\n> ## \"inner\" and \"leaf\" edges in different type & color :\n> plot(dend2$lower[[2]], nodePar=list(col=1),# non empty list\n>     edgePar = list(lty=1:2, col=2:1), edge.root=TRUE)\n> par(op)\n> str(d3 <- dend2$lower[[2]][[2]][[1]])\n>\n> nP <- list(col=3:2, cex=c(2.0, 0.75), pch= 21:22, bg= c(\"light blue\",\n> \"pink\"),\n>           lab.cex = 0.75, lab.col = \"tomato\")\n> plot(d3, nodePar= nP, edgePar = list(col=\"gray\", lwd=2), horiz = TRUE)\n> addE <- function(n) {\n>      if(!is.leaf(n)) {\n>        attr(n, \"edgePar\") <- list(p.col=\"plum\")\n>        attr(n, \"edgetext\") <- paste(attr(n,\"members\"),\"members\")\n>      }\n>      n\n> }\n> d3e <- dendrapply(d3, addE)\n> plot(d3e, nodePar= nP)\n> plot(d3e, nodePar= nP, leaflab = \"textlike\")\n> --------------------------------------------------------\n>\n>\n>\n> This information is being sent at the recipient's request or...{{dropped}}\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}