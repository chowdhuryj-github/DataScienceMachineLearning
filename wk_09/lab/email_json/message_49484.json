{"category": "ham", "to_address": "beginners@perl.org", "from_address": "shadkeene@hotmail.com", "subject": "Problems referencing variable value in another loop", "body": "Hi,\nI was able to parse different data in the same loop...however, now I'd\nlike to extract data from two files, using two while loops after\nopening each .txt file...then do arithmetic with the data I\nextracted...all in the same script. The problem is that when I\nreference a variable in the second while loop that I initialized in\nthe first while loop, the script doesn't recognize it. To be more\nclear, there is a number value for $SLPdataSFO[6] that I extracted in\nthe first while loop, and I'd like to subtract that value from\n$SLPdataSAC[6], which I extracted in the second while loop. I tried to\nmake it a global variable at the beginning by using \"our @SLPdataSFO =\n();\" to make it a global variable, but no luck there. Any ideas?\nThanks for your help....the error I receive is as follows with the\nscript after that.\nShad\n\n\nGlobal symbol \"@SLPdataSFO\" requires explicit package name at c:\\perl-\nscripts\\BarkerRegParser.cgi line 54.\nExecution of c:\\perl-scripts\\BarkerRegParser.cgi aborted due to\ncompilation errors.\n\n\n#!/perl/bin/perl -w\nuse CGI qw(:standard);\nuse CGI::Carp qw(warningsToBrowser fatalsToBrowser);\nuse Fcntl qw(:flock :seek);\nuse strict;\n\nprint header;\nprint start_html(\"Gradients\");\n\nopen(FH, \"C:/perl-scripts/Data/BarkerSFOtest.txt\") #open barker SFO\nextrapolated NAM data .txt file\nor &dienice(\"couldn't open output file: $!\");\n\nprint \"PW\";\n\nwhile (my $line = ) { #reads through each line of model data\n\nif ($line =~ m/^ Mean/) { #finds line with sealevel pressure\nprint \"$line\";\nmy $SFOdataSLP = $line; #places $line into new string called $data SLP\nmy @SLPdataSFO = split(/\\s+/, $SFOdataSLP); #splits $data SLP string\ninto individual elements between whitespace\nprint \"$SLPdataSFO[6]\";\nprint \"$SLPdataSFO[4]\";\nmy $SLPchgSFO = $SLPdataSFO[6] -= $SLPdataSFO[4]; #subtracts 12hr SLP\nfrom 0hr SLP\nprint \"$SLPchgSFO\";\nmy $roundf = sprintf(\"%1.1f\", $SLPchgSFO);\nprint \"$roundf\";\n}\n\nelsif ($line =~ m/^ Precip/) { #if line isn't Precip Water line, then\nwill skip to next line\nprint \"$line\";\nmy $dataPW = $line;\nmy @PWdata = split(/\\s+/, $dataPW);\nprint \"$PWdata[6]\";\n}\n}\nclose (FH);\n\nopen(FH, \"C:/perl-scripts/Data/BarkerSACtest.txt\") #open barker SFO\nextrapolated NAM data .txt file\nor &dienice(\"couldn't open output file: $!\");\n\nwhile (my $line = ) { #reads through each line of model data\n\nif ($line =~ m/^ Mean/) { #finds line with mean sealevel pressure\nprint \"$line\";\nmy $SACdataSLP = $line; #places $line into new string called\n$SACdataSLP\nmy @SLPdataSAC = split(/\\s+/, $SACdataSLP); #splits $SACdataSLP string\ninto individual elements between whitespace\nmy $SACSFOgrad12 = $SLPdataSFO[6] -= $SLPdataSAC[6]; #subtracts SFO\nfrom SAC 12-hr fcst sealevel pressure\nprint \"$SACSFOgrad12\";\n}\n}\n\nclose (FH);\nprint end_html;\n\nsub dienice {\nmy($errmsg) = @_;\nprint \"Error\\n\";\nprint \"$errmsg\\n\";\nprint end_html;\nexit;\n}\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}