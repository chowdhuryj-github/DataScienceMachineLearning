{"category": "ham", "to_address": "Zack Weinberg <zack@cogsci.ucsd.edu>", "from_address": "Thomas Lumley <tlumley@u.washington.edu>", "subject": "Re: [R] Scoped options setting?", "body": "On Wed, 16 May 2007, Zack Weinberg wrote:\n\n> Is there any way to set options during the evaluation of a particular\n> expression, with them automatically reset when control leaves that\n> expression, however that happens?  Kind of like \"let\" on a \"special\"\n> variable does in Lisp.  I naively tried\n>\n\nYou could write with_options() as\n\nwith_options <-function(optionlist, expr){\n        oldoptions<-options(optionlist)\n        on.exit(options(oldoptions))\n        eval(substitute(expr), parent.frame())\n}\n\nand then do\n   with_options(list(warn=-1),  whatever)\n\n \t-thomas\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}