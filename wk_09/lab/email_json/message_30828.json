{"category": "ham", "to_address": "Spielas Bates <bates@stat.wisc.edu>, Steven McKinney <smckinney@bccrc.ca>", "from_address": "Iasonas Lamprianou <lamprianou@yahoo.com>", "subject": "Re: [R] lmer function", "body": "Dear all, \nthe question was if lmer can estimate the variance components correctly, although my design is very UNbalanced.\nAlso, how do I find the percentage of the variance from every component? Do I have to add all the varianc components and then divide each one by the total?\n\nThanks\n\nP.S. lmer is excellent. It can estimate large datasets where SPSS gives me error messages and says it cannot estimate them. Keep on good work friends!!!!!\nJason\n \nDr. Iasonas Lamprianou\nDepartment of Education\nThe University of Manchester\nOxford Road, Manchester M13 9PL, UK\nTel. 0044 161 275 3485\niasonas.lamprianou@manchester.ac.uk\n\n\n\n----- Original Message ----\nFrom: Spielas Bates \nTo: Steven McKinney \nCc: Iasonas Lamprianou ; r-help@stat.math.ethz.ch\nSent: Tuesday, 15 May, 2007 2:17:34 AM\nSubject: Re: [R] lmer function\n\n\nOn 5/14/07, Steven McKinney  wrote:\n>\n> Running lme4 0.9975-13\n> I'm still getting the warning\n>\n>  $ operator not defined for this S4 class, returning NULL in: x$symbolic.cor\n\nIt was my mistake.  I fixed the problem in the development sources\nlong ago but I haven't uploaded a new release since doing so.   I'll\nupload a new release next week - this is finals week for us and they\nseem to expect that we will do things like grade exams rather than\ndebugging code. :-)\n\n> Is there a more recent version?\n> Is there any known problem with this warning\n> (incorrect results etc.) ?\n\nNot really.  It is a benign cut-and-paste error.  If you want to fix\nit now look for the function printMer in the source file lme4/R/lmer.R\nand change the default for the symbolic.cor argument to FALSE.\n\n> > sessionInfo()\n> R version 2.5.0 (2007-04-23)\n> powerpc-apple-darwin8.9.1\n>\n> locale:\n> C\n>\n> attached base packages:\n> [1] \"stats\"     \"graphics\"  \"grDevices\" \"utils\"     \"datasets\"  \"methods\"\n> [7] \"base\"\n>\n> other attached packages:\n>        lme4      Matrix     lattice\n> \"0.9975-13\" \"0.9975-11\"    \"0.15-4\"\n> >\n>\n> Steven McKinney\n>\n> Statistician\n> Molecular Oncology and Breast Cancer Program\n> British Columbia Cancer Research Centre\n>\n> email: smckinney@bccrc.ca\n>\n> tel: 604-675-8000 x7561\n>\n> BCCRC\n> Molecular Oncology\n> 675 West 10th Ave, Floor 4\n> Vancouver B.C.\n> V5Z 1L3\n> Canada\n>\n>\n>\n>\n> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch on behalf of Spielas Bates\n> Sent: Mon 5/14/2007 12:43 PM\n> To: Iasonas Lamprianou\n> Cc: r-help@stat.math.ethz.ch\n> Subject: Re: [R] lmer function\n>\n> On 5/14/07, Iasonas Lamprianou  wrote:\n> > Does anyone know if the lmer function of lme4 works fine for unbalanced designs? I have the examination results of 1000 pupils on three subjects, one score every term. So, I have three scores for English (one for every term), three scores for maths etc. However, not everybody was examined in maths, not everybody was examined in English etc, but everybody was in effect examined on four subjects. I also have information abouit the school. Would this model hive the right results for the variance components?\n> >\n> > mod_3_f  <- lmer(SCORE ~ GENDER + (1 |ID ) + (1 | TERM) + (1 | SUBJECT)  , Dataset)\n> >\n> > Linear mixed-effects model fit by REML\n> > Formula: SCORE ~ GENDER + (1 | ID) + (1 | TERM) + (1 | SUBJECT)\n> >    Data: Dataset\n> >     AIC    BIC  logLik MLdeviance REMLdeviance\n> >  247882 247926 -123936     247871       247872\n> > Random effects:\n> >  Groups   Name        Variance Std.Dev.\n> >  ID       (Intercept) 5.97288  2.44395\n> >  TERM     (Intercept) 5.10307  2.25900\n> >  SUBJECT  (Intercept) 0.25943  0.50934\n> >  Residual             4.41673  2.10160\n> > number of obs: 53978, groups: ID, 5695; TERM, 4; SUBJECT, 4\n> > Fixed effects:\n> >                Estimate Std. Error t value\n> > (Intercept)    14.30352    1.15870   12.34\n> > GENDER[T.Male] -1.01776    0.06885  -14.78\n> > Correlation of Fixed Effects:\n> > Warning in x$symbolic.cor : $ operator not defined for this S4 class, returning NULL\n>\n> What version of the lme4 package are you using?  (Use sessionInfo() to\n> check.)  I think the bug that causes that warning has been fixed in\n> the most recent version.\n>\n> >             (Intr)\n> > GENDER[T.M] -0.023\n>\n> > How do I interpert the results?\n>\n> Do you really want to treat SUBJECT as a random effect?  I think it\n> would be more common to treat it as a fixed effect.  If I understand\n> you correctly there are only two levels of SUBJECT and these are\n> repeatable levels. If that is the case one could model SUBJECT as a\n> fixed effect or consider its interaction within student with the term\n> (SUBJECT|ID).\n>\n> It would make sense to regard the pair of responses in maths and\n> English for each student in each term as a multivariate response but,\n> at present, that model cannot be fit with lmer.\n>\n> I would also question whether you want the TERM to be modeled with a\n> random effect.\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n>\n\n\n      ___________________________________________________________\n\nnow.\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}