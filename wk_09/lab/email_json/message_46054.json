{"category": "ham", "to_address": "\"Perl List\" <beginners@perl.org>", "from_address": "\"Beginner\" <dermot@sciencephoto.co.uk>", "subject": "Re: Using SOAP::Lite ", "body": "Going to top post because I am not referring to your code Mike as I \nam not experienced enough to help directly.\n\nHave you tried the +trace switch?\n\nuse SOAP::Lite +trace;\n\nAlso there is the yahoo group to try. Sorry if I am stating the \nobvious.\n\nThanx,\nDp.\n\n\nOn 8 Jun 2007 at 12:02, Mike Blezien wrote:\n\n> Hello,\n> \n> I appologize for the long posting, but  was hoping to get some feedback as to \n> what we are doing wrong. We are trying to integrate with a XML Gateway that uses \n> SOAP. This our first time at trying to use SOAP w/Perl and not having alot of \n> luck. Below is the code snip and Request/Response structures used by the \n> gateway. If you have experience with using SOAP and Perl, I'd really appreciate \n> your assistance. If there is a better way to do this, please contact me directly \n> off the list and be happy to discuss hiring you to put this together correctly.\n> \n> #####################################################################################\n> # CODE SNIP\n> my $soap = SOAP::Lite\n>     -> uri('https://www.edentifyservices.com/')\n>     -> proxy('https://www.edentifyservices.com/XMLGateway/Request.asmx')\n>     -> on_action( sub { return 'http://tempuri.org/ProcessRequest' });\n> \n> # Format the SOAP envelope\n> my $method = SOAP::Data->name('ProcessRequest')->attr({xmlns \n> =>'http://tempuri.org/'});\n> \n> # Format the SOAP body\n> my $query = SOAP::Data->name(ProcessRequest => SOAP::Data->value(\n>  SOAP::Data->name(ServiceName=>'idalert'),\n>  SOAP::Data->name(XMLRequest=>'XMLRequestLine'), # THIS LINE PRODUCES SOAP ERROR\n>  SOAP::Data->name(Userid=>'USERID'}),\n>  SOAP::Data->name(password=>'PWD'),\n>  SOAP::Data->name(Options=>'OPTIONS'))\n>  );\n> \n> # Query the web service\n> my $result = $soap->call($method => $query);\n> \n> print $cgi->header();\n> \n> if($result->fault)\n>  {\n>     print \"Edentify Web Service Failed!\\n\";\n>     print join ', \n> ',$result->faultcode,$result->faultstring,$result->faultdetail;\n>  }\n> else\n>  {\n>   # Print out the results one by one\n>   print \"ResponseType = \" . \n> $result->valueof('//ProcessRequestResponse/ProcessRequestResult/EdentifyResponse/responsetype') \n> . \"\";\n>   print \"Code = \" . \n> $result->valueof('//ProcessRequestResponse/ProcessRequestResult/EdentifyResponse/code') \n> . \"\";\n>   print \"Message = \" . \n> $result->valueof('//ProcessRequestResponse/ProcessRequestResult/EdentifyResponse/message') \n> . \"\";\n>   print \"TransID = \" . \n> $result->valueof('//ProcessRequestResponse/ProcessRequestResult/EdentifyResponse/transactionid') \n> . \"\";\n>   # NO RESULTS RETURNED.\n>  }\n> # END CODE SNIP\n> \n> #################################################################################\n> # XMLRequest format for above XMLRequest:\n> XMLRequestLine=USERNAME\n> FNAMEMNAMELNAME\n> SUFFIX\n> IDSSNBDAY\n> ADDR1ADDR2CITY\n> STATEZIP\n> \n> ################################################################################\n> # SOAP REQUEST/RESPONSE STRUCTURES\n> ################################################################################\n> # REQUEST\n> POST /XMLGateway/Request.asmx HTTP/1.1\n> Host: www.edentifyservices.com\n> Content-Type: text/xml; charset=utf-8\n> Content-Length: length\n> SOAPAction: \"http://tempuri.org/ProcessRequest\"\n> \n> \n>  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n> xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n>   \n>     \n>       string\n>       string\n>       string\n>       string\n>       string\n>     \n>   \n> \n> ###############################################################################\n> RESPONSE\n> HTTP/1.1 200 OK\n> Content-Type: text/xml; charset=utf-8\n> Content-Length: length\n> \n> \n>  xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" \n> xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\">\n>   \n>     \n>       string\n>     \n>   \n> \n> #############################################################################\n> \n> \n> Mike(mickalo)Blezien\n> ===============================\n> Thunder Rain Internet Publishing\n> =============================== \n> \n> -- \n> To unsubscribe, e-mail: beginners-unsubscribe@perl.org\n> For additional commands, e-mail: beginners-help@perl.org\n> http://learn.perl.org/\n> \n> \n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}