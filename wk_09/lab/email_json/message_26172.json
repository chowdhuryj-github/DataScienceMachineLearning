{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "Yannick Bergeron <Yannick.Bergeron@USherbrooke.ca>", "subject": "3.0.25rc3 coredump on AIX 5.3", "body": "I'm having a coredump at a drive reconnection. I can reproduce it anytime and\nit's not happening on AIX 5.2\n\naix version: 5300-05-05\ncompiler: IBM XL C/C++ 8.0.0.13\n\npart of the samba log file in log level 10\n\n[2007/05/08 11:22:05, 3] smbd/sec_ctx.c:pop_sec_ctx(356)\n  pop_sec_ctx (0, 0) - sec_ctx_stack_ndx = 0\n[2007/05/08 11:22:05, 3] smbd/sec_ctx.c:push_sec_ctx(208)\n  push_sec_ctx(0, 0) : sec_ctx_stack_ndx = 1\n[2007/05/08 11:22:05, 3] smbd/uid.c:push_conn_ctx(350)\n  push_conn_ctx(0) : conn_ctx_stack_ndx = 0\n[2007/05/08 11:22:05, 3] smbd/sec_ctx.c:set_sec_ctx(241)\n  setting sec ctx (0, 0) - sec_ctx_stack_ndx = 1\n[2007/05/08 11:22:05, 5] auth/auth_util.c:debug_nt_user_token(448)\n  NT user token: (NULL)\n[2007/05/08 11:22:05, 5] auth/auth_util.c:debug_unix_user_token(474)\n  UNIX token of user 0\n  Primary group is 0 and contains 0 supplementary groups\n[2007/05/08 11:22:05, 3] smbd/sec_ctx.c:pop_sec_ctx(356)\n  pop_sec_ctx (0, 0) - sec_ctx_stack_ndx = 0\n[2007/05/08 11:22:05, 10] passdb/lookup_sid.c:lookup_name(64)\n  lookup_name: Unix User\\sys => Unix User (domain), sys (name)\nAssertion failed: rec_byname == rec, file  file_colon.c, line 1736\n[2007/05/08 11:22:05, 0] lib/fault.c:fault_report(41)\n  ===============================================================\n[2007/05/08 11:22:05, 0] lib/fault.c:fault_report(42)\n  INTERNAL ERROR: Signal 6 in pid 25416 (3.0.25rc3)\n  Please read the Trouble-Shooting section of the Samba3-HOWTO\n[2007/05/08 11:22:05, 0] lib/fault.c:fault_report(44)\n\n  From: http://www.samba.org/samba/docs/Samba3-HOWTO.pdf\n[2007/05/08 11:22:05, 0] lib/fault.c:fault_report(45)\n  ===============================================================\n[2007/05/08 11:22:05, 0] lib/util.c:smb_panic(1620)\n  PANIC (pid 25416): internal error\n[2007/05/08 11:22:05, 0] lib/util.c:log_stack_trace(1774)\n  unable to produce a stack trace on this platform\n[2007/05/08 11:22:05, 0] lib/util.c:smb_panic(1625)\n  smb_panic(): calling panic action [\"our panic action\"]\n[2007/05/08 11:22:06, 0] lib/util.c:smb_panic(1633)\n  smb_panic(): action returned status 255\n[2007/05/08 11:22:06, 0] lib/fault.c:dump_core(181)\n  dumping core in /usr/local/samba/var/cores/smbd\n\n"}