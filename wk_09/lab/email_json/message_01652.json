{"category": "ham", "to_address": "\"John W. Krahn\" <krahnj@telus.net>", "from_address": "Igor Sutton Lopes <igor.sutton@gmail.com>", "subject": "Re: Sorting dir output", "body": "Hi,On Apr 10, 2007, at 3:27 PM, John W. Krahn wrote:Craig Schneider wrote: Hi Guys Hello, How could I exec a 'dir' command on a dos system and put the output inan array, sort by date and the files that are older than 3 days be movedinto a folder called 'history' # open the current directoryopendir my $dh, '.' or die \"Cannot open '.' $!\";# get files older than three daysmy @files = grep -M > 3, readdir $dh;closedir $dh;for my $file ( @files ) {\u00a0 \u00a0 rename $file, \"history/$file\" or die \"Cannot move '$file' $!\";\u00a0 \u00a0 }You can also use File::Find::Rule for that:<code>use strict;use warnings;use File::Copy;use File::Find::Rule;use File::Spec;my $basedir = \"/Users/igorsutton/workspace\";sub move_file {\u00a0 \u00a0 move( $_[2], File::Spec->catdir( $basedir, 'history', $_ ) )\u00a0 \u00a0 \u00a0 or warn $!;}my $rule = File::Find::Rule->new;$rule->directory()->name('trunk')->exec( \\&move_file )->in($basedir);</code> --Igor Suttonigor.sutton@gmail.com "}