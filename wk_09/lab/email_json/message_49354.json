{"category": "ham", "to_address": "\"Speakup is a screen review system for Linux.\" <speakup@braille.uwo.ca>", "from_address": "Gregory Nowak <greg@romuald.net.eu.org>", "subject": "Re: moving from amd to p3?", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nOn Sat, Jun 16, 2007 at 07:27:57PM -0500, Spie Sutherland wrote:\n> Before you begin, do this to save your old .config \n> and make sure you have a clean source tree\n> \n> cd /usr/src/linux\n> cp .config .config.SAVE\n\nThis will only be the case if you're recompiling a kernel source tree\nagain. When you untar a fresh kernel source for the first time, the /usr/src/linux/.config\nfile won't exist. You can however move another .config file to\n/usr/src/linux/.config, if you want to start with whatever is already\nconfigured in that .config file, instead of starting completely from\nscratch. Personally, when building a new kernel for a new machine, I\ngrab a .config file for the kernel/distro I'm already using, and\nchange that to suit my needs, instead of starting from scratch.\n\n> make mrproper\n> \n> If you were installing speakup, at this point you would do \n> the speakup patching of the kernel source.\n\nActually, as far as I know, and this is what I've always done, you're\nsupposed to untar the kernel, patch with speakup, run make mrproper\nclean, then copy a .config file\ninto place if any. Also, if you're just\nbuilding a freshly untared kernel from kernel.org without speakup, or\nany other patches, you don't need to do make mrproper, I never did\nthat in those cases.\n\n> If you want to configure using your old configuration\n> as a start and just change a few things, you can do\n> make oldconfig\n\nBefore doing make oldconfig, make sure you have an existing\n/usr/src/linux/.config, or /boot/config-2.6.21.5, if compiling a\n2.6.21.5 kernel. If you don't have either of these, make oldconfig\nwill just use the defaults for your architecture. For the x86\narchitecture, this is /usr/src/linux/arch/i386/defconfig.\n\n> make dep\n\nNote that you don't need to run make dep if building a 2.6.x kernel.\n\n> make bzImage\n> make modules\n\nIf running debian, and if you've got kernelpackage installed, doing\n\nmake-kpkg kernel_image\n\nat this point will run the 2 above make commands for you, and build a\npackage that you can install. When installing that package, it may\nalso install the kernel in the boot loader for you as well. Other\ndistros may have a similar shortcut.\n\n\n- -- \nweb site: http://www.romuald.net.eu.org\ngpg public key: http://www.romuald.net.eu.org/pubkey.asc\nskype: gregn1\n(authorization required, add me to your contacts list first)\n\n- --\nFree domains: http://www.eu.org/ or mail dns-manager@EU.org\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\n\niD8DBQFGdI2/7s9z/XlyUyARApoFAJ99rmzVSGmmYHpUn8+aGbnG+rGjwwCeK6GP\nssV+B6eyesc5mBx66NZr+J4=\n=mk3U\n-----END PGP SIGNATURE-----\n\n_______________________________________________\nSpeakup mailing list\nSpeakup@braille.uwo.ca\nhttp://speech.braille.uwo.ca/mailman/listinfo/speakup\n\n"}