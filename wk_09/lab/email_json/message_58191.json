{"category": "ham", "to_address": "Stephen Tucker <brown_emu@yahoo.com>, R R-help <r-help@stat.math.ethz.ch>", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] Function call within a function.", "body": "\n--- Stephen Tucker  wrote:\n\n> Dear John,\n> \n> Perhaps I am mistaken in what you are trying to\n> accomplish but it seems like\n> what is required is that you call lstfun() outside\n> of ukn(). [and remove the\n> call to lstfun() in ukn()].\n> \n> nts <- lstfun(myfile, aa, bb)\n> results <- ukn(dd1, \"a\", \"b\", nts$cda)\n\nYes this definately will work but seems sloppy.  What\nI am doing in 'real' life is trying to sort a set of\ndata.frames into   a two element list ( lstfun) and\nthen apply some further subsetting to each data.frame\nin the list separately.  \n> \n> Alternatively, you can eliminate the fourth argument\n> in ukn() and assign (via\n> '<-') the results of lstfun() to 'nam1' within ukn()\n> instead of saving to\n> 'nts'...\nHumm, I'll have to think about this. The problem, as I\nhave set up the program is that nam1 is one of the two\ndata.frames in the list.  \n\nI may have to reconsider this whole thing.  I have\nbeen trying to use the existing data structures and I\nmay need to start from scratch.  \n\nThanks for the help.  You have given me some useful\nideas.\n\nJohn\n\n> \n> --- John Kane  wrote:\n> \n> > I am trying to call a funtion within another\n> function\n> > and I clearly am misunderstanding what I should\n> do. \n> > Below is a simple example.\n> > I know lstfun works on its own but I cannot seem\n> to\n> > figure out how to get it to work within ukn.\n> Basically\n> > I need to create the variable \"nts\". I have\n> probably\n> > missed something simple in the Intro or FAQ.\n> > \n> > Any help would be much appreciated.\n> > \n> > EXAMPLE\n> >\n>\n-------------------------------------------------------------------------------\n> > # create data.frame\n> > cata <- c( 1,1,6,1,1,4)\n> > catb <- c( 1,2,3,4,5,6)\n> > id <- c('a', 'b', 'b', 'a', 'a', 'b')\n> > dd1  <-  data.frame(id, cata,catb)\n> > \n> > # function to create list from data.frame\n> > lstfun  <- function(file, alpha , beta ) {\n> > cda  <-  subset(file, file[,1] == alpha)\n> > cdb  <-  subset (file, file[,1]== beta)\n> > list1 <- list(cda,cdb)\n> > }\n> > \n> > # funtion to operate on list\n> > ukn  <-  function(file, alpha, beta, nam1){\n> > aa  <- alpha\n> > bb  <- beta\n> > myfile  <- file\n> > nts <- lstfun(myfile, aa, bb)\n> > mysum <- nam1[,3]*5\n> > return(mysum)\n> > }\n> > \n> > results <- ukn(dd1, \"a\", \"b\", nts$cda)\n> > \n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> > http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained,\n> reproducible code.\n> > \n> \n> \n> \n>        \n>\n____________________________________________________________________________________\n> Choose the right car based on your needs.  Check out\n\n\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}