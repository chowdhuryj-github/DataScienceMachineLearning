{"category": "ham", "to_address": "<beginners@perl.org>", "from_address": "\"Octavian Rasnita\" <orasnita@gmail.com>", "subject": "OOP", "body": "Hi,\n\nI am trying to subclass the module Path::Class::Dir but without success.\n\nIf I create a simple program like the following, the subdir() method works \nfine, but it doesn't work if I create a subclass of the module and try to \nuse that method.\n\nuse Path::Class::Dir;\n\nmy $dir = Path::Class::Dir->new('c:/windows/temp');\nmy $subdir = $dir->subdir(\"perl\");\nprint \"$dir\\n$subdir\";\n\nThis prints:\nC:\\windows\\temp\nC:\\windows\\temp\\perl\n\nBut the following program prints the same dir for both the dir and the \nsubdir:\n\nuse MyDir;\nmy $dir = MyDir->new('c:/windows/temp');\n$dir->process;\n\n#and the module:\n\npackage MyDir;\n\nuse base 'Path::Class::Dir';\n\nsub new {\nmy $class = shift;\n$class = ref($class) || $class;\nmy $path = shift;\nmy $self = $class->SUPER::new($path);\nreturn bless $self, $class;\n}\n\nsub process {\nmy $self = shift;\nmy $subdir = $self->subdir(\"perl\");\nprint \"$self\\n$subdir\";\n}\n\n1;\n\nThis prints:\nC:\\windows\\temp\nC:\\windows\\temp\n\nAnd I have seen that the new() method is called twice.\n\nPlease tell me what am I doing wrong.\nIs Path::Class::Dir specially made for not beeing able to subclass it?\n\nThanks.\n\nOctavian\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}