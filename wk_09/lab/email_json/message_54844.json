{"category": "ham", "to_address": "\"Beginners List\" <beginners@perl.org>", "from_address": "\"RICHARD FERNANDEZ\" <rfernandez@arrow.com>", "subject": "CPAN shell  (LWP, Net::FTP) won't authenticate properly", "body": "Hi folks,\n\nI'm trying to use the CPAN shell to install some modules from our\ninternal CPAN mirror.\nI'm using a URL of the form ftp://MyCpanMirror/u02/CPAN/ , and I have a\nvalid .netrc configured with a user and password for the mirror box.\n\nAt first I was able to query/install modules easily, but then I did an\n\"install Bundle::CPAN\", and now I can't log into my CPAN mirror. To be\nspecific, LWP and Net::FTP are attempting to use an anonymous login,\nwhich is not allowed, instead of trying to log in via the user\ninformation contained in .netrc.\n\nI've read the docs for CPAN, LWP::UserAgent, and Net::FTP, but I don't\nsee how to change this behavior. I was under the impression that if a\n.netrc was available, Net::FTP at least, would use it for\nauthentication.\n\nHere is a snip of the CPAN shell output:\n\ncpan[1]> install DBD::Oracle\nCPAN: Storable loaded ok (v2.08)\nGoing to read /iu36/s01/.cpan/Metadata\n  Database was generated on Fri, 22 Jun 2007 05:07:41 GMT\nCPAN: LWP::UserAgent loaded ok (v2.003)\nCPAN: Time::HiRes loaded ok (v1.52)\nFetching with LWP:\n  ftp://MyCpanMirror/u02/CPAN/authors/01mailrc.txt.gz\nLWP failed with code[404] message[Can't chdir to u02]\nFetching with Net::FTP:\n  ftp://MyCpanMirror/u02/CPAN/authors/01mailrc.txt.gz\n  Couldn't login on MyCpanMirror: User anonymous unknown.\nFetching with Net::FTP\n  ftp://MyCpanMirror/u02/CPAN/authors/01mailrc.txt.gz.gz\n  Couldn't login on MyCpanMirror: User anonymous unknown.\nFetching with LWP:\n  http://www.perl.org/CPAN/authors/01mailrc.txt.gz\n\n(I don't have access to the outside from this box)\n\nWhat am I missing?\n\nThanks for the help!\n\nrichf\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n\n"}