{"category": "ham", "to_address": "\"OtherRecipients of perl Ticket #42360\": ;", "from_address": "\"James Keenan via RT\" <parrotbug-followup@parrotcode.org>", "subject": "[perl #42360] [TODO]:  Unit tests for Parrot::Revision ", "body": "In the course of writing tests for Parrot::Revision (see the 'reconfigure' branch), I noticed that \nmuch of the code depends on the definedness and value of $svn_entries.  However, since \n$svn_entries is explicitly undefined at the top of lib/Parrot/Revision.pm, and since it's never \nassigned to within that package, it's not clear what all that code is for.\n\nHere's the result of ack-ing for svn_entries in trunk:\n\n#####\n[parrot] 502 $ ack --nohtml --nophp svn_entries\nconfig/gen/revision.pm\n31:    my $entries  = $Parrot::Revision::svn_entries;\n\nlib/Parrot/Revision.pm\n27:our $svn_entries = undef;\n42:    elsif ( defined $svn_entries and -r $svn_entries ) {\n43:        open FH, '<', $svn_entries\n44:            or die \"Unable to open file ($svn_entries). Aborting. Error returned was: $!\";\n#####\n\nIf $svn_entries starts out undef-ed and is never assigned to, it can never pass the test for \ndefinedness in line 42 above, which means that the subsequent elsif stanza can never be \nreached -- and should therefore be refactored out of existence.\n\nIs my interpretation correct?\n\nThank you very much.\n\nkid51\n\n"}