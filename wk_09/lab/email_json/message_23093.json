{"category": "ham", "to_address": "beginners@perl.org", "from_address": "\"Beginner\" <dermot@sciencephoto.com>", "subject": "CGI OO style", "body": "Hi Again,\n\nI am trying to make a progressbar and am stuck. I might not sure if \nit my lack of understanding of the differences between the OO style \nor function-oriented style (to paraphrase the Stein-monster) of \nwriting CGI scripts.\n\nScript 1 uses the function style and works albeit with one javascript \nerror.\n\nScript 2 is my effort at the OO style. It fills my http logs with \nerrors as well as causing a similar number of javascript errors.\n\nThe only think that looks relevant in the module documents is under \nbugs, caveats, todo:\n\n\"Parameter passing doesn't match CGI.pm\"\n\nI not sure what that means exactly. Is it relevant?\n\nSo is my style wrong or am I changing the expected behaviour of the \nmodule if I use an OO style or is it something else altogether.\n\nThanx (sorry for the long-winded post),\nDp.\n\n======== script 1 ===========\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI::ProgressBar qw/:standard/;\n\n$| = 1;\n\n my $q = new CGI::ProgressBar;\n print header,\n        start_html(-title => \"Testing\",\n                   -style => {-src => '/css/mycss.css'},\n        ),\n        p('A test'),\n\n# Define progress bar.\n  progress_bar(\n         -from => 1,\n         -to => 50,\n         -debug => 1,\n         -width => 30,\n        );\n\n for (1..5) {\n        print update_progress_bar;\n        sleep 1;\n }\n print hide_progress_bar;\n print end_html;\n======================== enf of script 1 ========\n\n========== script 2 ================\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\nuse CGI::ProgressBar qw/:standard/;\n\n\n$| = 1;\n\n my $q = new CGI::ProgressBar;\n print $q->header;\n print $q->start_html(-title => \"A test\",\n                      -style => {-src => '/css/mycss.css'},\n        );\n $q->p('Sending Mail');\n\n# Define progress bar.\n  $q->progress_bar(\n         -from => 1,\n         -to => 12,\n         -debug => 0,\n         -width => 30,\n        );\n\n for (1..5) {\n        print $q->update_progress_bar;\n        sleep 1;\n }\n print $q->hide_progress_bar;\n\n print $q->end_html;\n\n======= end of script 2 ========\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}