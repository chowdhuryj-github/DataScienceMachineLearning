{"category": "ham", "to_address": "\"Gerald (Jerry) Carter\" <jerry@samba.org>", "from_address": "Kenneth MacDonald <K.MacDonald@ed.ac.uk>", "subject": "Re: Vista and roaming profiles", "body": ">>>>> \"Jerry\" == Gerald (Jerry) Carter  writes:\n\n    Jerry> This was strange so I thought I would pass it along.\n    Jerry> Windows Vista client joined to a Windows 2003 AD domain.\n    Jerry> User have roaming profiles stored on a Samba server with\n    Jerry> the share:\n\n    Jerry> [profiles] preexec = /etc/samba/scripts/create_profile %U\n    Jerry> %a path = /data/smb/c/profiles/%U/%a comment = Roaming user\n    Jerry> profile storage create mask = 0600 directory mask = 0700\n    Jerry> profile acls = yes\n\n    Jerry> All users have the roaming profile path of \\\\elm\\profiles\n\n    Jerry> But Vista tries to access the profile path of\n    Jerry> \\\\elm\\profiles.V2 So I had to create another share in\n    Jerry> smb.conf to make it happy.\n\n    Jerry> [profiles.V2] copy = profiles\n\nVista clients take the profile path from the AD user object and add\n\".V2\" because XP (and before) profiles are not compatible with Vista\nprofiles.\n\nIn a Windows only environment, the profile paths would normally point\nto something like \\\\server\\share\\username so adding \".V2\" to the end\ndoesn't change the share name, but the directory name.\n\nI haven't come across the \"copy = ...\" construct before, but if it's\nused in this case to point XP and Vista clients at the same directory\non the server for the user profiles, then user data is at risk.\n\nThought it's best to have this clarified for the archives :)\n\nCheers,\n\nKenny.\n-- \nDesktop Services Team, EUCS.\n\nUniversity of Edinburgh, Scotland.\n\n"}