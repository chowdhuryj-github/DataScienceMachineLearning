{"category": "ham", "to_address": "\"Jim McDonough\" <jmcd@samba.org>", "from_address": "tridge@samba.org", "subject": "Re: first swipe at ctdb spec file", "body": "Jim,\n\n > You can find my first swipe at the ctdb specfile (and other junk it\n > requires) at http://people.samba.org/bzr/jmcd/ctdb-jmcd\n\nThanks!\n\n > Tridge, are you really interested in keeping the ctdb and clustered samba 3\n > specs separated?\n\nyes, I think so. There is nothing Samba specific in ctdb (though the\nreverse is not true) so I think it is probably best to have two\nseparate packages. \n\n > Are you interested in placing _any_ files on the clustered\n > storage?\n\nyes. In the setup we are testing at the moment we have the following\nfiles in shared storage:\n\n - all of private dir\n - idmap:db\n - smb.conf\n - cluster_nodes.txt\n - cluster_addresses.txt\n - public_addresses.txt\n\nThe first two are via smb.conf options, so no need for special\nhandling in spec files. For the moment smb.conf is a symlink to shared\nstorage. The 3 ctdb config files can be pointed to by the startup\nscripts.\n\nProbably for a Linux system we should have a /etc/sysconfig/ctdb file\nwhich looks something like this:\n\n CLUSTER_NODES=/some/place/cluster_nodes.txt\n PUBLIC_ADDRESSES=/some/place/public_addresses.txt\n\nthen make the ctdb init script source that file and build the\nappropriate command line (also building cluster_addresses.txt, using a\ntmp file and mv).\n\nCheers, Tridge\n\n"}