{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "Jeremy Allison <jra@samba.org>", "subject": "Re: svn commit: samba r23284 - in\n\tbranches/SAMBA_3_0/source/nsswitch: .", "body": "On Thu, May 31, 2007 at 11:58:57PM +0000, obnox@samba.org wrote:\n> Author: obnox\n> Date: 2007-05-31 23:58:56 +0000 (Thu, 31 May 2007)\n> New Revision: 23284\n> \n> WebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23284\n> \n> Log:\n> Oh what a nasty typo! This gave me some headache,\n> with talloc randomly failing.\n> \n> Hey, shouldn't TALLOC_ARRAY _not_ return NULL when\n> requested to allocate an array with zero entries? :-)\n\nYes it should at the moment. It should be calling\n_talloc_array_zeronull() under the covers in lib/util.c\nwhich explicitly does this.\n\nWas this not happening for you ? I'd like you to\ndebug that as I can't see a codepath for this not\nto happen.\n\nJeremy.\n\n"}