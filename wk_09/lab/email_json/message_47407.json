{"category": "ham", "to_address": "Perl beginners <beginners@perl.org>", "from_address": "\"John W. Krahn\" <krahnj@telus.net>", "subject": "Re: Help with a perl script to parse and email", "body": "Mike wrote:\n> I'm a perl newbie and need help with writing a script to do the\n> following:\n> \n> 1)  Open a file that is delimited.  The file is in this format:\n>    ;;;;....;\n> The delimiters can be changed.  This is a manually created file.\n> Email and user may be more than one item.\n\nUse the split function to separate delimited fields:\n\nmy @fields = split /;/, $data;\n\n\nperldoc -f split\n\nOr use one of the CSV modules.\n\n\n> 2)  Send an email  to  using the file from #1.  The\n> email should be like\n> \n> To \n> \n> Please verify that the following users are still under your\n> supervision by :\n> \n> \n> \n\nThere are various modules that will send email including Net::SMTP and \nMail::Send amongst others.\n\n\n> 3) For calculating the date, I've used the below and added 14 days\n> (1209600 seconds):\n> \n> @Weekdays = ('Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday',\n> 'Friday', 'Saturday');\n> @Months = ('January', 'February', 'March', 'April', 'May', 'June',\n> 'July', 'August', 'September', 'October', 'November', 'December');\n> @Now = localtime(time + 1209600);  # adding the number of seconds in a\n> day (86400) and multiplying for 14 days\n> $Month = $Months[$Now[4]];\n> $Weekday = $Weekdays[$Now[6]];\n> $Hour = $Now[2];\n> if ($Hour > 12) {\n>    $Hour = $Hour - 12;\n>    $AMPM = \"PM\";\n> } else {\n>    $Hour = 12 if $Hour == 0;\n>    $AMPM =\"AM\";\n> }\n> $Minute = $Now[1];\n> $Minute = \"0$Minute\" if $Minute < 10;\n> $Year = $Now[5]+1900;\n> $Expire = \"$Weekday, $Month $Now[3], $Year\";\n\n$ perl -MPOSIX -le' print strftime \"%A, %B %d, %Y  %I:%M %p\", localtime '\nWednesday, June 13, 2007  11:30 AM\n$ perl -MPOSIX -le' print strftime \"%A, %B %d, %Y  %I:%M %p\", localtime time + \n1_209_600 '\nWednesday, June 27, 2007  11:31 AM\n\n\n\n\nJohn\n-- \nPerl isn't a toolbox, but a small machine shop where you\ncan special-order certain sorts of tools at low cost and\nin short order.                            -- Larry Wall\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}