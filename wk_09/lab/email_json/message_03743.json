{"category": "ham", "to_address": "John Kane <jrkrideau@yahoo.ca>, tchur@optusnet.com.au", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "Re: [R] sas.get problem", "body": "Cancel this! .  I see that Hmisc is already changed. \nWhen I updated today it was changed.  \n\nMy thanks to Mr Dupont the maintainer. \n\nI still have a problem with sas.get but that's another\npost.  \n--- John Kane  wrote:\n\n> \n> --- Tim Churches  wrote:\n> \n> > John Kane wrote:\n> > > I  have 3 SAS files all in the directory F:/sas,\n> > two\n> > > data files\n> > > and a format file :\n> > > form.ea1.sas7bdat\n> > > form.ea2.sas7bdat\n> > > sas.fmts.sas7bdat\n> > > \n> > > F is a USB.\n> > > \n> > > I am trying import them to R using \"sas.get\".\n> > > \n> > > I have not used SAS since I was downloading data\n> > from \n> > > mainframe\n> > > and having to write JCL.  I had forgotten how\n> > bizarre\n> > > SAS can be.\n> > > I currently have not even figured out how to\n> load\n> > the\n> > > files into SAS but\n> > > they look fine since I can import them with no\n> > problem\n> > > into SPSS.\n> > > \n> > > I am using R2.4.1 under Windows XP\n> > > SAS files were created with SAS 9.x\n> > > They convert easily into SPSS 14\n> > > \n> > > I\n> > > n the example below I have tried various\n> versions\n> > of\n> > > the file names with\n> > > with no luck.\n> > > Can anyone suggest some approach(s) that I might\n> > take.\n> > > \n> > > Example.\n> > > \n> > > library(Hmisc)\n> > > mydata <- sas.get(library=\"F:/sas\",\n> > mem=\"form.ea1\",\n> > >              format.library=\"sas.fmts.sas7bdat\",\n> > >            sasprog = '\"C:Program Files/SAS/SAS\n> > > 9.1/sas.exe\"')\n> > > \n> > > Error message  (one of several that I have\n> gotten\n> > > while trying various things.)\n> > > The filename, directory name, or volume label\n> > syntax\n> > > is incorrect.\n> > > Error in sas.get(library = \"F:/sas\", mem =\n> > \"form.ea1\",\n> > > format.library = \"sas.fmts.sas7bdat\",  :\n> > >         SAS job failed with status 1\n> > > In addition: Warning messages:\n> > > 1: sas.fmts.sas7bdat/formats.sc? or\n> > formats.sas7bcat \n> > > not found. Formatting ignored.\n> > >  in: sas.get(library = \"F:/sas\", mem =\n> \"form.ea1\",\n> > > format.library = \"sas.fmts.sas7bdat\",\n> > > 2: 'cmd' execution failed with error code 1 in:\n> > > shell(cmd, wait = TRUE, intern = output)\n> > \n> > The sas.get function in the Hmisc library is\n> broken\n> > under Windows.\n> > \n> > Change line 127 from:\n> > \n> >     status <- sys(paste(shQuote(sasprog),\n> > shQuote(sasin), \"-log\",\n> >         shQuote(log.file)), output = FALSE)\n> > \n> > to:\n> > \n> >     status <- system(paste(shQuote(sasprog),\n> > shQuote(sasin), \"-log\",\n> >         shQuote(log.file)))\n> > \n> \n> \n> Just how would I go about making this change in the\n> code or where would I look?\n> \n> Thanks\n> \n> \n> \n> \n> > I found this fix in the R-help archives, sorry,\n> > don't have the original\n> > to hand so I can't give proper attribution, but\n> the\n> > fix is not due to\n> > me. But it does work for me. I believe Frank\n> Harrell\n> > has been notified\n> > of the problem and the fix. Once patched and\n> working\n> > correctly, the\n> > sas.get function in the Hmisc library is fantastic\n> -\n> > thanks Frank!\n> > \n> > Tim C\n> > \n> >\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained,\n> reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}