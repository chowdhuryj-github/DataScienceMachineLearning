{"category": "ham", "to_address": "Benjamin Saller <bcsaller@objectrealms.net>", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "Re: [sugar] [PATCH] bin/datastore-service: respect $SUGAR_PROFILE,\n\tallowing multiple instances", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nOn Thu, 17 May 2007 at 13:37:34 +0100, Simon McVittie wrote:\n> This patch is also in http://projects.collabora.co.uk/~smcv/git/datastore.git\n> if you want to merge it.\n\nI've updated that repository with a merge against current git. Please either\napply it, let me know what's wrong with it or let me know who else is OK\nto review it, since the absence of this patch causes difficulty for anyone\ndeveloping collaborative activities (you can't collaborate with yourself using\ntwo profiles, because the second profile keeps timing out D-Bus calls because\nits datastore is blocking on the database lock, making execution extremely\nslow).\n\nAlso, in case you don't have an awaylog on IRC:\n\n10:56 < smcv> bcsaller: yes, a{sv} or a{ss} is the only way to do optional \n              arguments\n10:57 < smcv> bcsaller: D-Bus signatures aren't expressive enough to describe \n              real optional arguments, so in dbus-python I do my best to \n              encourage all arguments being compulsory\n10:59 < smcv> bcsaller: btw, you should never use _dbus_bindings (like in \n              olpc.datastore.dbus_helpers) - if you *must* use the \n              message-based API, import things from dbus.lowlevel\n10:59 < smcv> bcsaller: _dbus_bindings has no API guarantees at all, if you use \n              it you're asking for trouble\n\nI'll send in a trivial patch to use dbus.lowlevel shortly. You've made life\nunnecessarily hard for yourself by having signals and methods with the\nsame name, which is why you've had to resort to sending messages in such\na low-level way in the first place! The conventional thing to do would\nbe to have methods called Create, Delete etc. and signals called\nCreated, Deleted etc. (using InitialCaps if more than one word).\n\nRegards,\n\tSimon\n- -- \nSimon McVittie, Collabora Ltd.: http://www.collabora.co.uk/\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGUsNsWSc8zVUw7HYRAgN9AJ4ufD+EDiEKz+ZjMnv/f2FQItflDwCfcjSA\n1dJaauvMIaO4/2AJn9uNYd0=\n=0LUL\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}