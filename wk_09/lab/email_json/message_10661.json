{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22399 - in\n\tbranches/SAMBA_4_0/source/ntvfs/posix: .", "body": "Author: metze\nDate: 2007-04-20 06:57:07 +0000 (Fri, 20 Apr 2007)\nNew Revision: 22399\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22399\n\nLog:\nfix major memory leak\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/ntvfs/posix/xattr_tdb.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/ntvfs/posix/xattr_tdb.c\n===================================================================\n--- branches/SAMBA_4_0/source/ntvfs/posix/xattr_tdb.c\t2007-04-20 06:09:37 UTC (rev 22398)\n+++ branches/SAMBA_4_0/source/ntvfs/posix/xattr_tdb.c\t2007-04-20 06:57:07 UTC (rev 22399)\n@@ -229,5 +229,7 @@\n \t\tdelete_xattr_tdb(pvfs, s, fname, -1);\n \t}\n \n-\treturn delete_xattr_tdb(pvfs, XATTR_LIST_ATTR, fname, -1);\n+\tstatus = delete_xattr_tdb(pvfs, XATTR_LIST_ATTR, fname, -1);\n+\ttalloc_free(mem_ctx);\n+\treturn status;\n }\n\n"}