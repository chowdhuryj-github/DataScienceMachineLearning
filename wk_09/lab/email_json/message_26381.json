{"category": "ham", "to_address": "perl-04@jeremykister.com, beginners@perl.org", "from_address": "<tom@tacocat.net>", "subject": "Re: forking problem with dbd::mysql", "body": "\nI started here and I didn't read the rest of the many posts.\n\nI tried this too under a variety of database and I think it comes down to\nthis:\nYou can't fork and network or other type of connection and expect\nreality to remain continuous.\n\nIf I create an object that has a reference to single point in network\nsockets (port number, unix socket) and I try to fork it...  What happens\nto the network connections?\n\nI can't get this to work under Oracle, Postgresql either.\n\nI found I have to create/connect the $dbh AFTER fork().\n\nOn 5/9/2007, \"Jeremy Kister\"  wrote:\n\n>I'm am having an issue with a mysql connection that displays itself when\n>there's forking going on which I can't track down.\n>\n>I've made a test program at http://jeremy.kister.net/code/ftest.pl to\n>demonstrate. I expect this program to print 'SQL RESULT: 1' for as long\n>as it can.\n>\n>But instead:\n>\n>SQL RESULT: 1\n>SQL RESULT: 1\n>SQL RESULT: 1\n>DBD::mysql::st execute failed: MySQL server has gone away at ftest.pl\n>line 36,  line 3.\n>DBD::mysql::st execute failed: MySQL server has gone away at ftest.pl\n>line 36,  line 3.\n>\n>\n>What's gone wrong?\n>\n>perl 5.8.3, sun4-solaris\n>DBI 1.55\n>DBD::mysql 3.0007\n>\n>--\n>\n>Jeremy Kister\n>http://jeremy.kister.net./\n>\n>--\n>To unsubscribe, e-mail: beginners-unsubscribe@perl.org\n>For additional commands, e-mail: beginners-help@perl.org\n>http://learn.perl.org/\n>\n>\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n\n"}