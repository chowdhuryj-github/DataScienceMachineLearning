{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Alfonso Sammassimo\" <cincinattikid@bigpond.com>", "subject": "[R] aggregate in zoo", "body": "Hi R-experts,\n\nThanks very much to Jim Holtman and Gabor on my previous question.\n\nI am having another problem with data manipulation in zoo. The following is \ndata (Z) for first business day of every month in zoo format. I am trying to \nget mean of \"open\" for each year. I subset Z <- Z[,2] then\n\n> sapply(split(Z, format(index(Z), \"%Y\")),mean)\n\nI get error message:\n\n>2000 2001 2002 2003 2004 2005 2006 2007\n  NA   NA   NA   NA   NA   NA   NA   NA\nWarning messages:\n1: argument is not numeric or logical: returning NA in: mean.default(X[[1]], \n...)\n2: argument is not numeric or logical: returning NA in: mean.default(X[[2]], \n...)\netc...................\n\nAny help on what I'm missing would be appreciated. I am particularly \nconfused by the fact that the command used works fine on the original data \nfile (i.e. before subsetting by first day of month). Sorry if I have \noverlooked something very simple.\n\n<Z\n                 dayofmonth    open\n2000-02-01 01        1636.10\n2000-03-01 01        1596.75\n2000-04-03 03        1737.70\n2000-05-01 01        1695.65\n2000-06-01 01        1651.90\n2000-07-03 03        1669.20\n2000-08-01 01        1628.35\n2000-09-01 01        1717.35\n2000-10-02 02        1614.55\n2000-11-01 01        1587.10\n2000-12-01 01        1475.60\n2001-01-02 02        1450.65\n2001-02-01 01        1503.60\n2001-03-01 01        1351.95\n2001-04-02 02        1268.10\n2001-05-01 01        1369.20\n2001-06-01 01        1362.75\n2001-07-02 02        1331.55\n2001-08-01 01        1309.70\n2001-09-04 04        1235.55\n2001-10-01 01        1109.20\n2001-11-01 01        1155.55\n2001-12-03 03        1207.30\n\nThank you,\nAlfonso Sammassimo\nMelbourne, Australia\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}