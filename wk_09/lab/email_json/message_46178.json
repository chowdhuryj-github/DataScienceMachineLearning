{"category": "ham", "to_address": "\"Paul Cochrane\" <paultcochrane@gmail.com>", "from_address": "\"jerry gay\" <jerry.gay@gmail.com>", "subject": "Re: [perl #41569] t/distro/file_metadata.t fails on win32", "body": "On 6/11/07, Paul Cochrane  wrote:\n> On 09/03/07, chromatic  wrote:\n> > On Friday 09 March 2007 05:00, Ron Blaschke wrote:\n> >\n> > > Attached patch replaces the backslashes with slashes on Windows.\n> >\n> > Would using File::Spec be less fragile?\n>\n> I've attached a patch which uses File::Spec instead of replacing one\n> set of slashes with another.  Comments welcome!  :-)\n>\ngood idea.\n\ninstead of breaking up the path and reconstructing it separately\n(since the individual components of the path aren't used anywhere\nelse,) how about using 'canonpath' to clean up the path in one step.\nsomething like:\n\n                if ( $result =~ m{(.*) - (.*)} ) {\n                    my $file = canonpath $1;\n                    my $attribute = $2;\n\n                    # and add to the results hash\n                    $results{$file} = $attribute;\n                }\n\n~jerry\n\n"}