{"category": "ham", "to_address": "\"Earl F. Glynn\" <efg@stowers-institute.org>", "from_address": "Dirk Eddelbuettel <edd@debian.org>", "subject": "Re: [R] Can strptime handle milliseconds or AM/PM?", "body": "\nOn 12 June 2007 at 16:54, Earl F. Glynn wrote:\n| Any clues what I'm doing wrong with strptime?   This seems to fail the same \n| way under Linux or Windows.\n| \n|  For ?strptime would it make sense to explain %OS3 somewhere besides the \n| Examples?\n| \n| > # Why does %OS3 work here?\n| > format(Sys.time(), \"%H:%M:%S\")\n| [1] \"16:45:19\"\n| > format(Sys.time(), \"%H:%M:%OS3\")\n| [1] \"16:45:19.477\"\n\nI usually get good results with just '%OS' for fractional seconds.  First,\nmake sure you do display fractional seconds which I do via\n'options(\"digits.secs\"=7) in ~/.Rprofile:\n\n\t> getOption(\"digits.secs\")\t\t\t\n\t[1] 7\n\nThen a simple example:\n\n\t> now <- Sys.time()\n\t> strptime(now, \"%Y-%m-%d %H:%M:%OS\")\n\t[1] \"2007-06-12 17:44:16.779577\"\n\t>\n \nAs per help(\"strptime\"), what you tried should work\n\n     Specific to R is '%OSn', which for output gives the seconds to '0\n     <= n <= 6' decimal places (and if '%OS' is not followed by a\n     digit, it uses the setting of 'getOption(\"digits.secs\")', or if\n     that is unset, 'n = 3'). Further, for 'strptime' '%OS' will input\n     seconds including fractional seconds.\n\nbut doesn't for me either:\n\n\t> strptime(now, \"%Y-%m-%d %H:%M:%OS6\")\n\t[1] NA\n\t> strptime(now, \"%Y-%m-%d %H:%M:%OS3\")\n\t[1] NA\n\t> \n\nLooks like a bug.  But easy enough to circumvent if you just drop the 'n'.\n\nHth, Dirk\n\n-- \nHell, there are no rules here - we're trying to accomplish something. \n                                                  -- Thomas A. Edison\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}