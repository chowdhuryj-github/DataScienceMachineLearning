{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "obnox@samba.org", "subject": "svn commit: samba r23389 - in branches/SAMBA_3_0/source: .", "body": "Author: obnox\nDate: 2007-06-08 14:37:29 +0000 (Fri, 08 Jun 2007)\nNew Revision: 23389\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23389\n\nLog:\nDisabling ACL support on Darwin/Mac OS X for now.\n\nCurrent configure check detects posix ACL support\nbut compile of modules/vfs_posixacl.c fails due\nto missing defines in sys/acl.h:\nACL_USER, ACL_USER_OBJ, ACL_GROUP, ACL_GROUP_OBJ, ACL_OTHER,\nACL_MASK, ACL_WRITE, ACL_READ\n\nIt has to be investigated, if this can be fixed within \nthe posixacl vfs module or if we need a darwinacl module.\n\nMichael\n\n\nModified:\n   branches/SAMBA_3_0/source/configure.in\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/configure.in\n===================================================================\n--- branches/SAMBA_3_0/source/configure.in\t2007-06-08 14:29:30 UTC (rev 23388)\n+++ branches/SAMBA_3_0/source/configure.in\t2007-06-08 14:37:29 UTC (rev 23389)\n@@ -5419,7 +5419,11 @@\n \t\tACL_LIBS=\"$ACL_LIBS -lpacl\"\n \t\tdefault_static_modules=\"$default_static_modules vfs_tru64acl\"\n \t\t;;\n-         *)\n+\t*darwin*)\n+\t\tAC_MSG_NOTICE(ACLs on Darwin currently not supported)\n+\t\tAC_DEFINE(HAVE_NO_ACLS,1,[Whether no ACLs support is available])\n+\t\t;;\n+\t*)\n \t\tAC_CHECK_LIB(acl,acl_get_file,[ACL_LIBS=\"$ACL_LIBS -lacl\"])\n \t\tcase \"$host_os\" in\n \t\t*linux*)\n\n"}