{"category": "ham", "to_address": "r-help@stat.math.ethz.ch, rossiter@itc.nl", "from_address": "Peter Dunn <dunn@usq.edu.au>", "subject": "Re: [R] Sweave bug? when writing figures / deleting variable in\n\tchunk", "body": "> I have found a quite strange (to me) behaviour in Sweave. It only\n> occurs in the following situation:\n\nYou need to understand what Sweave does when it creates pictures:\n> <<>>=\n> sel <- 1:5\n> @\n> <>=\n> plot(trees[sel,])\n> rm(sel)\n> @\n\nBy default, a eps and pdf version of the graphic is made.\nThat is, this chunk producing the graphic is *run twice*:\nonce to make the eps file, once to make the pdf file.\n\nAfter this code chunk is run once:\n\n> <>=\n> plot(trees[sel,])\n> rm(sel)\n\n...the variable  sel  is obviously deleted, so the\nsecond time it runs... well, there's your error message.\n\nBest to place the command  rm( sel )  in it's\nown separate chunk.\n\nP.\n\n-- \nDr Peter Dunn  |  dunn  usq.edu.au\nFaculty of Sciences, USQ; http://www.sci.usq.edu.au/staff/dunn\nAust. Centre for Sustainable Catchments: www.usq.edu.au/acsc\n\nThis email (including any attached files) is confidential an...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}