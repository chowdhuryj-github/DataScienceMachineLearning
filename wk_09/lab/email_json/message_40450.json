{"category": "ham", "to_address": "beginners@perl.org", "from_address": "\"Beginner\" <dermot@sciencephoto.com>", "subject": "Algorithm or module needed ", "body": "Hi,\n\nI am trying to copy some file from a removable HDD to a network \ndrive. I want replicate the directory structure and omit un-needed \nfiles.\n\nThe directory paths a 4-5 levels deep and I am trying to work out an \nefficient way to recreate the directory path.\n\nWhat I've been doing is using File::Find to collect the file and then \nin the coderef calling the following subroutine to check the path but \ni didn't go too far as my method seems....well not well formed.\n\nThe path to a source file looks like:\n\ne:/Dir1/Day 1/AM/01/myfile.jpg\n\n\nuse strict;\nuse warnings;\n...\n...snip\n\nsub check_dir {\n\n# @_ = File::Find::dir\n\n my $path = shift;\n return unless (-e $path);\n\n# Split the path on it's parts.\n my @parts = split('/',$path);\n\n# Loop from 1 to skip the first part of the path.\n for (my $i = 1; $i <= $#parts; ++$i)  {\n\n\tmy $l = $dist.'/'.$parts[$i];\n\tif (! -e $l) {\n\t\tprint \"Checking $l\\n\";\n\t\tmy $j = $i + 1;\t\t\t# urg!\n\t\tmy $lev = $dist.'/'.$parts[$i].'/'.$parts[$j];\n\t\tif (! -e $lev) {\n\t\t\tprint \"Checking $lev\\n\";\n\t\t}\n\t}\n }\n\nCan anyone offer me some advice with this?\nThanx,\nDp.\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}