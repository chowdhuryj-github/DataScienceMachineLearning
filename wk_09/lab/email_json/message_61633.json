{"category": "ham", "to_address": "\"'Paul Smith'\" <phhs80@gmail.com>, \"'R-help'\" <r-help@stat.math.ethz.ch>", "from_address": "\"Ravi Varadhan\" <rvaradhan@jhmi.edu>", "subject": "Re: [R] Fine tunning rgenoud", "body": "Paul,\n\nIt should be easy enough to check that your solution is valid (i.e. a local\nminimum):  first, check to see if the solution satisfies all the\nconstraints; secondly, check to see if it is an interior point (i.e. none of\nthe constraints become equality); and finally, if the solution is an\ninterior point, check to see whether the gradient there is close to zero.\nNote that if the solution is one of the vertices of the polyhedron, then the\ngradient may not be zero.\n\nRavi.\n\n----------------------------------------------------------------------------\n-------\n\nRavi Varadhan, Ph.D.\n\nAssistant Professor, The Center on Aging and Health\n\nDivision of Geriatric Medicine and Gerontology \n\nJohns Hopkins University\n\nPh: (410) 502-2619\n\nFax: (410) 614-9625\n\nEmail: rvaradhan@jhmi.edu\n\nWebpage:  http://www.jhsph.edu/agingandhealth/People/Faculty/Varadhan.html\n\n \n\n----------------------------------------------------------------------------\n--------\n\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch\n[mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Paul Smith\nSent: Tuesday, July 03, 2007 5:10 PM\nTo: R-help\nSubject: Re: [R] Fine tunning rgenoud\n\nOn 7/3/07, Ravi Varadhan  wrote:\n> You had indicated in your previous email that you are having trouble\nfinding\n> a feasible starting value for constrOptim().  So, you basically need to\n> solve a system of linear inequalities to obtain a starting point.  Have\nyou\n> considered using linear programming? Either simplex() in the \"boot\"\npackage\n> or solveLP() in \"linprog\" would work.  It seems to me that you could use\nany\n> linear objective function in solveLP to obtain a feasible starting point.\n> This is not the most efficient solution, but it might be worth a try.\n>\n> I am aware of other methods for generating n-tuples that satisfy linear\n> inequality constraints, but AFAIK those are not available in R.\n\nThanks, Ravi. I had already conceived the solution that you suggest,\nactually using \"lpSolve\". I am able to get a solution for my problem\nwith constrOptim, but I am not enough confident that the solution is\nright. That is why I am trying to get a solution with rgenoud, but\nunsuccessfully until now.\n\nPaul\n\n\n\n> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch\n> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Paul Smith\n> Sent: Tuesday, July 03, 2007 4:10 PM\n> To: R-help\n> Subject: [R] Fine tunning rgenoud\n>\n> Dear All,\n>\n> I am trying to solve the following maximization problem, but I cannot\n> have rgenoud giving me a reliable solution.\n>\n> Any ideas?\n>\n> Thanks in advance,\n>\n> Paul\n>\n> ----------------------------\n> library(rgenoud)\n>\n> v <- 0.90\n> O1 <- 10\n> O2 <- 20\n> O0 <- v*O1+(1-v)*O2\n>\n> myfunc <- function(x) {\n>   U0 <- x[1]\n>   U1 <- x[2]\n>   U2 <- x[3]\n>   q0 <- x[4]\n>   q1 <- x[5]\n>   q2 <- x[6]\n>   p <- x[7]\n>\n>   if (U0 < 0)\n>     return(-1e+200)\n>   else if (U1 < 0)\n>     return(-1e+200)\n>   else if (U2 < 0)\n>     return(-1e+200)\n>   else if ((U0-(U1+(O1-O0)*q1)) < 0)\n>     return(-1e+200)\n>   else if ((U0-(U2+(O2-O0)*q2)) < 0)\n>     return(-1e+200)\n>   else if ((U1-(U0+(O0-O1)*q0)) < 0)\n>     return(-1e+200)\n>   else if ((U1-(U2+(O2-O1)*q2)) < 0)\n>     return(-1e+200)\n>   else if((U2-(U0+(O0-O2)*q0)) < 0)\n>     return(-1e+200)\n>   else if((U2-(U1+(O1-O2)*q1)) < 0)\n>     return(-1e+200)\n>   else if(p < 0)\n>     return(-1e+200)\n>   else if(p > 1)\n>     return(-1e+200)\n>   else if(q0 < 0)\n>     return(-1e+200)\n>   else if(q1 < 0)\n>     return(-1e+200)\n>   else if(q2 < 0)\n>     return(-1e+200)\n>   else\n>\nreturn(p*(sqrt(q0)-(O0*q0+U0))+(1-p)*(v*(sqrt(q1)-(O1*q1+U1))+(1-v)*(sqrt(q2\n> )-(O2*q2+U2))))\n>\n> }\n>\ngenoud(myfunc,nvars=7,max=T,pop.size=6000,starting.values=runif(7),wait.gene\n> rations=150,max.generations=300,boundary.enforcement=2)\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}