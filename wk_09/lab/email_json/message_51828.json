{"category": "ham", "to_address": "\"Yuchen Luo\" <realityrandom@gmail.com>, r-help@stat.math.ethz.ch", "from_address": "\"Nordlund, Dan (DSHS/RDA)\" <NordlDJ@dshs.wa.gov>", "subject": "Re: [R] \"if\" within a function", "body": "> -----Original Message-----\n> From: r-help-bounces@stat.math.ethz.ch \n> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Yuchen Luo\n> Sent: Wednesday, June 20, 2007 10:28 PM\n> To: r-help@stat.math.ethz.ch\n> Subject: [R] \"if\" within a function\n> \n> Dear Friends.\n> I found a puzzling phenomenon in R when you use 'if' within a \n> function:\n> \n> # defining a function aaa\n> aaa=function(a)\n> {if (a==1) {aaa=1};\n>  if (a!=1) {aaa=2}\n>  }\n> \n> # using the function:\n> > b=20\n> > bbb=aaa(b)\n> > bbb\n> [1] 2\n> > typeof(bbb)\n> [1] \"double\"\n> >\n> >\n> > c=1\n> > ccc=aaa(c)\n> > ccc\n> NULL\n> > typeof(ccc)\n> [1] \"NULL\"\n> \n> It seems that only the last 'if' phrase works. Is it an \n> instrinsic weakness\n> of R? Is there a way to get around it? ( I use 'elseif' to \n> get around this\n> when there are only two cases to choose from, but what if \n> there are more\n> than two cases to choose from?)\n> \n> Best\n> Yuchen\n> \n\nYuchen,\n\nIn R, a function returns the last value evaluated.  In your case, if the argument passed to aaa() is equal to 1, the value returned is the value of the last if statement which is null.\n\nYou can tell aaa() to return the value you want with something like this\n\naaa<-function(a)\n{if (a==1) return(1)\n if (a!=1) return(2)\n }\n\nHope this is helpful,\n\nDan\n\nDaniel J. Nordlund\nResearch and Data Analysis\nWashington State Department of Social and Health Services\nOlympia, WA  98504-5204\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}