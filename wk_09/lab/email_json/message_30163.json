{"category": "ham", "to_address": "perl6-internals@perl.org", "from_address": "\"Paul Cochrane\" <paultcochrane@gmail.com>", "subject": "Re: [perl #42947] [PATCH] revise Parrot_get_runtime_prefix API for safety and usablility", "body": "On 14/05/07, via RT Mike Mattie  wrote:\n> # New Ticket Created by  Mike Mattie\n> # Please include the string:  [perl #42947]\n> # in the subject line of all future correspondence about this issue.\n> # \n>\n>\n> Hello,\n>\n> This patch changes the Parrot_get_runtime_prefix API from\n>\n> char* Parrot_get_runtime_prefix(Interp *interp, STRING **prefix_str)\n>\n> to\n>\n> STRING* Parrot_get_runtime_prefix (Interp *interp ) {\n>\n> This is done to make the routine safer, it no longer can leak memory. Also the useless \".\" paths\n> are removed from src/library.c. some minor changes to Parrot_locate_runtime_file_str are present\n> to sync and correct that function.\n>\n> other callers in src/inter_misc.c , and compilers/imcc/main.c are fixed as well.\n>\n> also a case of a bare free() being used instead of the proper mem_sys_free is fixed.\n>\n> This relies on #42944 to apply.\n>\n> Cheers,\n> Mike Mattie - codermattie@gmail.com\n>\n>\n\nMike,\n\nIt seems the patch didn't come through with the email, could you send it again?\n\nPaul\n\n"}