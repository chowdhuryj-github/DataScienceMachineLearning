{"category": "ham", "to_address": "\"jessica.gervais@tudor.lu\" <jessica.gervais@tudor.lu>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] Sum per hour", "body": "We could do it using either POSIXct or chron:\n\nlibrary(zoo)\n\n# POSIXct\nz <- zoo(precipitation, as.POSIXct(time, tz = \"GMT\"))\naggregate(z, function(x) as.POSIXct(trunc(x, \"hour\")), sum)\n\n# chron\nlibrary(chron)\nz <- zoo(precipitation, as.chron(as.POSIXct(time, tz = \"GMT\"))\naggregate(z, function(x) chron(trunc(times(x), \"01:00:00\")), sum)\n\n\nOn 5/24/07, jessica.gervais@tudor.lu  wrote:\n>\n> Dear all,\n>\n> I have a list of precipitation record and a list of time\n> I would like to sum them up per hour, or per day.\n> Does such a function exist ?\n>\n>\n> example:\n> time<-c(\"2000-10-03 14:00:00\",\"2000-10-03 14:10:00\",\"2000-10-03\n> 14:20:00\",\"2000-10-03 15:30:00\",\"2000-10-03 16:40:00\",\"2000-10-03\n> 16:50:00\",\"2000-10-03 17:00:00\",\"2000-10-03 17:10:00\",\"2000-10-03\n> 17:20:00\",\"2000-10-03 18:30:00\",\"2000-10-04 14:00:00\",\"2000-10-04\n> 14:10:00\",\"2000-10-04 14:20:00\",\"2000-10-04 15:30:00\",\"2000-10-04\n> 16:40:00\",\"2000-10-04 16:50:00\",\"2000-10-04 17:00:00\",\"2000-10-04\n> 17:10:00\",\"2000-10-04 17:20:00\",\"2000-10-04 18:30:00\")\n>\n> precipitation<-c(0,0.1,0,0,0,0,0.2,0.3,0.5,6,7,8,9,1,0,0,0,0,1,0)\n>\n> DATA<-cbind(time,precipitation)\n>\n> ... ?\n> how to sum up per hour ?\n>\n> Thanks in advance\n>\n> Jessica\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}