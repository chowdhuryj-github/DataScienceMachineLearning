{"category": "ham", "to_address": "Don Hopkins <dhopkins@DonHopkins.com>", "from_address": "Marco Pesenti Gritti <mpg@redhat.com>", "subject": "Re: [sugar] Cairo build autogen.sh fails is TERM=dumb in\n\temacs\tshell window", "body": "On Sun, 2007-04-29 at 08:04 -0700, Don Hopkins wrote:\n> I ran across the following problem when trying to run \"sugar-jhbuild \n> build\" in an Emacs shell window, whose terminal type was set to \"dumb\" \n> by default:\n> \n> When it tried to build Cairo and ran \"./autogen.sh --prefix ...\", that \n> shell script returned immediately with an error code without producing \n> any output.\n> \n> The problem was on the line that went:\n> \n> boldface=\"`tput bold 2>/dev/null`\"\n> \n> That was failing because the terminal type was set to \"dumb\".\n> Once I set the terminal type to \"vt100\" it worked, though.\n> \n> Apparently \"tset\" fails if the terminal type does not support bold \n> highlighting, which causes the autogen script to fail.\n> \n> It looks like a lot of the different packages use \"tput\" in their \n> autogen.sh scripts:\n> caio, dbus-glib, poppler, pyabiword, pycairo, pygobject, pygtk\n> \n> Maybe it would be a  good idea to leave fragile useless bells and \n> whistles like escape codes for terminal highlighting out of the \n> configuration and build process.\n\nThis one should be reported upstream (http://bugzilla.gnome.org)\n\nMarco\n\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}