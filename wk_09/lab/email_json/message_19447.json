{"category": "ham", "to_address": "\"David L. Van Brunt, Ph.D.\" <dlvanbrunt@gmail.com>", "from_address": "Gavin Simpson <gavin.simpson@ucl.ac.uk>", "subject": "Re: [R] randomForest gives different results for formula call v.\tx,\n\ty methods. Why?", "body": "On Sat, 2007-04-28 at 21:13 -0400, David L. Van Brunt, Ph.D. wrote:\n> Just out of curiosity, I took the default \"iris\" example in the RF\n> helpfile...\n> but seeing the admonition against using the formula interface for large data\n> sets, I wanted to play around a bit to see how the various options affected\n> the output. Found something interesting I couldn't find documentation for...\n> \n> Just like the example...\n> > set.seed(12) # to be sure I have reproducibility\n\nNo differences between runs for me on FC4 using R 2.4.1 and 2.5.0 with:\n\n> require(randomForest)\nLoading required package: randomForest\nrandomForest 4.5-18\n\n*if* I reset the seed before each call to randomForest.\n\nYour example code doesn't seem to be resetting the random seed before\neach run. As such, each run is using a different set of random variables\nat each bootstrap sample.\n\nE.g. runs all same with reset seed:\n\n> set.seed(12)\n> randomForest(Species ~ ., data=iris)\n\nCall:\n randomForest(formula = Species ~ ., data = iris)\n               Type of random forest: classification\n                     Number of trees: 500\nNo. of variables tried at each split: 2\n\n        OOB estimate of  error rate: 4%\nConfusion matrix:\n           setosa versicolor virginica class.error\nsetosa         50          0         0        0.00\nversicolor      0         47         3        0.06\nvirginica       0          3        47        0.06\n> set.seed(12)\n> randomForest(x=iris[,1:4],y=iris[,5])\n\nCall:\n randomForest(x = iris[, 1:4], y = iris[, 5])\n               Type of random forest: classification\n                     Number of trees: 500\nNo. of variables tried at each split: 2\n\n        OOB estimate of  error rate: 4%\nConfusion matrix:\n           setosa versicolor virginica class.error\nsetosa         50          0         0        0.00\nversicolor      0         47         3        0.06\nvirginica       0          3        47        0.06\n> set.seed(12)\n> randomForest(x=iris[,c(1:4)],y=iris[,5])\n\nCall:\n randomForest(x = iris[, c(1:4)], y = iris[, 5])\n               Type of random forest: classification\n                     Number of trees: 500\nNo. of variables tried at each split: 2\n\n        OOB estimate of  error rate: 4%\nConfusion matrix:\n           setosa versicolor virginica class.error\nsetosa         50          0         0        0.00\nversicolor      0         47         3        0.06\nvirginica       0          3        47        0.06\n> set.seed(12)\n> randomForest(x=iris[,c(1,2,3,4)],y=iris[,5])\n\nCall:\n randomForest(x = iris[, c(1, 2, 3, 4)], y = iris[, 5])\n               Type of random forest: classification\n                     Number of trees: 500\nNo. of variables tried at each split: 2\n\n        OOB estimate of  error rate: 4%\nConfusion matrix:\n           setosa versicolor virginica class.error\nsetosa         50          0         0        0.00\nversicolor      0         47         3        0.06\nvirginica       0          3        47        0.06\n\nHTH\n\nG\n-- \n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\nGavin Simpson                     [t] +44 (0)20 7679 0522\nECRC                              [f] +44 (0)20 7679 0565\nUCL Department of Geography\nPearson Building                  [e] gavin.simpsonATNOSPAMucl.ac.uk\nGower Street\nLondon, UK                        [w] http://www.ucl.ac.uk/~ucfagls/\nWC1E 6BT                          [w] http://www.freshwaters.org.uk/\n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}