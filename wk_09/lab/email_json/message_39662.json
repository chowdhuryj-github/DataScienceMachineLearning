{"category": "ham", "to_address": "\"Jan.Schwanbeck@hydrologie.unibe.ch\" <Jan.Schwanbeck@hydrologie.unibe.ch>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] plotting variable sections of hourly time series data using\n\tplot.zoo", "body": "Regarding your other questions:\n\n\nplot(z[,3:5]) # only plot columns 3 to 5\n\n# only plot between indicated times\nst <- chron(\"01/01/03\", \"02:00:00\")\nen <- chron(\"03/26/2003\", \"07:00:00\")\nzz <- window(z, start = st, end = en)\nplot(zz)\n\n\n\n\nOn 5/31/07, Gabor Grothendieck  wrote:\n> There seems to be an error in your names(DF) <- line so I just renamed the\n> first 4 fields.  Try this:\n>\n> # Should be 3 lines in Lines.\n> Lines <- \"YYYY MM DD HH    P-uk    P-kor   P-SME   EPOT    EREA     RO\n>    R1 R2      RGES   S-SNO     SI    SSM       SUZ    SLZ\n>  2003  1  1  1        0.385   0.456   0.021   0.000   0.000   0.000\n> 0.013 0.223   0.235    0.01    0.38   74.72    0.96  736.51\n>  2003  1  1  2        0.230   0.275   0.028   0.000   0.000   0.000\n> 0.012 0.223   0.235    0.03    0.56   74.72    0.94  736.37\n> \"\n> DF <- read.table(textConnection(Lines), header = TRUE)\n> names(DF)[1:4] <- c(\"year\", \"month\", \"day\", \"hour\")\n> library(chron)\n> library(zoo)\n> z <- zoo(as.matrix(DF), with(DF,chron(paste(month,day,year,sep=\"/\"))+hour/24))\n> as.ts(z)\n>\n>\n> On 5/31/07, Jan.Schwanbeck@hydrologie.unibe.ch\n>  wrote:\n> >\n> > Dear list,\n> >\n> > I have to look examine hourly time - series and would like to plot variable\n> > section of them using plot.zoo.\n> >\n> >\n> > Hourly time series data which looks like this:\n> >\n> > YYYY MM DD HH    P-uk    P-kor   P-SME   EPOT    EREA     RO     R1\n> > R2      RGES   S-SNO     SI    SSM       SUZ    SLZ\n> >  2003  1  1  1        0.385   0.456   0.021   0.000   0.000   0.000   0.013\n> > 0.223   0.235    0.01    0.38   74.72    0.96  736.51\n> >  2003  1  1  2        0.230   0.275   0.028   0.000   0.000   0.000   0.012\n> > 0.223   0.235    0.03    0.56   74.72    0.94  736.37\n> >\n> > #With help of read.table I got  the data into R :\n> >\n> > DF <- read.table(file=fn,header=FALSE,skip=2)\n> >\n> > #Substitute the header:\n> >\n> > names(DF) <-\n> > c(\"year\",\"month\",\"day\",\"hour\",\"FN\",\"Punc\",\"Pcor\",\"Pmelt\",\"ETP\",\"ETR\",\"RS\",\"RI\",\"RB\",\"Rtot\",\"Ssnow\",\"SI\",\"SSM\",\"SUZ\",\"SLZ\")\n> >\n> > #Create datetime vector\n> >\n> > library(chron)\n> > DF$datetime <- with(DF,chron(paste(month,day,year,sep=\"/\"))+hour/24)\n> >\n> > #Try to convert DF into ts - object DFts\n> >\n> > DFts <- as.ts(DF)  # works, but gives back: Warning message: Class\n> > information of one or more columns was lost.???\n> >\n> > #Try to convert DF into zoo - object DFzoo\n> >\n> > library(zoo)\n> > DFzoo <- as.zoo(DFts)\n> >\n> > #Plot of whole time series skipping first 5 and last 3 columns\n> >\n> > plot.zoo(DFzoo[ ,6:ncol(myDFzoo-3)])\n> >\n> > # works, but  x-axis labels are numbers from 1 to ...last hour\n> >\n> >\n> > I would like to use plot.zoo  for plotting:\n> > -  the whole period (3years)  --> axis-labels month and year\n> > -  section of few days defining begin and end as date  --> axis-label day\n> > and month (may be hour)\n> >\n> > Afer long tries with \"as.Date\" and Co. I still didn't get any useful\n> > result.\n> >\n> > Further is there any possibility to define the plot window using two\n> > variables like:\n> >\n> > begin <- \"22/2/2003 01:00:00\"\n> > end <- \"26/3/2003 07:00:00\"\n> >\n> > to plot the time series section in between this two dates?\n> >\n> > I am even not sure if the zoo package was the right choise for my problem.\n> >\n> > Thanks a lot in advance\n> >\n> > Best regards\n> >\n> > Jan\n> >\n> > University of Berne\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> >\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}