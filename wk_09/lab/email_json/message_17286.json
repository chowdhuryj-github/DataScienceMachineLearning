{"category": "ham", "to_address": "nicolas bertin <nbertin@gsc.riken.jp>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] problem installing Rpmi : mpi.h...Found in /usr/include/lam,\n yet \"libmpi not found\"", "body": "You have not told us your OS, but this looks like a x86_64 Redhat-based \nLinux and I will assume their file layout.\n\nIf so, this is a known problem with Rmpi, which I reported to the \nmaintainer quite a while back.\n\nYou do not want --with-mpi=/usr/lib64/lam, as that is not where lam is \n(I presume it is where liblam is).  But there is no means provided to have\nincludes in /usr/include/lam and library in /usr/lib64/lam, and paths are \nhardcoded into the package.  Note that whoever you are quoting said\n\n>> where /path/to/mpi is such that /path/to/mpi/include /path/to/mpi/lib,\n>> etc exists\n\nnot lib64, and there is no such prefix on x86_64 Linux.  (Also, that is \nnot what configure --help says, and the latter is wrong.)  Beyond that, \nthe configure code tests for a static library, and you will need a dynamic \none on x86_64 Linux to link into libRmpi.so.\n\nIf you have not bugged the Rmpi maintainer about this, please do so.\n\nIt is possible to hack your own Rmpi/src/Makevars to get this to work, but \nif you knew enough to do that I doubt it you would be asking this (and \nthe hack depends on your unstated OS).\n\n\nOn Fri, 27 Apr 2007, nicolas bertin wrote:\n\n>\n> I cannot manage to install Rmpi_0.5-3\n> ... using the regular \"Rshell\" install.packages(\"Rpmi\")\n>\n> I followed the advice of Martin to run the shell install command and\n> specify the location of mpi (located in \"/usr/lib64/lam/\" on my machine)\n> That is :\n> R CMD  INSTALL --configure-args=\"--with-mpi=/usr/lib64/lam\"\n> R/Rmpi_0.5-3.tar.gz\n>\n> But still get the following error\n> \t* Installing *source* package 'Rmpi' ...\n> \tTry to find mpi.h ...\n> \tFound in /usr/include/lam\n> \tTry to find libmpi or libmpich ...\n> \tchecking for main in -lmpi... no\n> \tlibmpi not found. exiting...\n> \tERROR: configuration failed for package 'Rmpi'\n> \t** Removing '/usr/lib64/R/library/Rmpi'\n>\n> Is there anything I do wrong, or any advice on what to check to figure\n> out the source of my problem?\n>\n> Thank you for your help\n>\n> Nicolas Bertin\n> GSC / RIKEN Yokohama\n>\n>\n>> Hi Nicolas --\n>>\n>> Please consider posting your problem and eventual solution to the R\n>> list serv, so others can benefit.\n>>\n>> Is this Rmpi_0.5-3 ? The messages do not quite look consistent. How\n>> are you installing Rmpi? It might be necessary to do so from the\n>> command line, e.g. with\n>>\n>> R CMD  INSTALL --configure-args=\"--with-mpi=/path/to/mpi\" Rmpi\n>>\n>> where /path/to/mpi is such that /path/to/mpi/include /path/to/mpi/lib,\n>> etc exists\n>\n>>>   I would like to try to use Rmpi as you advised me but I have some\n>>> problem to install this package.\n>>> The MPI installed on my machine was openmpi and upon installing Rmpi I\n>>> got the following error\n>>> \tchecking mpi.h usability... no\n>>> \tchecking mpi.h presence... no\n>>> \tchecking for mpi.h... no\n>>> \tTry to find libmpi or libmpich ...\n>>> \tchecking for main in -lmpi... no\n>>> \tlibmpi not found. exiting...\n>>>\n>>>    I could read that there are some issue with openmpi and proceed to\n>>> get remove openmpi and install lam/mpi instead.\n>>> LAM/mpi seems to work fine but I now get the following error message\n>>> upon installing Rmpi\n>>> \tchecking mpi.h usability... yes\n>>> \tchecking mpi.h presence... yes\n>>> \tchecking for mpi.h... yes\n>>> \tTry to find libmpi or libmpich ...\n>>> \tchecking for main in -lmpi... no\n>>> \tlibmpi not found. exiting...\n>>>\n>>>   Do you have any advice on what went possibly be wrong ?\n\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}