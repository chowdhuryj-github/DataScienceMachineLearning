{"category": "ham", "to_address": "david dav <davamaillist@gmail.com>", "from_address": "Uwe Ligges <ligges@statistik.uni-dortmund.de>", "subject": "Re: [R] names not inherited in functions", "body": "Not sure what you are going to get. Can you shorten your functions and \nspecify some example data? Then please tell us what your expected result is.\n\nBest,\nUwe Ligges\n\n\n\n\ndavid dav wrote:\n> Dear all,\n> \n> I 'd like to keep the names of variables when calling them in a function.\n> An example might help to understand my problem :\n> \n> The following function puts in a new data frame counts and percent of\n> a data.frame called as \"tablo\"\n> the step \" nom.chiffr[1] <- names(vari) \" is useless as names from the\n> original data.frame aren't kept in the function environement.\n> \n> Hoping I use appropriate R-vocabulary, I thank you for your help\n> \n> David\n> \n> descriptif <- function (tablo) {\n> \tdescriptifvar <- function (vari) {\n> \t\ttable(vari)\n> \t\tlength(vari[!is.na(vari)])\n> \t\tchiffr <- cbind(table(vari),100*table(vari)/(length(vari[!is.na(vari)])))\n> \t\tnom.chiffr <- rep(NA, dim(table(vari)))\n> \t\tif (is.null(names(vari))) nom.chiffr[1] <- paste(i,\"\") else\n> \t\tnom.chiffr[1] <- names(vari)\n> \t\tchiffr <- data.frame (  names(table(vari)),chiffr)\n> \t\trownames(chiffr) <- NULL\n> \t\tchiffr <- data.frame (nom.chiffr, chiffr)\n> \treturn(chiffr)\n> \t}\n> \t\n> \tres <- rep(NA, 4)\n> \tfor (i in 1 : ncol(tablo))\n> \t\tres <- rbind(res,descriptifvar(tablo[,i]))\n> \tcolnames(res) <- c(\"variable\", \"niveau\", \"effectif\", \"pourcentage\")\n> return(res[-1,])\n> }\t\n> # NB I used this function on a data.frame with only factors in\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}