{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22273 - in\n\tbranches/SAMBA_4_0/source/lib/replace: .", "body": "Author: metze\nDate: 2007-04-16 19:45:35 +0000 (Mon, 16 Apr 2007)\nNew Revision: 22273\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22273\n\nLog:\n- provide __LINESTR__ macro\n- add __STRINGSTRING() macro to really create a string of __LINE__\n- fix __location__ macro\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/lib/replace/README\n   branches/SAMBA_4_0/source/lib/replace/replace.h\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/replace/README\n===================================================================\n--- branches/SAMBA_4_0/source/lib/replace/README\t2007-04-16 19:23:17 UTC (rev 22272)\n+++ branches/SAMBA_4_0/source/lib/replace/README\t2007-04-16 19:45:35 UTC (rev 22273)\n@@ -79,8 +79,10 @@\n __FUNCTION__\n __FILE__\n __LINE__\n+__LINESTR__\n __location__\n __STRING\n+__STRINGSTRING\n MIN\n MAX\n QSORT_CAST\n\nModified: branches/SAMBA_4_0/source/lib/replace/replace.h\n===================================================================\n--- branches/SAMBA_4_0/source/lib/replace/replace.h\t2007-04-16 19:23:17 UTC (rev 22272)\n+++ branches/SAMBA_4_0/source/lib/replace/replace.h\t2007-04-16 19:45:35 UTC (rev 22273)\n@@ -439,8 +439,16 @@\n #define __STRING(x)    #x\n #endif\n \n+#ifndef _STRINGSTRING\n+#define __STRINGSTRING(x) __STRING(x)\n+#endif\n+\n+#ifndef __LINESTR__\n+#define __LINESTR__ __STRINGSTRING(__LINE__)\n+#endif\n+\n #ifndef __location__\n-#define __location__ __FILE__ \":\" __STRING(__LINE__)\n+#define __location__ __FILE__ \":\" __LINESTR__\n #endif\n \n #if MMAP_BLACKLIST\n\n"}