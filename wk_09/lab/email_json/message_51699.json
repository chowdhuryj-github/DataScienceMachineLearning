{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Aruna Goke <myklass@gmail.com>", "subject": "Re: the Database is not updated", "body": "Chas Owens wrote:\n> On 6/20/07, Paul Lalli  wrote:\n> snip\n>> This might not be necessary for the RDMS you use, but I generally end\n>> my database-driven scripts with this block:\n>>\n>> END {\n>>    if ($?) {\n>>         print \"Exiting with error, rolling back data!\\n\";\n>>         $dbh->rollback();\n>>    } else {\n>>         print \"Exiting successfully, committing data\\n\";\n>>         $dbh->commit();\n>>    }\n>>    $dbh->disconnect();\n>> }\n> snip\n> \n> The rollback and commit methods will only have an effect if you have\n> set AutoCommit => 0 in the hash you call the connect method with.\n> Otherwise you will get a \"commit ineffective with AutoCommit\" or\n> \"rollback ineffective with AutoCommit\" warning.\n> \nthank you all,\n\nHowever, it was not updated bcos the acctuniqueid value was getting a \nleading space which after i changed my code to read\n\n$x[6]=~s/\\s//gm;\n\nthe space was subtituted and all contents where updated.\n\nThank you.\n\nGoksie\n\nopen FH, '<', $fn or die \"The File $fn Could not be opened: $! \\n\";\nwhile()\n{\n#split the file into variables\n   @x[0,1,2,3,4,5,6]=split/,/;\n$x[6]=~s/\\s//gm;\n$sth->execute($x[2], $x[5], $x[4], $x[6]) or die \"Error executing \n<<$sth->{Statement}>> with values @x[2,5,4,6]: $DBI::errstr\";\n}\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}