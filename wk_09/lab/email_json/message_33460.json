{"category": "ham", "to_address": "Dharshana Eswaran <dharshana.ve@gmail.com>", "from_address": "Madan Kumar Nath <madank@noida.interrasystems.com>", "subject": "Re: Regarding files", "body": "\n\n\n\n\n\n\nHello,\n\n\u00a0\u00a0\u00a0\u00a0 Since you are having the whole file in an array.\n\u00a0\u00a0\u00a0 1. Keep an index to specify the current line read\n\u00a0\u00a0\u00a0 2. Once you found the desired string, you have the index also. So\nyou can \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 decrement the index and get the lines.\n\n$inex = 0;\nforeach $line (@lines) {\n\n$index++;\nif($line =~ m/ CHANNEL_INFO_T/)\n{\n\u00a0\u00a0\u00a0 \u00a0\u00a0 $prevLine1 = @lines[$index-1];\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 $prevLine2 = @lines[$index-2];\n}\n\u00a0# do something with $line\n\n}\n\n\n\n\nHope this helps\nMadan\n\n\nDharshana Eswaran wrote:\nHi All,\n  \n\nThe below code helps in reading a file in reverse:\n  \n\nuse strict;\n  \nuse warning;\n  \n\nopen( FILE, \"<$file_to_reverse\" )\n  \n\n\u00a0or die( \"Can't open file file_to_reverse: $!\" );\n  \n\n@lines = reverse <FILE>;\n  \nforeach $line (@lines) {\n  \n\u00a0# do something with $line\n  \n}\n  \n\nBut i am trying to grep for a string in the file and once i get the\nstring,\n  \n\nI need to read few lines which occurs before the string. For eg:\n  \n\ntypedef union\n  \n{\n  \n\u00a0\u00a0 TYPE_T type;\n  \n\u00a0 MODE_T mode;\n  \n} CHANNEL_INFO_T;\n  \n\nHere, I grep for CHANNEL_INFO_T, once i get that, i need to read the\n  \nelements defined in the union or structure.\n  \n\n\nI have written a code but i am unable to achieve what i wanted.\n  \n\nCan anyone guide me in this?\n  \n\nThanks and Regards,\n  \nDharshana\n  \n\n\n\n\n-- \n\n/home/madank/personal/signature.html\nThanx\n& Regards\n!!\n\nfrom Madan\n\nInterra Systems India Pvt. Ltd.\n\nA10, Sec9,NOIDA Ph: 0120-2442273/4 Ext 137\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\nvisit\nmy homepage\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \n\n\n\n\n\n\n\n"}