{"category": "ham", "to_address": "\"John W. Krahn\" <krahnj@telus.net>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: Sorting dir output", "body": "On 4/10/07, John W. Krahn  wrote:\n> Igor Sutton Lopes wrote:\nsnip\n> >     return unless -M $_ < 3;\n>\n> Why not just use the modified( '>3' ) rule?\nsnip\n\nThere doesn't seem to be a performance issue either way:\n         Rate    rule explict\nrule    450/s      --     -0%\nexplict 450/s      0%      --\n\n#!/usr/bin/perl\n\nuse strict;\nuse warnings;\n\nuse Benchmark;\nuse File::Find::Rule;\nuse File::Spec;\n\nmy $basedir = \"/home/cowens\";\n\n$a = 0;\n$b = 0;\n\nsub explict_wanted {\n    # using -M is better than doing the calculation to obtain the difference\n    # from now and three days ago.\n    $a++ unless -M $_ < 3;\n}\n\nsub rule_wanted {\n    $b++;\n}\n\n# we use the name '*' to remove the current directory.\nmy %subs = (\n        explict => sub {\n                File::Find::Rule->directory()->maxdepth(1)->name('*')\n                ->exec(\\&explict_wanted)->in($basedir);\n        },\n        rule => sub {\n                File::Find::Rule->directory()->maxdepth(1)->name('*')\n                ->modified('>3')->exec(\\&rule_wanted)->in($basedir);\n        }\n);\n\nBenchmark::cmpthese(-5, \\%subs);\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}