{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 112: fixed a fd bug (thanks volker) in\n\thttp://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 112\nrevision-id: tridge@samba.org-20070416124937-1a78f1fe8ec2719f\nparent: tridge@samba.org-20070416060137-6d90f720fec05ba5\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Mon 2007-04-16 22:49:37 +1000\nmessage:\n  fixed a fd bug (thanks volker)\nmodified:\n  tests/lockwait.c               lockwait.c-20070416055753-3ztnb4cxqgamfudx-1\n=== modified file 'tests/lockwait.c'\n--- a/tests/lockwait.c\t2007-04-16 06:01:37 +0000\n+++ b/tests/lockwait.c\t2007-04-16 12:49:37 +0000\n@@ -42,6 +42,7 @@\n \tvoid (*callback)(void *) = h->callback;\n \tvoid *p = h->private_data;\n \ttalloc_set_destructor(h, NULL);\n+\tclose(h->fd[0]);\n \ttalloc_free(h);\t\n \tcallback(p);\n \twaitpid(h->child, NULL, 0);\n\n"}