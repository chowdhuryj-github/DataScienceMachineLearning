{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Shiazy Fuzzy\" <shiazy@gmail.com>", "subject": "[R] Empirical Complementary CDF", "body": "Hi all,\n\nI'd like to plot an empirical LLCD (log-log-CCDF, where CCDF == 1-CDF).\nIt seems ecdf() and plot(ecdf()) can't do it. I'd like to reuse some\ngraphics features of ECDF plot.\nThe fastest way I've found is to copy&paste the ecdf code and writing\nthis function:\n--- [R-code] ---\neccdf <- function(x)\n{\n        x <- sort(x)\n        n <- length(x)\n        if (n < 1)\n                stop(\"'x' must have 1 or more non-missing values\")\n        vals <- sort(unique(x))\n        rval <- approxfun(vals, 1-cumsum(tabulate(match(x, vals)))/n, #[CHANGED]\n        method = \"constant\", yleft = 1, yright = 0, f = 0, ties = \"ordered\")\n        class(rval) <- c(\"eccdf\", \"stepfun\", class(rval)) #[CHANGED]\n        attr(rval, \"call\") <- sys.call()\n        rval\n}\n--- [/R-code] ---\n\nand the rewriting the plot.ecdf function:\n\n--- [R code] ---\nplot.eccdf <- function (x, ..., ylab = \"1-Fn(x)\", verticals = FALSE,\ncol.01line = \"gray70\") #CHANGED\n{\n    plot.stepfun(x, ..., ylab = ylab, verticals = verticals)\n    abline(h = c(0, 1), col = col.01line, lty = 2)\n}\n--- [/R-code] ---\n\nSo, is there a even faster way to get it?\n\nThank you so much!!\n\n-- Marco\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}