{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Julia Proudnikova <prudnikova@itcwin.com>", "subject": "[R] Question about lmer", "body": "Hello,\n\nWe have a problem with function lmer. This is our code:\n\nGet_values<-function(ff_count, fixed_factors, rf_count, random_factors, y_values)\n{       \n  SA<-matrix(as.array(c(fixed_factors, random_factors)), ncol=3)\n  data<-as.data.frame(SA)\n  y<-as.array(y_values)\n\n  dd<-data.frame(SA)\n  for(i in 1:(ff_count+rf_count)){\n    dd[,i]<-as.factor(data[,i])\n  }\n  \n  fit_full=lmer(y~dd[,1]+dd[,2]+(1|dd[,3]),method=\"ML\")    \n  fit_full\n}\n\nA<-c(0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1)\nB<-c(0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1)\nC<-c(0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1,0,0,1,1)\nY<-c(5,3,4,1,1,2,6,1,5,3,7,1,2,3,1,1,5,3,4,1,1,2,6,1,5,3,7,1,2,3,1,1)\nr<-Get_values(2, c(A,B),1,c(C),Y)\nr \n\nR output:\nError in inherits(x, \"factor\") : object \"dd\" not found\n\nCan this function work with random array? Because this code is\nworking:\n\nD<-as.factor(data[,3])\nfit_full=lmer(y~dd[,1]+dd[,2]+(1|D),method=\"ML\")\n \n\n-- \nTruly yours,\nJulia                 mailto:prudnikova@itcwin.com\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}