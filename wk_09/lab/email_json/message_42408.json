{"category": "ham", "to_address": "chromatic <chromatic@wgz.org>", "from_address": "Mark Glines <mark@glines.org>", "subject": "Re: GC bug on freebsd/x86, triggered by a perl6 test", "body": "On Mon, 4 Jun 2007 13:07:18 -0700\nchromatic  wrote:\n\n> On Monday 04 June 2007 12:49:45 Mark Glines wrote:\n> \n> > (the LD_LIBRARY_PATH bit is required on freebsd so parrot can find\n> > libparrot.so.)\n> \n> The GNU linker supports a flag to mark a relocatable shared library.\n> From my Makefile:\n> \n> \t -Wl,-rpath=/home/chromatic/dev/parrot/blib/lib\n> \n> I don't know which linker you use on FreeBSD, but is there a similar\n> flag?  If so, using it could clear up some of the dynamic loading\n> problems (especially for dynops and dynpmcs).\n\n$ ld --version\nGNU ld version 2.15 [FreeBSD] 2004-05-23\n\nSo it probably supports that flag.  I know next to nothing about\nFreeBSD, but here's how libparrot.so.* is currently linked:\n\ncc -shared  -L/usr/local/lib -Wl,-E -L/usr/local/lib -o blib/lib/libparrot.so.0.4.12 -Wl,-soname=libparrot.so.0.4.12 [list of objects] -lm -lcrypt -lutil -pthread -lreadline\n\n\nSoo... is that just something missing from the freebsd hints file,\nthen?\n\nMark\n\n"}