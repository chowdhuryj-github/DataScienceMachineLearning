{"category": "ham", "to_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "from_address": "Dan Williams <dcbw@redhat.com>", "subject": "Re: [sugar] [PATCH] services/presence/presenceservice:\n\tMake\tbytes_to_string() unnecessary by requesting a ByteArray\n\tfrom dbus-python", "body": "On Thu, 2007-05-24 at 12:48 +0100, Simon McVittie wrote:\n> -----BEGIN PGP SIGNED MESSAGE-----\n> Hash: SHA1\n> \n> - ---\n>  services/presence/presenceservice.py |    5 +++--\n>  1 files changed, 3 insertions(+), 2 deletions(-)\n\nOK\n\n> diff --git a/services/presence/presenceservice.py b/services/presence/presenceservice.py\n> index 0c8a2a5..a439372 100644\n> - --- a/services/presence/presenceservice.py\n> +++ b/services/presence/presenceservice.py\n> @@ -303,9 +303,10 @@ class PresenceService(ExportedGObject):\n>                  ret.append(buddy.object_path())\n>          return ret\n>  \n> - -    @dbus.service.method(_PRESENCE_INTERFACE, in_signature=\"ay\", out_signature=\"o\")\n> +    @dbus.service.method(_PRESENCE_INTERFACE,\n> +                         in_signature=\"ay\", out_signature=\"o\",\n> +                         byte_arrays=True)\n>      def GetBuddyByPublicKey(self, key):\n> - -        key = psutils.bytes_to_string(key)\n>          if self._buddies.has_key(key):\n>              buddy = self._buddies[key]\n>              if buddy.props.valid:\n> - -- \n> 1.5.2-rc3.GIT\n> \n> -----BEGIN PGP SIGNATURE-----\n> Version: GnuPG v1.4.6 (GNU/Linux)\n> Comment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n> \n> iD8DBQFGVXueWSc8zVUw7HYRAuNiAKDcizeX8ubVytd43AX0ZI0fX6QjCACgoJBy\n> RWUdbbtmdXzb+9+3kstw8mo=\n> =V7N0\n> -----END PGP SIGNATURE-----\n> _______________________________________________\n> Sugar mailing list\n> Sugar@laptop.org\n> http://mailman.laptop.org/mailman/listinfo/sugar\n\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}