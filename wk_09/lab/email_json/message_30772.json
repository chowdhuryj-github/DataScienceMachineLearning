{"category": "ham", "to_address": "Beginners List <beginners@perl.org>", "from_address": "\"Mumia W.\" <mumia.w.18.spam+nospam@earthlink.net>", "subject": "Re: Chinese word problem", "body": "On 05/16/2007 12:57 AM, Neil wrote:\n> Dear All:\n> \n> Question:\n> \n> How come the length of Chinese word I print shows \\u201c 3 \\u201c.\n> Isn\\u2019t it supposed to 2 bytes?\n> \n> Program:\n> -----------------------------------\n> $str=\\u201d\\u6211\\u201d;\n> \n> $str_len = length($str);\n> \n> Print $str_len, \\u201c\\n\\n\\u201d;\n> \n> ------------------------------------\n> The result is 3\n> \n> I took a picture for the program. In case of it doesn\\u2019t show Chinese word\n> in some of your system,\n> [...]\n> My environment:\n> [...]\n> Encode: Big5\n> \n\nSomething is messed up with your locale or environment. Since you only \nhave one character in $str, the length should be \"1\"--and that's what I get.\n\nI saved your program two ways: as a utf8 file and as a big5 file; both \nprograms produce the same result on my system: 1; however, to get your \nprogram to run, I had to change the quotes.\n\nHere is the first program (saved in UTF8):\n-----------------------------------\n#!/usr/bin/perl\nuse utf8;\nuse strict;\nuse warnings;\n\nmy $str=\"\\u6211\";\n\nmy $str_len = length($str);\n\nprint $str_len, \"\\n\\n\";\n----------------------------------\n\nHere is the second program (saved in Big5):\n--------------------------------------------\n#!/usr/bin/perl\nuse encoding big5 => STDOUT => 'utf8';\nuse strict;\nuse warnings;\n\nmy $str=\"\u00a7\u00da\";\n\nmy $str_len = length($str);\n\nprint $str_len, \"\\n\\n\";\nprint \"data = $str\\n\";\n--------------------------------------------\n\nThe second program displays this:\n------start output-------\n1\n\ndata = \\u6211\n-------end output--------\n\nEvidently the Big5 character sequence \\xA7\\xDA represents the single \nUnicode character \\x6211 which is the Chinese character \\u6211. You probably \njust need to tell Perl about the encoding of your script.\n\nMy environment:\nPerl 5.8.4\nDebian 3.1\nEncoding: UTF8\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}