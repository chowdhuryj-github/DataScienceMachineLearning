{"category": "ham", "to_address": "Yuchen Luo <realityrandom@gmail.com>", "from_address": "Petr Klasterecky <klaster@karlin.mff.cuni.cz>", "subject": "Re: [R] \"if\" within a function", "body": "You did not specify what your function should return and thus it returns \nthe last value by default. If a!=1, the value returned is 2, however if \na==1, the function tries to return the result of {if (a!=1) {aaa=2}}.\n\nYou can correct this easily by modifying your function like this:\naaa=function(a)\n{if (a==1) {aaa=1}\nif (a!=1) {aaa=2}\naaa\n}\n\nPetr\n\nYuchen Luo napsal(a):\n> Dear Friends.\n> I found a puzzling phenomenon in R when you use 'if' within a function:\n> \n> # defining a function aaa\n> aaa=function(a)\n> {if (a==1) {aaa=1};\n>  if (a!=1) {aaa=2}\n>  }\n> \n> # using the function:\n>> b=20\n>> bbb=aaa(b)\n>> bbb\n> [1] 2\n>> typeof(bbb)\n> [1] \"double\"\n>>\n>> c=1\n>> ccc=aaa(c)\n>> ccc\n> NULL\n>> typeof(ccc)\n> [1] \"NULL\"\n> \n> It seems that only the last 'if' phrase works. Is it an instrinsic weakness\n> of R? Is there a way to get around it? ( I use 'elseif' to get around this\n> when there are only two cases to choose from, but what if there are more\n> than two cases to choose from?)\n> \n> Best\n> Yuchen\n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n-- \nPetr Klasterecky\nDept. of Probability and Statistics\nCharles University in Prague\nCzech Republic\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}