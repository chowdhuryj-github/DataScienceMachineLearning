{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"David Reiss\" <dreiss@systemsbiology.org>", "subject": "[R] bug in closing gzfile-opened connections?", "body": "Hi,\nI am making multiple calls to gzfile() via read.table(), e.g.\n\n> x <- read.table( gzfile( \"xxx.gz\" ) )\n\nAfter i do this many times (I haven't counted, but probably between 50 and\n100 times) I get the error message:\n\nError in open.connection(file, \"r\") : unable to open connection\nIn addition: Warning message:\ncannot open compressed file 'xxx.gz'\n\nhowever, I also find that:\n\n> showConnections()\n     description class mode text isopen can read can write\n\nso there are no (apparently) open connections. Calling closeAllConnections()\ndoes not fix the problem. I have to quit and re-start R.\nI am using R 2.5.0 on a Mac (OSX 10.4.9).\n\nAnyone know if this is a bug or a 'feature'? I see from the gzfile help\nthat:\n\n In general functions using connections\n     will open them if they are not open, but then close them again, so\n     to leave a connection open call 'open' explicitly.\n\nThanks.\n-David\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}