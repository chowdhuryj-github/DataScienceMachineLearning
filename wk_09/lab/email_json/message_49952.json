{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Antje <niederlein-rstat@yahoo.de>", "subject": "[R] Readline", "body": "Hello,\n\nI also have problems to get to run the following lines. If I run the\nblock instead of every single line, it simply does not wait for the input.\nCan anybody help me?\n\n------------------------\npos_name <- readline(\"Please type: \")\n\nr <- substr(pos_name, 1,1)\nc <- substr(pos_name, 2,nchar(pos_name))\n\n------------------------\n\nThank you!\nAntje\n\n\nPeter Dalgaard schrieb:\n > > Forest Floor wrote:\n >> >> Hi,\n >> >>\n >> >> I've seen various posts on this question, but still can't get the \ncode\n >> >> right.\n >> >>\n >> >> If I run the following code one line at a time, it works fine. \nIf I run\n >> >> it together as a block, however, it doesn't wait for the input \nand gives\n\n\n >> >> an error.\n >> >>\n >> >> There must be a way to have are pause/wait for an answer, but I \ncan't\n >> >> seem to find it.  Thanks!  J\n >> >>\n >> >> Code:\n >> >>\n >> >> choosefunction <- function(){readline(\"1. linear, 2. linear with \nlag, 3.\n >> >> nonlinear \")}\n >> >> ans <- as.integer(choosefunction())\n >> >> if (ans==1){K2=x1}\n >> >> if (ans==2){K2=x2 }\n >> >> if (ans==3){K2=x3 }\n >> >> ans\n >> >>\n >> >> Error text:\n >> >>  > ans <- as.integer(choosefunction())\n >> >> 1. linear, 2. linear with lag, 3. nonlinear if (ans==1) {K2=x1}]}\n >> >> Warning message:\n >> >> NAs introduced by coercion\n >> >>  > if (ans==2){K2=x2) }\n >> >> Error in if (ans == 2) { : missing value where TRUE/FALSE needed\n >> >>  > if (ans==3){K2=x3}\n >> >> Error in if (ans == 3) { : missing value where TRUE/FALSE needed\n >> >>  > ans\n >> >> [1] NA\n >> >>\n > > As you may have realized already, the issue is that choosefunction()\n > > takes the next command as its input. Since \"if (ans==1){K2=x1}\" \nisn't an\n > > integer \"ans\" becomes NA, and it just goes downhill from there.\n > >\n > > An extra set of braces may help\n > >\n >> >> choosefunction <- function(){readline(\"1. linear, 2. linear with \nlag, 3.\n > > + nonlinear \")}\n >> >> {ans <- as.integer(choosefunction())\n > > + if (ans==1){K2=x1}\n > > + if (ans==2){K2=x2 }\n > > + if (ans==3){K2=x3 }\n > > + ans}\n > > 1. linear, 2. linear with lag, 3.\n > > nonlinear 3\n > > Error: object \"x3\" not found\n > >\n > > It still doesn't quite work, but the reason(s) for that should be plain\n > > to see.\n > >\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}