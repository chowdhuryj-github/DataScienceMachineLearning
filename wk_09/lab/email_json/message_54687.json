{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Mike Meredith <mmeredith@wcs.org>", "subject": "Re: [R] Data consistency checks in functions", "body": "\n\nTake a look at Help > Manuals (in PDF) > An Introduction to R, section 10.3.\n\nR will recognise the 2nd argument as 'values' iff you define your function\nas:\n\nmyfun <- function(theta, values, X)\n\nYou can use\n\nif(missing(values)) {\n   values <- some.expression(X)\n}\n\nto deal with cases where the user only supplies 1 argument.\n\nWhere does 'X' come from? If it's a predefined default (maybe something like\n'cbind(1:4, 1, 0)' ), better to define it within your function. If it's some\nobject 'X' lurking in the user environment, it could be changed by the user,\nso you don't know what it might be. A way around this is to require the user\nto provide either a vector or a matrix as the second argument, then sort\nthem out with:\n\nif(is.matrix(values)) {\n   values <- same.expression.as.before(values)\n}\n\nHTH,  Mike.\n\n\n\n\nAnup Nandialath wrote:\n> \n> Dear friends,\n> \n> I'm writing a function with three arguments\n> \n> myfun <- function(theta, X, values)\n> \n> {\n> ....\n> ....\n> }\n> \n> in this function, I'm trying to write consistency checks. In order to\n> compute the statistic of interest I only need theta and values. The idea\n> of having X in there is that, if values is not provided by the user, then\n> values is computed from X.\n> \n> my problem is I'm trying to write consistency checks. For instance if i\n> say\n> \n> output <- myfun(beta, val1), how do I ensure that R reads this as passing\n> arguments to \"theta\" and \"values\". In other words is it possible to bypass\n> X completely if values is provided. Also how is it possible for R to\n> recognize the second argument as being values and not X. This is important\n> because X is a matrix and values is a vector. Therefore any checks using\n> the dimensions of either one will land in trouble if it does not correctly\n> capture that. \n> \n> Thanks in advance\n> Sincerely\n> \n> Anup\n> \n>        \n> ---------------------------------\n> \n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n> \n\n-- \nView this message in context: http://www.nabble.com/Data-consistency-checks-in-functions-tf3962728.html#a11264566\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}