{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "\"Stefan (metze) Metzmacher\" <metze@samba.org>", "subject": "Re: svn commit: samba r23175 - in branches/SAMBA_4_0:\n .\tsource/lib/replace source/script source/selftest", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\njelmer@samba.org schrieb:\n> Log:\n> Handle PKG_CONFIG_PATH not set yet - fixes warning in selftest.pl\n\n> Modified: branches/SAMBA_4_0/source/lib/replace/replace.h\n> ===================================================================\n> --- branches/SAMBA_4_0/source/lib/replace/replace.h\t2007-05-28 14:24:36 UTC (rev 23174)\n> +++ branches/SAMBA_4_0/source/lib/replace/replace.h\t2007-05-28 21:04:59 UTC (rev 23175)\n> @@ -258,6 +258,14 @@\n>  #endif\n>  #endif\n>  \n> +#ifndef _DEPRECATED_\n> +#if (__GNUC__ >= 3) && (__GNUC_MINOR__ >= 1 )\n> +#define _DEPRECATED_ __attribute__ ((deprecated))\n> +#else\n> +#define _DEPRECATED_\n> +#endif\n> +#endif\n> +\n>  #ifndef HAVE_VASPRINTF\n>  #define vasprintf rep_vasprintf\n>  int rep_vasprintf(char **ptr, const char *format, va_list ap) PRINTF_ATTRIBUTE(2,0);\n> \n> Modified: branches/SAMBA_4_0/source/script/mkproto.pl\n> ===================================================================\n> --- branches/SAMBA_4_0/source/script/mkproto.pl\t2007-05-28 14:24:36 UTC (rev 23174)\n> +++ branches/SAMBA_4_0/source/script/mkproto.pl\t2007-05-28 21:04:59 UTC (rev 23175)\n> @@ -180,10 +180,10 @@\n>  \t\t}\n>  \n>  \t\tnext unless ( $is_public || $line =~ /\n> -\t\t\t      ^void|^BOOL|^bool|^int|^struct|^char|^const|^\\w+_[tT]\\s|^uint|^unsigned|^long|\n> -\t\t\t      ^NTSTATUS|^ADS_STATUS|^enum\\s.*\\(|^DATA_BLOB|^WERROR|^XFILE|^FILE|^DIR|\n> -\t\t\t      ^double|^TDB_CONTEXT|^TDB_DATA|^TALLOC_CTX|^NTTIME|^FN_|^init_module|\n> -\t\t\t      ^GtkWidget|^GType|^smb_ucs2_t|^krb5_error_code\n> +\t\t\t      (_DEPRECATED_ )?^(void|BOOL|bool|int|struct|char|const|\\w+_[tT]\\s|uint|unsigned|long|NTSTATUS|\n> +\t\t\t\t  ADS_STATUS|enum\\s.*\\(|DATA_BLOB|WERROR|XFILE|FILE|DIR|\n> +\t\t\t      double|TDB_CONTEXT|TDB_DATA|TALLOC_CTX|NTTIME|FN_|init_module|\n> +\t\t\t      GtkWidget|GType|smb_ucs2_t|krb5_error_code)\n>  \t\t\t      /xo);\n>  \n>  \t\tnext if ($line =~ /^int\\s*main/);\n\nHi Jelmer,\n\nI don't think you wanted to commit this...\n\nmetze\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.5 (GNU/Linux)\nComment: Using GnuPG with SUSE - http://enigmail.mozdev.org\n\niD8DBQFGW+xxm70gjA5TCD8RAk8UAJ9tAWbzq0uYImkSWKeRBkrUqu2t9QCfewCR\noD2p26M65i5hKGF89yUJnCU=\n=tAX3\n-----END PGP SIGNATURE-----\n\n"}