{"category": "ham", "to_address": "Todd Stecher <todd.stecher@isilon.com>", "from_address": "Jeremy Allison <jra@samba.org>", "subject": "Re: Problem with DELETE_ON_CLOSE open_file_ntcreate()?", "body": "On Tue, Jun 19, 2007 at 02:16:27PM -0700, Todd Stecher wrote:\n> \n> Thanks - it turns out that when  you use a creation_disposition of  \n> FILE_OPEN, then info == FILE_WAS_OPENED - this results in a failure  \n> to check the FILE_DELETE_ON_CLOSE bit in the 3.0.24 codebase - as I  \n> mentioned, we can't upgrade, so I think I'll have to hack this  \n> together and run smbtorture.\n\nYes, this was the case I fixed.\n\n> Unfortunately, due to our FS related divergence from the codebase, a  \n> number of smbtorture tests fail - which would you recommend as most  \n> pertinent in this case?\n\nIsn't it possible to re-add your changes to a more recent codebase ?\nWe do keep making it better you know (at least that's the plan :-).\n\nJeremy.\n\n"}