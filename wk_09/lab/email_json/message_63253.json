{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Drescher, Michael (MNR)\" <michael.drescher@ontario.ca>", "subject": "[R] problem assigning to indexed data frame element", "body": "Hi All,\n\nSorry if I ask an obvious thing, I am still new to R ...\n\nI created a data frame of given dimensions to which I gave strings as\ncolumn names. I want to write to elements of the data frame by indexing\nthem with the row number and column name (string). The problem is that I\ncan read elements from the data frame in this way, but I cannot assign\nto elements in this way. Instead, I get the following error message:\n\nError in Summary.factor(..., na.rm = na.rm) : \n        min not meaningful for factors\n\nPlease find the code I used farther below. It would be great if someone\ncould help me.\n\nBest regards, Michael\n\nPS: Coincidentally, I found this same error message mentioned in another\ncontext (levelplot) as indicating a bug (original bug report PR# 6005 on\nMon, 22 Dec 2003)\n\n------------------------\nMichael Drescher\nOntario Forest Research Institute\nOntario Ministry of Natural Resources\n1235 Queen St East\nSault Ste Mudle, ON, P6A 2E3\nTel: (705) 946-7406\nFax: (705) 946-2030\n\n------------------------\n\nCode:\n> sfalls.plot.comp <- matrix(nrow=plot.count, ncol=spec.count, byrow=T)\n> colnames(sfalls.plot.comp) <- levels(SPECIES)\n### SPECIES, SPP_VOL, & PLOT are columns/variables in a previously read\ndata file\n> sfalls.plot.comp <- data.frame(sfalls.plot.comp)\n> attach(sfalls.plot.comp)\n> sfalls.plot.comp[is.na(sfalls.plot.comp)] <- 0\n\n> sfalls.plot.comp\n  Bf Bw Pj Po Sb\n1  0  0  0  0  0\n2  0  0  0  0  0\n\n> hh <- 1\n> current.spec <- SPECIES[hh]; current.vol <- SPP_VOL[hh]; current.plot\n<- PLOT[hh]\n\n> current.spec\n[1] Bf\nLevels: Bf Bw Pj Po Sb\n\n> current.vol\n[1] 2\n\n> current.plot\n[1] 1\n\n> sfalls.plot.comp[current.plot,current.spec]\n### thus, reading from the data frame in this way (using the column\nname/string) works fine\n[1] 0\n\n> sfalls.plot.comp[current.plot,current.spec] <- current.vol\t### but\nassigning in this way does not work\nError in Summary.factor(..., na.rm = na.rm) : \n        min not meaningful for factors\n\n> sfalls.plot.comp[current.plot,1] <- current.vol\n### assigning by using the column number instead of the column name of\ncourse does work\n> sfalls.plot.comp[current.plot,current.spec]\n[1] 2\n\n> sfalls.plot.comp[current.plot,\"Bw\"] <- current.vol\n### as does assigning when replacing 'current.spec' for its assigned\nvalue in quotes, e.g., \"Bw\"\n> sfalls.plot.comp[current.plot,\"Bw\"]\n[1] 2\n\n> sfalls.plot.comp\n  Bf Bw Pj Po Sb\n1  2  2  0  0  0\n2  0  0  0  0  0\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}