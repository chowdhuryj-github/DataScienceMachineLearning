{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "mimir@samba.org", "subject": "svn commit: samba r23292 - in branches/SAMBA_4_0/source/libnet: .", "body": "Author: mimir\nDate: 2007-06-01 12:29:22 +0000 (Fri, 01 Jun 2007)\nNew Revision: 23292\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23292\n\nLog:\ncheck for errors returned in a call result.\n\n\nrafal\n\n\nModified:\n   branches/SAMBA_4_0/source/libnet/userman.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/libnet/userman.c\n===================================================================\n--- branches/SAMBA_4_0/source/libnet/userman.c\t2007-06-01 12:24:57 UTC (rev 23291)\n+++ branches/SAMBA_4_0/source/libnet/userman.c\t2007-06-01 12:29:22 UTC (rev 23292)\n@@ -246,8 +246,13 @@\n {\n \t/* receive samr_LookupNames result */\n \tc->status = dcerpc_ndr_request_recv(s->req);\n+\n+\t/* check rpc layer status */\n \tNT_STATUS_NOT_OK_RETURN(c->status);\n \n+\t/* check the call itself status */\n+\tNT_STATUS_NOT_OK_RETURN(s->lookupname.out.result);\n+\n \t/* what to do when there's no user account to delete\n \t   and what if there's more than one rid resolved */\n \tif (!s->lookupname.out.rids.count) {\n\n"}