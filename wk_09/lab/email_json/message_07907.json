{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Vladimir Eremeev <wl2776@gmail.com>", "subject": "Re: [R] Export multiple data files from R", "body": "\nYou didn't describe the exact format of the .gpr files.\nThere are 32 heading lines in each file, which are now hidden from R\ncommunity.\nYou 'skip' 31 of them in read.table, and one more plays header ('header=T').\n\nSince you are using read.table, your files are usual ascii files.\nYou shoud use 'cat' and/or 'write.table' R functions to accomplish your\ntask. There are some more functions exist.\nUsing them, you should explicitly write those 32 lines, and then write the\nrest contents of the resulting data frame.\n\n\nJenny persson wrote:\n> \n> Dear R-users,\n>    \n>   I have 10 data files in gpr format (dat1.gpr,...,dat10.gpr). I want to\n> read in these files one by one in R and then add one extra column (called\n> log) to each data file as below \n>                                                                                                                 \n>   data.file=sort(dir(path ='C:/Documents and Settings/ Mina\n> dokument/data1, pattern = \".gpr$\",full.names = TRUE))\n>   num.data.files<- length(data.file)\n>   num.data.files\n>    \n>   i=1\n>   ### read  one data file\n>    data<-read.table(file =\n> data.file[i],skip=31,header=T,sep='\\t',na.strings=\"NA\")\n>       \n>   ### Define the log ratio using values in column 2 resp 8 \n>      log=as.matrix(log((data[,2])/(data[,8])))\n>    \n>   ### append column called log to data frame data, for the reading data\n> file\n>      data=cbind(data,log)\n>    \n>   ### Read remaining data files\n>    for (i in 2:num.data.files) {\n>    \n>   \n> data<-read.table(file=data.file[i],header=T,skip=31,sep='\\t',na.strings=\"NA\") \n>          \n>      log=as.matrix(log((data[,2])/(data[,8])))\n>      data=cbind(data,log)\n>                                              }\n>    \n>   Now I want to export these files (with an extra column in each) as\n> gpr-files in a folder called data2 but don't know exactly how to do it,\n> can you help me out ?\n>     \n>   Thanks for your help,\n>    \n>   Jenny\n> \n\n-- \nView this message in context: http://www.nabble.com/Export-multiple-data-files-from-R-tf3587093.html#a10036489\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}