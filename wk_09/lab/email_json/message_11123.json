{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22414 - in\n\tbranches/SAMBA_4_0/source/script/tests: .", "body": "Author: metze\nDate: 2007-04-20 17:13:52 +0000 (Fri, 20 Apr 2007)\nNew Revision: 22414\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22414\n\nLog:\nuse more portable perl\n\nhopefully fix solaris 8...\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/script/tests/selftest.pl\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/script/tests/selftest.pl\n===================================================================\n--- branches/SAMBA_4_0/source/script/tests/selftest.pl\t2007-04-20 16:07:16 UTC (rev 22413)\n+++ branches/SAMBA_4_0/source/script/tests/selftest.pl\t2007-04-20 17:13:52 UTC (rev 22414)\n@@ -343,11 +343,11 @@\n \n \tsetup_pcap($msg_state);\n \n-\t$msg_ops->{start_msg}($msg_state);\n+\t$msg_ops->{start_msg}->($msg_state);\n \n \topen(RESULT, \"$cmd 2>&1|\");\n \twhile () {\n-\t\t$msg_ops->{output_msg}($msg_state, $_);\n+\t\t$msg_ops->{output_msg}->($msg_state, $_);\n \t\tif (/^test: (.+)\\n/) {\n \t\t\t$open_tests->{$1} = 1;\n \t\t} elsif (/^(success|failure|skip|error): (.*?)( \\[)?\\n/) {\n@@ -377,14 +377,14 @@\n \t\t}\n \t}\n \tforeach (keys %$open_tests) {\n-\t\t$msg_ops->{output_msg}($msg_state, \"$_ was started but never finished!\\n\");\n+\t\t$msg_ops->{output_msg}->($msg_state, \"$_ was started but never finished!\\n\");\n \t\t$statistics->{TESTS_ERROR}++;\n \t}\n \tmy $ret = close(RESULT);\n \n \tcleanup_pcap($msg_state,  $expected_ret, $ret);\n \n-\t$msg_ops->{end_msg}($msg_state, $expected_ret, $ret);\n+\t$msg_ops->{end_msg}->($msg_state, $expected_ret, $ret);\n \n \tif ($ret != $expected_ret) {\n \t\tpush(@$suitesfailed, $name);\n\n"}