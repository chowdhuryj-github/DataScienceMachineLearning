{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Chris Stubben <stubben@lanl.gov>", "subject": "Re: [R] RMySQL question, sql with R vector or list", "body": "\n> I am trying to write a RMySQL sql script inside R such that part of the SQL\n> would be R list or vector.  For example, I want to select * from Atable\n> where ID would equal to a members of R list or vector of \"1, 2, 3\".  Here\n> the ID list was generated inside R and then try to feed to mysql to call to\n> get additional data sets.\n> \n\n\nYou could pass a comma-separated list of IDs to the sql IN operator\n\n\n## in MySQL\n\nCREATE table tmp (id int, name char(1));\ninsert into tmp values (1, \"A\"), (2, \"B\"), (3, \"C\"), (4, \"D\"), (5, \"E\");\n\n\n\n### in R\n\n\nlibrary(RMySQL)\n\ncon <- dbConnect(\"MySQL\",  dbname=\"test\" )\n\n\nid.in<-function(ids)\n{\n dbGetQuery(con,   paste(\"select * from tmp \nwhere id IN (\", paste(ids,collapse=\",\"), \")\")  ) \n}\n\n\n\nid.in(2:4)\n  id name\n1  2    B\n2  3    C\n3  4    D\n\n\n## simple lists also work\n\nid.in(list(1,4,5))\n  id name\n1  1    A\n2  4    D\n3  5    E\n\n\nChris\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}