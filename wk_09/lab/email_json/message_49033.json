{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r23517 - in branches: SAMBA_3_0/source/smbd\n\tSAMBA_3_0_26/source/smbd", "body": "Author: vlendec\nDate: 2007-06-16 10:02:51 +0000 (Sat, 16 Jun 2007)\nNew Revision: 23517\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23517\n\nLog:\nAfter Jeremy has given is ack on irc:\n\nChange rename_internals to open the file/directory and then call\nrename_internals_fsp. Two reasons: Remove code duplication and remove a\nrace condition. The race condition was due to the fact that in\ncan_rename the share mode check closed the file and then after that did\nthe rename.\n\n\n\nModified:\n   branches/SAMBA_3_0/source/smbd/reply.c\n   branches/SAMBA_3_0_26/source/smbd/reply.c\n\n\nChangeset:\nSorry, the patch is too large (693 lines) to include; please use WebSVN to see it!\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23517\n\n"}