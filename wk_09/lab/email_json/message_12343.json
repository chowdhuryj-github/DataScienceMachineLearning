{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r22443 - in\n\tbranches/SAMBA_4_0/source/torture/rpc: .", "body": "Author: abartlet\nDate: 2007-04-22 09:17:25 +0000 (Sun, 22 Apr 2007)\nNew Revision: 22443\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22443\n\nLog:\nIt isn't fatal to get the case wrong on this stuff.\n\nAndrew Bartlett\n\nModified:\n   branches/SAMBA_4_0/source/torture/rpc/drsuapi_cracknames.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/torture/rpc/drsuapi_cracknames.c\n===================================================================\n--- branches/SAMBA_4_0/source/torture/rpc/drsuapi_cracknames.c\t2007-04-22 07:49:54 UTC (rev 22442)\n+++ branches/SAMBA_4_0/source/torture/rpc/drsuapi_cracknames.c\t2007-04-22 09:17:25 UTC (rev 22443)\n@@ -930,10 +930,17 @@\n \t\t\t} else if (crack[i].expected_str\n \t\t\t\t   && (strcmp(r.out.ctr.ctr1->array[0].result_name, \n \t\t\t\t\t      crack[i].expected_str) != 0)) {\n-\t\t\t\tprintf(\"DsCrackNames failed - got %s, expected %s on %s\\n\", \n-\t\t\t\t       r.out.ctr.ctr1->array[0].result_name, \n-\t\t\t\t       crack[i].expected_str, comment);\n-\t\t\t\tret = False;\n+\t\t\t\tif (strcasecmp(r.out.ctr.ctr1->array[0].result_name, \n+\t\t\t\t\t       crack[i].expected_str) != 0) {\n+\t\t\t\t\tprintf(\"DsCrackNames failed - got %s, expected %s on %s\\n\", \n+\t\t\t\t\t       r.out.ctr.ctr1->array[0].result_name, \n+\t\t\t\t\t       crack[i].expected_str, comment);\n+\t\t\t\t\tret = False;\n+\t\t\t\t} else {\n+\t\t\t\t\tprintf(\"(warning) DsCrackNames returned different case - got %s, expected %s on %s\\n\", \n+\t\t\t\t\t       r.out.ctr.ctr1->array[0].result_name, \n+\t\t\t\t\t       crack[i].expected_str, comment);\n+\t\t\t\t}\n \t\t\t} else if (crack[i].expected_dns\n \t\t\t\t   && (strcmp(r.out.ctr.ctr1->array[0].dns_domain_name, \n \t\t\t\t\t      crack[i].expected_dns) != 0)) {\n\n"}