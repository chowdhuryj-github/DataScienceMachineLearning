{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r23303 - in\n\tbranches/SAMBA_4_0/source/lib/replace: .", "body": "Author: metze\nDate: 2007-06-02 08:00:45 +0000 (Sat, 02 Jun 2007)\nNew Revision: 23303\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23303\n\nLog:\nso HP-UX 11.11 also likes the 11.00 workarround for broken\npread/pwrite when using large file support.\n\nmetze\nModified:\n   branches/SAMBA_4_0/source/lib/replace/libreplace_cc.m4\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/replace/libreplace_cc.m4\n===================================================================\n--- branches/SAMBA_4_0/source/lib/replace/libreplace_cc.m4\t2007-06-02 06:28:38 UTC (rev 23302)\n+++ branches/SAMBA_4_0/source/lib/replace/libreplace_cc.m4\t2007-06-02 08:00:45 UTC (rev 23303)\n@@ -60,15 +60,10 @@\n \t*hpux*)\n \t\t# mmap on HPUX is completely broken...\n \t\tAC_DEFINE(MMAP_BLACKLIST, 1, [Whether MMAP is broken])\n-\t\tif test \"`uname -r`\" = \"B.11.00\"; then\n-\t\t\tAC_MSG_WARN([Enabling HPUX 11.00 header bug workaround])\n+\t\tif test \"`uname -r`\" = \"B.11.00\" -o \"`uname -r`\" = \"B.11.11\"; then\n+\t\t\tAC_MSG_WARN([Enabling HPUX 11.00/11.11 header bug workaround])\n \t\t\tCFLAGS=\"$CFLAGS -Dpread=pread64 -Dpwrite=pwrite64\"\n \t\tfi\n-\t\tif test \"`uname -r`\" = \"B.11.11\"; then\n-\t\t\tAC_MSG_WARN([Enabling HPUX 11.11 header bug workaround])\n-\t\t\t#CFLAGS=\"$CFLAGS -D_LARGEFILE64_SUPPORT -D__LP64__ -DO_LARGEFILE=04000\"\n-\t\t\tCFLAGS=\"$CFLAGS -Dpread=pread64 -Dpwrite=pwrite64\"\n-\t\tfi\n \t\tif test \"`uname -r`\" = \"B.11.23\"; then\n \t\t\tAC_MSG_WARN([Enabling HPUX 11.23 machine/sys/getppdp.h bug workaround])\n \t\t\tCFLAGS=\"$CFLAGS -D_MACHINE_SYS_GETPPDP_INCLUDED\"\n\n"}