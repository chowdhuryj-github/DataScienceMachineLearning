{"category": "ham", "to_address": "beginners perl <beginners@perl.org>", "from_address": "Rob Dixon <rob.dixon@350.com>", "subject": "Re: XML::Writer creates a file but fails to be recognized", "body": "Dave Adams wrote:\n>\n> When generating a file with XML::Writer the script certainly builds the \n> file but when I go to test for it, it fails.  Does anyone have a reason why?\n> How do I create a file that I can use in the rest of my script?\n> \n> use XML::Writer;\n> use IO::File;\n> my $output = new IO::File(\">test.xml\");\n> my $writer = new XML::Writer(OUTPUT => $output);\n> $writer->startTag(\"greeting\",\"class\" => \"simple\");\n> $writer->characters(\"Hello, world!\");\n> $writer->endTag(\"greeting\");\n> $writer->end();\n> $output->close();\n> \n> #Test to make sure this file exist before preceding\n> if (! -r $output) {\n>    print (\"ERROR:  can't read /$output XML file.\");\n> }\n\nPlease, always\n\n  use strict;\n  use warnings;\n\nat the start of your programs. That will find a lot of simple problems.\n\nYou're testing whether your file handle $output is opened to a read-permitted\nfile. First of all you opened it write-only so you won't be able to read from\nthe handle even if you have read permissions. Secondly you've closed the handle,\nso it's not referring to a file at all any more.\n\nJust open the file for read, checking any errors you get. If you don't\nhave read permission then the open will fail:\n\n  open my $in, 'test.xml' or die \"ERROR:  can't read XML file: $!\";\n\n  while (<$in>) {\n    print;\n  }\n\nHTH,\n\nRob\n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}