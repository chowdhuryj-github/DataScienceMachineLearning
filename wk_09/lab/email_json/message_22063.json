{"category": "ham", "to_address": "Silvia Lomascolo <slomascolo@zoo.ufl.edu>", "from_address": "Petr PIKAL <petr.pikal@precheza.cz>", "subject": "Re: [R] NAs introduced by coercion in dist()", "body": "r-help-bounces@stat.math.ethz.ch napsal dne 02.05.2007 16:47:55:\n\n> \n> It was suggested that the 'NAs introduced by coercion' message might be\n> warning me that my data are not what they should be.  I checked this \nusing\n> str(PeaksMatrix), as suggested, and the data seem to be what I thought \nthey\n> were: \n> \n> 'data.frame':   335 obs. of  127 variables:\n>  $ Code   : Factor w/ 335 levels \"A1MR\",\"A1MU\",..: 1 2 3 4 5 6 7 8 9 10 \n...\n>  $ P3.70  : num  0 0 0 0 0 0 0 0 0 0 ...\n>  $ P3.97  : num  0 0 0 0 0 0 0 0 0 0 ...\n>  $ P4.29  : num  0 0 0 0 0 0 0 0 0 0 ...\n>  $ P4.90  : num  0 0 0 0 0 0 0 0 0 0 ...\n>  $ P6.30  : num  0 0 0 0 0 0 0 0 0 0 ...\n>  $ P6.45  : num  7.73 0 0 0 0 0 4.03 0 0 0 ...\n>  $ P6.55  : num  0 0 0 0 0 0 0 0 0 0 ...\n> \n> ...\n> \n> I do have 335 observations, 127 variables that are named P3.70, 3.97, \nP4.29,\n> etc..  This was a relief, but I still don't know whether the distance \nmatrix\n> is what it should be.  I tried 'str(dist.PxMx)', which is the name of my\n> distance matrix, but I get something that has not much meaning to me, an\n> unexperienced R user:\n> \n> Class 'dist'  atomic [1:55945] 329.6 194.9 130.1  70.7 116.9 ...\n>   ..- attr(*, \"Size\")= int 335\n>   ..- attr(*, \"Labels\")= chr [1:335] \"1\" \"2\" \"3\" \"4\" ...\n>   ..- attr(*, \"Diag\")= logi FALSE\n>   ..- attr(*, \"Upper\")= logi FALSE\n>   ..- attr(*, \"method\")= chr \"euclidean\"\n>   ..- attr(*, \"call\")= language dist(x = PeaksMatrix, method = \n\"euclidean\",\n> diag = FALSE, upper = FALSE,      p = 2)\n> \n> Any more suggestions, please?\n\nWell, it seems that you have the data which you want but why you do not \nsee them is not clear for me.\n\nI tried:\n\nx<-sample(0:2, 100, replace=T)\ndim(x)<-c(10,10)\nx\n      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]\n [1,]    0    1    0    0    1    1    1    1    0     1\n [2,]    0    1    0    2    1    0    2    0    0     2\n [3,]    0    2    0    0    0    1    1    0    1     2\n...\n[10,]    1    2    0    0    1    2    0    2    1     0\nxx<-data.frame(var=c(\"a\", \"b\"),x)\nxx\n   var X1 X2 X3 X4 X5 X6 X7 X8 X9 X10\n1    a  0  1  0  0  1  1  1  1  0   1\n2    b  0  1  0  2  1  0  2  0  0   2\n....\n9    a  1  1  0  1  1  0  0  2  2   0\n10   b  1  2  0  0  1  2  0  2  1   0\n\ndist(xx, method='euclidean', diag=F,upper=F)\n          1        2        3        4        5        6        7        8 \n       9\n2  2.966479  \n3  2.345208 3.146427  \n4  3.633180 3.633180 4.571652  \n5  4.195235 5.549775 4.571652 4.195235  \n6  4.195235 4.195235 4.062019 3.924283 3.924283  \n7  1.816590 3.781534 3.316625 3.781534 3.781534 4.806246  \n8  2.774887 4.571652 3.633180 4.062019 4.062019 4.806246 3.316625  \n9  3.316625 4.449719 4.062019 4.449719 3.316625 4.449719 2.774887 3.146427 \n \n10 2.774887 5.029911 3.633180 4.324350 3.146427 4.324350 2.569047 2.966479 \n2.774887\n\nxxx<-dist(xx, method='euclidean', diag=F,upper=F)\nWarning message:\nNAs introduced by coercion \nstr(xxx)\nClass 'dist'  atomic [1:45] 2.97 2.35 3.63 4.20 4.20 ...\n  ..- attr(*, \"Size\")= int 10\n  ..- attr(*, \"Diag\")= logi FALSE\n  ..- attr(*, \"Upper\")= logi FALSE\n  ..- attr(*, \"method\")= chr \"euclidean\"\n  ..- attr(*, \"call\")= language dist(x = xx, method = \"euclidean\", diag = \nF, upper = F)\n\nseems to be similar to what you get. So I wonder why you do not see you \nmatrix. Try dist.PxMx[1:50] or head(dist.PxMx) to see if you can get \nsomething from it.\n\nRegards\nPetr\n\n> \n> \n> \n> Silvia Lomascolo wrote:\n> > \n> > I work with Windows and use R version 2.4.1. I am JUST starting to \nlearn\n> > this program...\n> > \n> > I get this warning message 'NAs introduced by coercion' while trying \nto\n> > build a distance matrix (to be analyzed with NMDS later) from a 336 x \n100\n> > data matrix.  The original matrix has lots of zeros and no missing \nvalues,\n> > but I don't think this should matter.\n> > \n> > I searched this forum and people have suggested that the warning \nshould be\n> > ignored but when I try to print the distance matrix I only get the row\n> > numbers (the matrix seems to be 'empty') and I'm not being able to \njudge\n> > whether the matrix worked or not.\n> > \n> > To get the distance matrix I wrote:\n> > dist.PxMx <- dist (PeaksMatrix, method='euclidean', diag=FALSE,\n> > upper=FALSE)\n> > \n> > I tried including the p argument (included in the help for dist()) and\n> > leaving it out, but that didn't seem to change anything.  I think \nthat's\n> > required for one distance measure though, not for euclidean dist. \n> > \n> > Should I really ignore this warning? If so, why am I not being able to \nsee\n> > the distance matrix?\n> > \n> \n> -- \n> View this message in context: http://www.nabble.com/NAs-introduced-by-\n> coercion-in-dist%28%29-tf3680727.html#a10286882\n> Sent from the R help mailing list archive at Nabble.com.\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}