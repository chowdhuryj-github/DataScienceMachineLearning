{"category": "ham", "to_address": "debian-laptop@lists.debian.org", "from_address": "Florian Kulzer <florian.kulzer@icfo.es>", "subject": "Re: IBM T22 S3 Savage Video Sarge to Etch Upgrade", "body": "On Tue, Apr 17, 2007 at 20:48:19 -0400, jtl wrote:\n> On Tue, 17 Apr 2007 20:10:22 +0200 Florian Kulzer wrote:\n> > You seem to have two problems:\n> > \n> > 1) graphics card\n> > \n> > Try to comment out the \"VideoRam 4000\" line from xorg.conf. If this does\n> > not make the error go away then you have to reduce your resolution\n> > and/or DefaultDepth. I think this error is not the reason for X to fail\n> > completely, but your graphics rendering will be significantly faster and\n> > use less CPU cycles if you get the DRI (direct rendering infrastructure)\n> > going.\n> > \n> > 2) mouse and touchpad\n> > \n> > There is a problem with the device node for mouse and touchpad. Try to\n> > do \"modprobe psmouse\" as root and check if you can start X after that.\n> > If this does not help then we need the output of these two commands:\n> > \n> > ls -l /dev/input/by-id\n> > awk '/Section \"InputDevice\"/,/EndSection/' /etc/X11/xorg.conf\n\n[...]\n\n> 1. Commenting out VideoRam 4000 line in /etc/X11/xorg.conf:  No change.\n>    Reducing screen default depth from 24 to 16 to 8: No change.\n\nThen maybe you indeed need to change a BIOS setting or the card simply\ndoes not have more video ram. I never had a savage card, therefore I am\nnot aware of whatever specific tricks might exist for these models.\nLet's focus on the mouse problem for now as this seems to be the\ncritical thing which keeps your X from starting.\n\n> 2. modprobe psmouse as root then type X to start X: No change.\n>    ls -l /dev/input/by-id reports no such file name. \n>    ls -l /dev/input/ reports the following:\n>    total 0\n>    crw-rw---- 1 root root 13, 64 2005-02-26 00:43 event0\n>    crw-rw---- 1 root root 13, 65 2005-02-26 00:43 event1\n>    crw-rw---- 1 root root 13, 66 2005-02-26 00:43 event2\n>    crw-rw---- 1 root root 13, 67 2005-02-26 00:43 event3\n>    crw-rw---- 1 root root 13,  0 2005-02-26 00:43 js0\n>    crw-rw---- 1 root root 13,  1 2005-02-26 00:43 js1\n>    crw-rw---- 1 root root 13,  2 2005-02-26 00:43 js2\n>    crw-rw---- 1 root root 13,  3 2005-02-26 00:43 js3\n>    crw-rw---- 1 root root 13, 63 2005-02-26 00:43 mice\n>    crw-rw---- 1 root root 13, 32 2005-02-26 00:43 mouse0\n>    crw-rw---- 1 root root 13, 33 2005-02-26 00:43 mouse1\n>    crw-rw---- 1 root root 13, 34 2005-02-26 00:43 mouse2\n>    crw-rw---- 1 root root 13, 35 2005-02-26 00:43 mouse3\n\nI am surprised that you do not have the \"by-id\" and \"by-path\"\ndirectories in /dev/input. I am starting to suspect that there is\nsomething wrong with udev on your system. (udev is responsible for\ncreating the device nodes.) Can you post the output of these two\ncommands:\n\ndpkg -l udev hotplug\nuname -a\n\nMeanwhile you can try a few more things:\n\nMake sure that the \"mdetect\" package is installed and run \"mdetect\" as\nroot. It should give you two lines of output, the device node and the\nprotocol for your mouse. Try to use these strings for \"Device\" and\n\"Protocol\" in your /etx/X11/xorg.conf.\n\nYou can search for the mouse device yourself by testing each device\nnode. As root you can run, e.g.\n\ncat /dev/input/mice | hd\n\nand move the mouse. If you have used the right device node then you\nshould see output (codes) scrolling by. (You can exit with CTRL + C.)\nCan you find the device node for the mouse? (also try the mouseX ones)\n\n[...]\n\n>    Section \"InputDevice\"\n> \tIdentifier\t\"Configured Mouse\"\n> \tDriver\t\t\"mouse\"\n> \tOption\t\t\"CorePointer\"\n> \tOption\t\t\"Device\"\t\t\"/dev/psaux\"\n> \tOption\t\t\"Protocol\"\t\t\"PS/2\"\n>    EndSection\n>    Section \"InputDevice\"\n> \tIdentifier\t\"Synaptics Touchpad\"\n> \tDriver\t\t\"synaptics\"\n> \tOption\t\t\"SendCoreEvents\"\t\"true\"\n> \tOption\t\t\"Device\"\t\t\"/dev/psaux\"\n> \tOption\t\t\"Protocol\"\t\t\"auto-dev\"\n> \tOption\t\t\"HorizScrollDelta\"\t\"0\"\n>   EndSection\n>\n> Added to xorg.config ServerFlags Section:\n>    Option \"AllowMouseOpenFail\"  \"true\"\n>    X fails on first resolution attempted. Boots to gray background\n>    with X crosshairs, no mouse, no menu on second attempt.\n\nWell, at least we know now that the mouse is the most critical part at\nthe moment.\n\n-- \nRegards,            | http://users.icfo.es/Florian.Kulzer\n          Florian   |\n\n\n-- \nTo UNSUBSCRIBE, email to debian-laptop-REQUEST@lists.debian.org\nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org\n\n"}