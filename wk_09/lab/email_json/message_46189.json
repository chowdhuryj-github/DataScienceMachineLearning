{"category": "ham", "to_address": "\"MICHELE DE MEO\" <micheledemeo@gmail.com>", "from_address": "\"Dimitris Rizopoulos\" <dimitris.rizopoulos@med.kuleuven.be>", "subject": "Re: [R] Gini coefficient in R", "body": "try this version instead:\n\ngini <- function(x, unbiased = TRUE, na.rm = FALSE){\n    if (!is.numeric(x)){\n        warning(\"'x' is not numeric; returning NA\")\n        return(NA)\n    }\n    if (!na.rm && any(na.ind <- is.na(x)))\n        stop(\"'x' contain NAs\")\n    if (na.rm)\n        x <- x[!na.ind]\n    n <- length(x)\n    mu <- mean(x)\n    N <- if (unbiased) n * (n - 1) else n * n\n    ox <- x[order(x)]\n    dsum <- drop(crossprod(2 * 1:n - n - 1,  ox))\n    dsum / (mu * N)\n}\n\n########################\n\ngini(c(100,0,0,0))\n\n\nI hope it helps.\n\nBest,\nDimitris\n\n----\nDimitris Rizopoulos\nPh.D. Student\nBiostatistical Centre\nSchool of Public Health\nCatholic University of Leuven\n\nAddress: Kapucijnenvoer 35, Leuven, Belgium\nTel: +32/(0)16/336899\nFax: +32/(0)16/337015\nWeb: http://med.kuleuven.be/biostat/\n     http://www.student.kuleuven.be/~m0390867/dimitris.htm\n\n\n----- Original Message ----- \nFrom: \"MICHELE DE MEO\" \nTo: \nSent: Monday, June 11, 2007 4:13 PM\nSubject: [R] Gini coefficient in R\n\n\n> If I use the Ineq library and the Gini function in this way:\n>\n>>Gini(c(100,0,0,0))\n>\n> I obtain the result 0.75 instead of 1 (that is the perfect \n> inequality).\n>\n> I think Gini's formula in Ineq is based on a formula as reported \n> here:\n> http://mathworld.wolfram.com/GiniCoefficient.html\n>\n> but in the case of perfect inequality:\n>\n> x_1=.......=x_n-1 =0\n>\n> x_n>0\n>\n> these formula are equal to 1 - 1/n, not to 1.\n>\n> ....I don't know where I'm wrong....\n>\n>\n> -- \n> Michele De Meo\n> http://micheledemeo.blogspot.com/\n>\n> [[alternative HTML version deleted]]\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \n> http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n\nDisclaimer: http://www.kuleuven.be/cwis/email_disclaimer.htm\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}