{"category": "ham", "to_address": "Perl Beginners <beginners@perl.org>", "from_address": "charlie farinella <cfarinella@appropriatesolutions.com>", "subject": "How can I respond to Net::FTP timeouts?", "body": "I have a script which uses Net::FTP to upload a backup file each night.  \nIt sends me an email each night if it succeeds and a different email if \nany of the methods fail.  This all works, but sometimes the ftp \nconnection times out and my script hangs without sending anything.  \n\nI don't know how to catch the timeout and send the failure message when \nthat happens.\n\nHere is basically what I have:\n==\nmy $ftp = Net::FTP->new( \"hostname\", Debug => 1, Timeout => 240 )\n  or send_fail(), die;\n\n$ftp->login( \"login info\" ) or send_fail(), die;\n$ftp->put( \"filename\" ) or send_fail(), die;\n$ftp->quit or send_fail(), die;\n\n$send_success;\n==\n\nHere is what my log says regarding the timeout:\n\n==\nNet::FTP=GLOB(0x96a486c)<<< 150 Ok to send data.\nUncaught exception from user code:\n        Timeout at /usr/lib/perl5/5.8.5/Net/FTP.pm line 789\n at /usr/lib/perl5/5.8.5/Net/FTP/A.pm line 88\n\n\n-- \n------------------------------------------------------------------------\nCharles Farinella \nAppropriate Solutions, Inc. (www.AppropriateSolutions.com)\ncfarinella@AppropriateSolutions.com\nvoice: 603.924.6079   fax: 603.924.8668\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}