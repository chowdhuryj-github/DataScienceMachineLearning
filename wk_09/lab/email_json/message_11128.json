{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Inman, Brant A.   M.D.\" <Inman.Brant@mayo.edu>", "subject": "[R] Using power.t.test over a range of conditions", "body": "\nR-Helpers:\n\nI would like to perform sample size calculations for an experiment.  As\npart of this process, I would like to know how various assumptions\naffect the sample size calculation.  For instance, one thing that I\nwould like to know is how the calculated sample size changes as I vary\nthe difference that I would like to detect.  I tried the following\nfirst, but got the associated error message.\n\n-----------------\n\n> power.t.test(delta=seq(500,2000,100), sd=1000, sig.level=0.05,\npower=0.8,\n+ type='two.sample', alt='two.sided')\n\nError in uniroot(function(n) eval(p.body) - power, c(2, 1e+07)) : \n        invalid function value in 'zeroin'\nIn addition: Warning message:\nthe condition has length > 1 and only the first element will be used in:\nif (f(lower, ...) \n* f(upper, ...) >= 0) stop(\"f() values at end points not of opposite\nsign\") \n>\n\n-----------------\n\n>From the error message I suspected that the function did not handle\nvectors as arguments.  I therefore tried the following looping structure\nto solve the problem:\n\n-----------------\n\n\nDELTA  <- seq(500,2000,250)\nSD\t <- seq(1000,2500,250)\nresult <- matrix(nrow=length(DELTA), ncol=length(SD))\n\tcolnames(result) <- paste('SD=',SD, sep='')\n\trownames(result) <- paste('Delta=',DELTA, sep='')\n\nfor(i in 1:length(DELTA)){\n\tfor(j in 1:length(SD)){\n\t\tresult[i,j] <- power.t.test(delta=DELTA[i], sd=SD[j],\nsig.level=0.05, power=0.8,\n\t\t\ttype='two.sample', alt='two.sided')\n\t}\n}\n\nError in result[i, j] <- power.t.test(delta = DELTA[i], sd = SD[j],\nsig.level = 0.05,  : \n        number of items to replace is not a multiple of replacement\nlength\n\n-----------------\n\nCan some one tell me what I am doing wrong here?\n\nThanks in advance for your help,\n\nBrant Inman\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}