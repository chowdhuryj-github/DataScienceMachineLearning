{"category": "ham", "to_address": "perl6-internals@perl.org", "from_address": "particle@cvs.develooper.com", "subject": "[svn:parrot-pdd] r18464 - trunk/docs/pdds", "body": "Author: particle\nDate: Tue May  8 08:30:57 2007\nNew Revision: 18464\n\nModified:\n   trunk/docs/pdds/pdd07_codingstd.pod\n\nLog:\n#42903: [PATCH] Add guards to the rest of the headerfiles\n~ include reason for new standard\n~ increase precision in definition\n~ correct indentation from prior commit\n~ modify example to clarify use of nested preprocessor macros\n\nModified: trunk/docs/pdds/pdd07_codingstd.pod\n==============================================================================\n--- trunk/docs/pdds/pdd07_codingstd.pod\t(original)\n+++ trunk/docs/pdds/pdd07_codingstd.pod\tTue May  8 08:30:57 2007\n@@ -256,22 +256,24 @@\n \n =item *\n \n-Header files must be wrapped with guard macros, which must have a PARROT_,\n-followed by some unique and descriptive text identifying the header file, and\n-be followed with a _GUARD suffix.  The matching #endif must have the guard\n+Header files must be wrapped with guard macros to prevent header redefinition.\n+The guard macro must begin with C, followed by unique and descriptive\n+text identifying the header file (usually the directory path and filename,)\n+and end with a C<_GUARD> suffix.  The matching C<#endif> must have the guard\n macro name in a comment, to prevent confusion.  For example, a file named\n-parrot/foo.h might look like:\n+F might look like:\n \n     #ifndef PARROT_FOO_H_GUARD\n-    #  define PARROT_FOO_H_GUARD\n-    \n-    #  include \"parrot/config.h\"\n-    #  ifdef PARROT_HAS_FEATURE_FOO\n+    #define PARROT_FOO_H_GUARD\n+\n+    #include \"parrot/config.h\"\n+    #ifdef PARROT_HAS_FEATURE_FOO\n+    #  define FOO_TYPE bar\n     typedef struct foo {\n-    \t...\n+        ...\n     } foo_t;\n-    #  endif /* PARROT_HAS_FEATURE_FOO */\n-   \n+    #endif /* PARROT_HAS_FEATURE_FOO */\n+\n     #endif /* PARROT_FOO_H_GUARD */\n \n =back\n\n"}