{"category": "ham", "to_address": "Perl Beginners <beginners@perl.org>", "from_address": "\"John W. Krahn\" <krahnj@telus.net>", "subject": "Re: Sorting the items in a directory", "body": "Nigel Peck wrote:\n> \n> Hi,\n\nHello,\n\n> I have a list containing the names of all items in a directory. I want\n> to sort it by non-directories first and then directories, with a\n> secondary sort in alphabetical order.\n> \n> I currently have:\n> \n> --------------------------------\n> my @items = sort {\n>     \n>     my $a_path = $args->{directory_from} . '\\\\' . $a;\n>     my $b_path = $args->{directory_from} . '\\\\' . $b;\n>     \n>     ( -d $a_path ) ? 1 : 0;\n>     \n> } readdir $directory;\n> --------------------------------\n> \n> which gets me the non-directories first and directories after but not in\n> alphabetical order.\n> \n> I don't want to rely on the alphabetical ordering from the readdir as I\n> believe that Perl's sort does not guarantee to maintain ordering in\n> future releases?\n> \n> Can't get my head round this, please help! :)\n\n\nmy @items = map \"$args->{directory_from}/$_\", do {\n    my ( @dirs, @files );\n    push @{ -d \"$args->{directory_from}/$_\" ? \\@dirs : \\@files }, $_\n        for sort readdir $directory;\n    @files, @dirs;\n    };\n\n\n\n\nJohn\n-- \nPerl isn't a toolbox, but a small machine shop where you can special-order\ncertain sorts of tools at low cost and in short order.       -- Larry Wall\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}