{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Peter Scott <Peter@PSDT.com>", "subject": "Re: How to sum up values", "body": "On Tue, 24 Apr 2007 13:33:32 +0200, Andrej Kastrin wrote:\n\n> Question about the sum function; the file structure is as follows:\n> \n> A|100\n> A|200\n> A|150\n> B|20\n> B|90\n> C|10\n> C|30\n> C|300\n> \n> The result I want to obtain is to sum values in the second column \n> (columnB) for each particular letter in the first column (ColumnA); e.g.:\n> \n> A|450\n> B|100\n> C|330\n> \n> I don't want to use hash structure because the input file is very large. \n> Is there any simple way to do that step-by-step: to sum up values in \n> columnB until the letter in columnA changes and print the result...\n\nIf the first column is only a letter how many possible values could there\nbe?  How could a hash get too big?  You wouldn't even need a script, you\ncould do it in one line:\n\n$ cat input\nA|100\nA|200\nA|150\nB|20\nB|90\nC|10\nC|30\nC|300\n\n$ perl -F'\\|' -lane '$h{$F[0]} += $F[1]; END{print \"$_: $h{$_}\" \\\n                     for sort keys %h}' input \nA: 450\nB: 110\nC: 340\n\n-- \nPeter Scott\nhttp://www.perlmedic.com/\nhttp://www.perldebugged.com/\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}