{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "vlendec@samba.org", "subject": "svn commit: samba r23709 - in branches: SAMBA_3_0/source/rpc_server\n\tSAMBA_3_0_26/source/rpc_server", "body": "Author: vlendec\nDate: 2007-07-04 22:28:04 +0000 (Wed, 04 Jul 2007)\nNew Revision: 23709\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23709\n\nLog:\nC++ warnings\nModified:\n   branches/SAMBA_3_0/source/rpc_server/srv_echo_nt.c\n   branches/SAMBA_3_0_26/source/rpc_server/srv_echo_nt.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/rpc_server/srv_echo_nt.c\n===================================================================\n--- branches/SAMBA_3_0/source/rpc_server/srv_echo_nt.c\t2007-07-04 20:25:29 UTC (rev 23708)\n+++ branches/SAMBA_3_0/source/rpc_server/srv_echo_nt.c\t2007-07-04 22:28:04 UTC (rev 23709)\n@@ -50,7 +50,7 @@\n \t\treturn;\n \t}\n \n-\tr->out.out_data = TALLOC(p->mem_ctx, r->in.len);\t\n+\tr->out.out_data = TALLOC_ARRAY(p->mem_ctx, uint8, r->in.len);\n \tmemcpy( r->out.out_data, r->in.in_data, r->in.len );\n \treturn;\t\n }\n@@ -78,7 +78,7 @@\n \t\treturn;\n \t}\n \n-\tr->out.data = TALLOC(p->mem_ctx, r->in.len );\n+\tr->out.data = TALLOC_ARRAY(p->mem_ctx, uint8, r->in.len );\n \n \tfor (i = 0; i < r->in.len; i++ ) {\t\t\n \t\tr->out.data[i] = i & 0xff;\n\nModified: branches/SAMBA_3_0_26/source/rpc_server/srv_echo_nt.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/rpc_server/srv_echo_nt.c\t2007-07-04 20:25:29 UTC (rev 23708)\n+++ branches/SAMBA_3_0_26/source/rpc_server/srv_echo_nt.c\t2007-07-04 22:28:04 UTC (rev 23709)\n@@ -50,7 +50,7 @@\n \t\treturn;\n \t}\n \n-\tr->out.out_data = TALLOC(p->mem_ctx, r->in.len);\t\n+\tr->out.out_data = TALLOC_ARRAY(p->mem_ctx, uint8, r->in.len);\n \tmemcpy( r->out.out_data, r->in.in_data, r->in.len );\n \treturn;\t\n }\n@@ -78,7 +78,7 @@\n \t\treturn;\n \t}\n \n-\tr->out.data = TALLOC(p->mem_ctx, r->in.len );\n+\tr->out.data = TALLOC_ARRAY(p->mem_ctx, uint8, r->in.len );\n \n \tfor (i = 0; i < r->in.len; i++ ) {\t\t\n \t\tr->out.data[i] = i & 0xff;\n\n"}