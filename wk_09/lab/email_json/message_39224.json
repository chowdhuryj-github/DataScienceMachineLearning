{"category": "ham", "to_address": "samba-technical@lists.samba.org", "from_address": "Steve Langasek <vorlon@debian.org>", "subject": "Re: [PATCH 2/10] Debian patch: Unknown purpose!", "body": "On Thu, May 31, 2007 at 06:52:54AM +1000, Andrew Bartlett wrote:\n> On Wed, 2007-05-30 at 22:10 +0200, Christian Perrier wrote:\n> > The attached patch is currently used in Debian.\n\n> > I am afraid that we (at least Steve Langasek and me) have no idea of\n> > what it may have be meant for.\n\n> > We can't even tell whether it is Debian specific or not and even the\n> > name doesn't help....:-|\n\n> I remember this one...\n\n> The first part is because you have some parinoid users who pass the\n> password on the command line, but don't want the password's length\n> easily guessed by how many Xs are left in the argv buffer, visible vi\n> ps, after we process it.  (note the race while we process it is\n> unprotected).\n\n> It would seem to me a reasonable request, except that this information\n> is probably available by looking at the offset of the next argv buffer. \n\nHeh, confirmed; I didn't realize that /proc/$pid/cmdline on Linux would\nreturn a full buffer rather than a set of null-terminated strings.  This\nseems to be the case for /proc/$pid/environ as well, so both of these\nmeasures are circumventable, at least on Linux 2.6.\n\nAre you inclined to apply it anyway, or should we just drop it?\n\n-- \nSteve Langasek                   Give me a lever long enough and a Free OS\nDebian Developer                   to set it on, and I can move the world.\nvorlon@debian.org                                   http://www.debian.org/\n\n"}