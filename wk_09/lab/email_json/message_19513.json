{"category": "ham", "to_address": "\"'Sugar List'\" <sugar@laptop.org>, John Gilmore <gnu@toad.com>,\n   Don Hopkins <dhopkins@DonHopkins.com>", "from_address": "Don Hopkins <dhopkins@DonHopkins.com>", "subject": "[sugar] Cairo build autogen.sh fails is TERM=dumb in emacs shell\n\twindow", "body": "I ran across the following problem when trying to run \"sugar-jhbuild \nbuild\" in an Emacs shell window, whose terminal type was set to \"dumb\" \nby default:\n\nWhen it tried to build Cairo and ran \"./autogen.sh --prefix ...\", that \nshell script returned immediately with an error code without producing \nany output.\n\nThe problem was on the line that went:\n\nboldface=\"`tput bold 2>/dev/null`\"\n\nThat was failing because the terminal type was set to \"dumb\".\nOnce I set the terminal type to \"vt100\" it worked, though.\n\nApparently \"tset\" fails if the terminal type does not support bold \nhighlighting, which causes the autogen script to fail.\n\nIt looks like a lot of the different packages use \"tput\" in their \nautogen.sh scripts:\ncaio, dbus-glib, poppler, pyabiword, pycairo, pygobject, pygtk\n\nMaybe it would be a  good idea to leave fragile useless bells and \nwhistles like escape codes for terminal highlighting out of the \nconfiguration and build process.\n\n    -Don\n\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}