{"category": "ham", "to_address": "sugar@laptop.org", "from_address": "Marco Pesenti Gritti <mpg@redhat.com>", "subject": "[sugar] New approach to the controls implementation", "body": "Hello,\n\nthe idea to write our own set of controls on the base of\nHippoCanvas was a bad one. I still think that would have been the best\napproach from an architectural point of view. Also I think that's the\nway gtk should be going on the long term. But:\n\n* We should be leading this change upstream rather than doing our own\nthing which will be incompatible with current gtk and also with gtk 3.0,\nwhatever direction they actually choose.\n\n* The time is not mature for the switch. HippoCanvas miss a lot of\nfeatures that will be necessary to replace gtk widgets. We don't have\nresources to add these features.\n\n* Writing controls is *hard*. It takes a lot of time to get all the\nbehaviors and states right.\n\n* We need to be able to do the controls work on demand, so that we can\nkeep our main focus on features.\n\nThese are the main reasons of the direction change. I'm *sorry* to not\nhave put more thinking into it before, I really screwed up there. I\nguess the lesson to learn here is that, even if we are doing innovative\ndesign, we should always try to do it extending our platform, rather\nthen replacing.\n\nGoing more in the concrete of the new approach. There are three main use\ncases our graphics API will have to cover:\n\n* Free form views (html/flash like).\n* Custom controls implementation.\n* Controls framework.\n\nThe controls framework will be based on gtk. We will try hard to use gtk\nAPI and semantics where at all possible. We will extend it when it make\nsense. We will patch gtk where it's possible to get the changes\nupstream.\n\nWe will use HippoCanvas for custom controls implementation where it's\nuseful but we will not expose it in the API.\n\nWe will use HippoCanvas to implement free form views (ex. the journal\none). We can embed gtk widgets in it for the controls.\n\nI, Eben and Tomeu had three day meeting in Milan last week to go over\nthe whole controls design specification and figure out the general API\nrequirements and framework. The implementation work already started. I'm\ngoing to post a separate mail with more information for the activity\nauthors.\n\nMarco\n\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}