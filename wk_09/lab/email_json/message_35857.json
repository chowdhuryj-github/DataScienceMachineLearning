{"category": "ham", "to_address": "Martin Morgan <mtmorgan@fhcrc.org>", "from_address": "adschai@optonline.net", "subject": "Re: [R] Question about setReplaceMethod", "body": "Sorry Martin. I had that line in my actual code. It did not work. I looked around all the google but it doesn't seem to have answer to this. Any ideas? Thank you.\n\n- adschai\n\n----- Original Message -----\nFrom: Martin Morgan \nDate: Thursday, May 24, 2007 9:35 pm\nSubject: Re: [R] Question about setReplaceMethod\nTo: adschai@optonline.net\nCc: r-help@stat.math.ethz.ch\n\n> Hi Adschai --\n> \n> You'll want to return the value whose slot you have modified:\n> \n> setReplaceMethod(\"setX\", \"foo\",\n> function(this,value) {\n> this@x <- value\n> this # add this line\n> })\n> \n> Martin\n> \n> adschai@optonline.net writes:\n> \n> > Hi \n> > \n> > I have the code like I show below. The problem here is that I \n> have a\n> > setReplacementMethod to set the value of my class slot. However,\n> > this function doesn't work when I call it within another function\n> > definition (declared by setMethod) of the same class. I do not\n> > understand this behavior that much. I'm wondering how to make this\n> > work? Any help would be really appreciated. Thank you.\n> > \n> > setClass(\"foo\", \n> > representation(x=\"data.frame\", y=\"character\"))\n> > setGeneric(\"setX<-\", function(this, value), \n> standardGeneric(\"setX<-\"))\n> > setReplaceMethod(\"setX\", \"foo\",\n> > function(this,value) {\n> > this@x <- value\n> > })\n> > setGeneric(\"generateFrame\", function(this), \n> standardGeneric(\"generateFrame\"))> \n> setReplaceMethod(\"generateFrame\", \"foo\",\n> > function(this) {\n> > frame <- read.csv(file=\"myfile.csv\", header=T) # read some \n> input file\n> > this@x <- frame # this doesn't replace the value for me\n> > setX(this) <- frame # this doesn't replace the value for me\n> > frame # instead I have to return the frame object\n> > })\n> > foo <- function(x,y) {\n> > objFoo <- new(\"foo\", x=data.frame(NULL), y=\"\")\n> > frame <- generateFrame(objFoo) # after this point, nothing got \n> assigned to objFoo@x\n> > setX(objFoo) <- frame # this will work (why do I have to \n> duplicate this??) \n> > }\n> > - adschai\n> >\n> > [[alternative HTML version deleted]]\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide http://www.R-\n> project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> \n> -- \n> Martin Morgan\n> Bioconductor / Computational Biology\n> http://bioconductor.org\n> \n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}