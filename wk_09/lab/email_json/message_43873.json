{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Chris Stubben <stubben@lanl.gov>", "subject": "Re: [R] Question: RMySQL bulk load/update one column,\n\tdbWriteTable()?", "body": "\n> I have a question reading using RMySQL trying to load one R vector into a\n> table column.  To be more specifically, the table is there populated.  Now I\n> add a new column and want to populate this.\n> \n\n\nOkay, this is more of an SQL question now, but you could just use dbWriteTable\nand then do an multi-table update.\n\n\n\ndbGetQuery(con, \"select * from tmp\")\n\n  id name\n1  1    A\n2  2    B\n3  3    C\n4  4    D\n5  5    E\n\n\ndbSendQuery(con, \"alter table tmp add column r2 float\")\n\n## calculate some statistic for all or some ids in table\n\n\nx<-dataframe(id=1:5, r2=c(.1, .4, .9, .4,.7))\n\n\ndbWriteTable(con, \"r2tmp\",  x )\n\n\ndbSendQuery(con, \"update tmp t, r2tmp r set t.r2=r.r2 where t.id=r.id\")\n\n\ndbGetQuery(con, \"select * from tmp\")\n\n  id name  r2\n1  1    A 0.1\n2  2    B 0.4\n3  3    C 0.9\n4  4    D 0.4\n5  5    E 0.7\n\n\nChris\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}