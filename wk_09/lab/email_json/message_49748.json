{"category": "ham", "to_address": "r-help <r-help@stat.math.ethz.ch>,\n   \"David Barron\" <mothsailor@googlemail.com>", "from_address": "\"Economics Guy\" <economics.guy@gmail.com>", "subject": "Re: [R] Storing output vector form a loop as a matrix", "body": "That gives:\n\nError in output.matrix[, i] <- as.vector(output.vector) :\n        number of items to replace is not a multiple of replacement length\n\nBut I think that is close.\n\nThanks,\n\nEG\n\nOn 6/17/07, David Barron  wrote:\n>\n> I'm not sure I've completely understood this, but would this do what you\n> want:\n>\n>\n> for (i in 1:N){\n>\n> aa <- sample(a, replace=TRUE)\n>\n> c <-data.frame(b,aa)\n>\n> output <- by(c, aa, function(x) sum(x$b))\n>\n> output.matrix[,i] <- as.vector(output)\n> }\n>\n>\n>\n> On 17/06/07, Economics Guy  wrote:\n> > Based on help files and searching the archives and help from the\n> listserv I\n> > have managed to build my monte carlo program.\n> >\n> > However I cannot get the proper syntax for running the loop and storing\n> the\n> > output of each loop (which is a vector) into a matrix.\n> >\n> > I took out some of the crazy code I was writing, but here is what I\n> have:\n> >\n> > --------------------\n> >\n> > rm(list = ls(all = TRUE))\n> > # removes everything\n> >\n> > a <-c(\"A\",\"C\",\"B\",\"A\",\"B\",\"C\")\n> >\n> > b <-c(10,20,30,40,50,60)\n> >\n> > c <-data.frame(a,b)\n> >\n> > N=10 #Number of Loops\n> >\n> > output.matrix <- matrix(0.0,3,N)\n> >\n> > #I need to START LOOP HERE\n> >\n> > a <- sample(a, replace=TRUE)\n> >\n> > c <-data.frame(b,a)\n> >\n> > output.vector <- by(c, a, function(x) sum(x$b))\n> >\n> > output.vector <- as.vector(output)\n> >\n> > output.vector <- data.frame(output)\n> >\n> > #END LOOP here\n> >\n> >\n> > --------------------------\n> >\n> > What I would like to have at the end is the \"output.matrix\" contain as a\n> > column the  \"output.vector\" from  each iteration. The actual data frame\n> I\n> > will be running has 60,000 observations and I am going to run 20000\n> > iterations so speed is important too.\n> >\n> > Thanks so much\n> >\n> > EG\n> >\n> >         [[alternative HTML version deleted]]\n> >\n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained, reproducible code.\n> >\n>\n>\n> --\n> =================================\n> David Barron\n> Said Business School\n> University of Oxford\n> Park End Street\n> Oxford OX1 1HP\n>\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}