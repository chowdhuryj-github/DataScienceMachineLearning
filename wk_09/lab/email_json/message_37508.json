{"category": "ham", "to_address": "beginners@perl.org, perl-beginners@moderators.isc.org", "from_address": "pauld <pdcooper@blueyonder.co.uk>", "subject": "Re: accesing a hash of an array of hashes", "body": "thanks for the help - im looking up hash slices - but id like to get\nsomething that works and then i can add new ideas etc so im going to\nleave it as it for the time being.\n\nData::Dumper has helped sort out where  an error is coming\n\n#!/usr/bin/perl -w\nuse strict;\nuse warnings;\nopen O, \"<$file\" or die \"could not open $file - $!\";\nundef $/;\nmy $whole_file = ;\nclose O;\n$whole_file=~s/\\x0D\\x0A1/\\x0D\\x0AABC1/g;my @rows=split(/\\x0D\\x0AABC/,\n$whole_file);\n######splits in the correct place after looking at the CSV file with a\nhex editor - ugly but it seems to work ATM######\n\nmy %hash;\nmy  @headings=split(/,/,$rows[0])\n for (my $j=1;$j<=2;$j++)\n{\nmy @columns = $csv->fields ();\n\nfor (my $i=0;$i<=$#columns;$i++)  {$hash{$headings[$i]}=$columns[$i];}\n\nprint Dumper(%hash);\npush (@{$Hofdates{$hash{OPDATE}}},\\%hash);\nprint Dumper (%Hofdates);\n}\n\nand i get this output\n\n\n#############1st record\n\n$VAR1 = 'STANTIME';\n$VAR2 = '06:04';\n$VAR3 = 'T3_AN2no';\n$VAR4 = '';\n$VAR5 = 'DESC3';\n$VAR6 = '';\n$VAR7 = 'T1_ANSNAME';\netc etc to the end\nthen\n\n-----------------01/10/2006---BROWN---------------\n$VAR1 = '01/10/2006';\n$VAR2 = [\n          {\n            'STANTIME' => '06:04',\n            'T3_AN2no' => '',\n            'DESC3' => '',\n            'T1_ANSNAME' => 'SMITH',\n            'P3_STANDTIME' => '',\n            'T2_AN2name' => '',\n\n             'CANCREASON' => '',\n            'RN2_NO' => '',\n            'T2_SUSDuty' => ''\n          }\n        ];\n\n#######################2nd record from file\n$VAR1 = 'STANTIME';\n$VAR2 = '17:39';\n$VAR3 = 'T3_AN2no';\n$VAR4 = '';\n$VAR5 = 'DESC3';\n$VAR6 = '';\n\n$VAR347 = 'CANCREASON';\n$VAR348 = '';\n$VAR349 = 'RN2_NO';\n$VAR350 = '';\n$VAR351 = 'T2_SUSDuty';\n$VAR352 = '';\n\n------------------01/10/2006---JONES--------------\n$VAR1 = '01/10/2006';\n$VAR2 = [\n          {\n            'STANTIME' => '17:39',\n            'T3_AN2no' => '',\n            'DESC3' => '',\n            'T1_ANSNAME' => '',\n            'P3_STANDTIME' => '',\n                'P4_OPCS4_3' => '',\n            'STANDATE' => '01/10/2006',\n            'CANCREASON' => '',\n            'RN2_NO' => '',\n            'T2_SUSDuty' => ''\n          },\n          $VAR2->[0]\n        ];\ngrenada tmp #\n\nso its  pushing the second hash onto the array  and overwriting the\n1st\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}