{"category": "ham", "to_address": "\"OtherRecipients of perl Ticket #41875\": ;", "from_address": "\"nahoo via RT\" <parrotbug-followup@parrotcode.org>", "subject": "[perl #41875] [PATCH] update io->fsize if lseek exceeds the file boundaries ", "body": "On Tue May 01 17:23:07 2007, chromatic  at wgz.org wrote:\n> > The patch makes PIO_unix_seek to update io->fsize value if lseek\n> exceeds\n> > the file boundaries.\n> \n> This seems sensible to me, but we don't use fsize anywhere within in\n> the\n> system, so I'm not sure how or where to test it.  I'd like to hold\n> this patch\n> for a while, pending some way of exposing file sizes to PIR.\n\nit's not clear if this is the right place for doing it because the\nsystem does not really change the file size with lseek (maybe on some\nsystems), but after a write operation on the file descriptor is done.\n\nmaybe it needs to be done in PIO_unix_write if fpos > fsize. Anyway it's\nsystem dependent, and will need to be refined to match different\nsystems, and I saw no harm in introducing it hier as first approach.\n\n"}