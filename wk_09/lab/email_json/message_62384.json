{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "\"Edna Bell\" <edna.bell01@gmail.com>", "subject": "[R]  Newbie creating package with compiled code", "body": "Hi R Gurus!\n\nI'm trying to create a test package using the package.skeleton function.\nI wanted to  add some compiled code too.\nIn the src library, I put together a baby subroutine, compiled it and created\na test.dll\n\nWhen I use the R cmd build, it works fine.  But I get into trouble\nwith the R CMD check section.\n\n\n/home/Desktop/R-2.5.1/bin # ./R CMD check mypkg\n* checking for working latex ... OK\n* using log directory '/home/Desktop/R-2.5.1/bin/mypkg.Rcheck'\n* using R version 2.5.1 (2007-06-27)\n* checking for file 'mypkg/DESCRIPTION' ... OK\n* checking extension type ... Package\n* this is package 'mypkg' version '1.0'\n* checking package dependencies ... OK\n* checking if this is a source package ... OK\n* checking whether package 'mypkg' can be installed ... OK\n* checking package directory ... OK\n* checking for portable file names ... OK\n* checking for sufficient/correct file permissions ... OK\n* checking DESCRIPTION meta-information ... OK\n* checking top-level files ... OK\n* checking index information ... OK\n* checking package subdirectories ... OK\n* checking R files for non-ASCII characters ... OK\n* checking R files for syntax errors ... OK\n* checking whether the package can be loaded ... ERROR\nError in .find.package(package, lib.loc, verbose = verbose) :\n        there are no packages called 'mypkg', 'stats', 'graphics',\n'grDevices', 'utils', 'datasets', 'methods', 'base'\nError in library(mypkg) : .First.lib failed for 'mypkg'\nExecution halted\n\nIt looks like this package has a loading problem: see the messages for\ndetails.\n\nHere is the mypkg.R file\nsss <- \"/home/hodgesse/Desktop/R-2.5.1\"\n.First.lib <- function(lib=sss,pkg=\"mypkg\")\n\t   library.dynam(\"mypkg.so\",pkg=\"mypkg\",lib=sss)\n\n\nf <- function(x,y) x+y\n\ng <-function(x,y) x-y\n\n\nThanks for any help\n\nEdna\nmailto: edna.bell01@gmail.com\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}