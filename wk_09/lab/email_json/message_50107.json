{"category": "ham", "to_address": "ted.harding@manchester.ac.uk", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] source a specific function", "body": "1. You can do this:\n\n> library(plotrix)\n> environment(draw.arc) <- .GlobalEnv  # implicitly copies it\n> detach()\n> plot(1,1)\n> draw.arc(1, 1, .1) # its there\n\n2. Since the local environment we created in the prior post was anonymous\nand since there are no other references to it either I assume it gets deleted\non the next garbage collection automatically.\n\nOn 6/18/07, Ted Harding  wrote:\n> On 18-Jun-07 14:28:35, Gabor Grothendieck wrote:\n> > This loads all the functions into an anonymous environment defined\n> > by local and then exports f to the global environment.\n> >\n> > f <- local({\n> >       source(\"/a.R\", local = TRUE)\n> >       environment(f) <- .GlobalEnv\n> >       f\n> > })\n>\n> That looks neat! Two questions:\n>\n> 1. Would something similar work for extracting selected functions\n>   from a library (assuming that you know about interdependencies)?\n>\n>   E.g. something like\n>\n>  f <- local({\n>       library(f.etc.lib)\n>       environment(f) <- .GlobalEnv\n>       f\n>  })\n>\n>\n> 2. Having done what you describe to extract just f from a source\n>   file, can one then \"delete\" the local environment used to load\n>   the source? I think what I'm basically asking is whether the\n>   exporting is done \"by value\" (local environment deletion OK)\n>   or \"by reference\" (deletion would destroy the exported object).\n>\n> Apologies, but for instance \"?local\" is a bit too deep for me!\n>\n> The underlying agenda behind these queries is the saving of\n> memory space.\n>\n> With theanks,\n> Ted.\n>\n> --------------------------------------------------------------------\n> E-Mail: (Ted Harding) \n> Fax-to-email: +44 (0)870 094 0861\n> Date: 18-Jun-07                                       Time: 17:11:15\n> ------------------------------ XFMail ------------------------------\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}