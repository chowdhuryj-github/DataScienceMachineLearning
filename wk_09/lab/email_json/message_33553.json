{"category": "ham", "to_address": "sugar@laptop.org", "from_address": "Simon McVittie <simon.mcvittie@collabora.co.uk>", "subject": "[sugar] [PATCH] services/presence/server_plugin.py: Ensure _conn\n\talways exists (even if None)", "body": "-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA1\n\nThis means cleanup() will not fail on an uninitialized server plugin,\nand get_connection() will return None rather than raising AttributeError.\n- ---\n services/presence/server_plugin.py |    1 +\n 1 files changed, 1 insertions(+), 0 deletions(-)\n\ndiff --git a/services/presence/server_plugin.py b/services/presence/server_plugin.py\nindex d4930c9..daa31aa 100644\n- --- a/services/presence/server_plugin.py\n+++ b/services/presence/server_plugin.py\n@@ -125,6 +125,7 @@ class ServerPlugin(gobject.GObject):\n         \"\"\"\n         gobject.GObject.__init__(self)\n \n+        self._conn = None\n         self._icon_cache = BuddyIconCache()\n \n         self._registry = registry\n- -- \n1.5.2-rc3.GIT\n\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1.4.6 (GNU/Linux)\nComment: OpenPGP key: http://www.pseudorandom.co.uk/2003/contact/ or pgp.net\n\niD8DBQFGUYCFWSc8zVUw7HYRAhdDAJ9om5h3LWS0XML644khlW4/N0vE9ACfWSSP\nKOQHUbxQxc9SbFGibtxXgr4=\n=5llQ\n-----END PGP SIGNATURE-----\n_______________________________________________\nSugar mailing list\nSugar@laptop.org\nhttp://mailman.laptop.org/mailman/listinfo/sugar\n\n"}