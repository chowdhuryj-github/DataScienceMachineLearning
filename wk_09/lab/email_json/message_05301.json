{"category": "ham", "to_address": "parrotbug-followup@parrotcode.org", "from_address": "Jonathan Worthington <jonathan@jnthn.net>", "subject": "Re: [perl #41894] segfault happens when invoking poll op", "body": "Hi,\n\nThis patch broke the build on some platforms (Win32 with MSVC++ included).\n\n>>  INTVAL\n>>  PIO_poll(Interp *interp, PMC *pmc, INTVAL which, INTVAL sec, INTVAL\n>> usec)\n>>  {\n>> +    if (pmc == PMCNULL) {\n>> +     real_exception(interp, NULL, E_ValueError, \"Can't poll NULL\n>> pmc\");\n>> +    }\n>>      ParrotIOLayer * const l = PMC_struct_val(pmc);\n>>      ParrotIO * const io = PMC_data0(pmc);\n>>     \nUnder C89, declarations must come first. Fixed in r18187.\n\nThanks,\n\nJonathan\n\n"}