{"category": "ham", "to_address": "\"Silvia Lomascolo\" <slomascolo@zoo.ufl.edu>, <r-help@stat.math.ethz.ch>", "from_address": "\"michael watson \\(IAH-C\\)\" <michael.watson@bbsrc.ac.uk>", "subject": "Re: [R] Averaging across rows & columns", "body": "Check out rowMeans to average over replicate columns first, ie:\n\nmeans <- data.frame(t1=rowMeans(a[,1:3]), \n                    t2=rowMeans(a[,4:6]),\n                    etc)\n\nThen, if you want to aggregate every 14 rows:\n\naggregate(means, by=list(rows=rep(1:(nrow(means)/14), each=14)), mean)\n\nOr something...\n\n-----Original Message-----\nFrom: r-help-bounces@stat.math.ethz.ch on behalf of Silvia Lomascolo\nSent: Thu 07/06/2007 8:26 PM\nTo: r-help@stat.math.ethz.ch\nSubject: [R] Averaging across rows & columns\n \n\nI use Windows, R version 2.4.1.\n\nI have a dataset in which columns 1-3 are replicates, 4-6, are replicates,\netc. I need to calculate an average for every set of replicates (columns\n1-3, 4-6, 7-9, etc.) AND each set of replicates should be averaged every 14\nrows (for more detail, to measure fruit color using a spectrometer, I\nrecorded three readings per fruit -replicates- that I need to average to get\none reading per fruit; each row is a point in the light spectrum and I need\nto calculate an average reading every 5nm -14 rows- for each fruit).\n\nSomeone proposed to another user who wanted an avg across columns to do\n\na <- matrix(rnorm(360),nr=10)\nb <- rep(1:12,each=3)\navgmat <- aggregate(a,by=list(b))\n\nI tried doing this to get started with the columns first but it asks for an\nargument FUN that has no default.  The help for aggregate isn't helping me\nmuch (a new R user) to discover what value to give to FUN -'average' doesn't\nseem to exist, and 'sum' (whatever it is supposed to sum) gives an error\nsaying that arguments should have the same length-\n\nAny help will be much appreciated! \nSilvia.\n-- \nView this message in context: http://www.nabble.com/Averaging-across-rows---columns-tf3885900.html#a11014649\nSent from the R help mailing list archive at Nabble.com.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}