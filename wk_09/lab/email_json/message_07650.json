{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 141: moved cmdline.c to common code in\n\thttp://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 141\nrevision-id: tridge@samba.org-20070417121650-abbb360fdc1b534d\nparent: tridge@samba.org-20070417121306-4902b949f42f9daf\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Tue 2007-04-17 22:16:50 +1000\nmessage:\n  moved cmdline.c to common code\nrenamed:\n  tests/cmdline.c => common/cmdline.c cmdline.c-20070416041216-w1zvz91bkdsgjckw-1\n  tests/cmdline.h => include/cmdline.h cmdline.h-20070416041216-w1zvz91bkdsgjckw-2\nmodified:\n  Makefile.in                    makefile.in-20061117234101-o3qt14umlg9en8z0-1\n  direct/ctdbd.c                 ctdbd.c-20070411085044-dqmhr6mfeexnyt4m-1\n  tests/ctdb_bench.c             ctdb_bench.c-20061219052637-2liagoglohxb6p7s-1\n  tests/ctdb_fetch.c             ctdb_fetch.c-20070405031748-f7gslozfj3rwh5ie-1\n  tests/ctdb_fetch1.c            ctdb_fetch1.c-20070412111848-xawz6wqk9r0v8jdk-1\n  tests/ctdb_messaging.c         ctdb_messaging.c-20070411034205-6d6vne56pbih2x1p-1\n  tests/ctdb_test.c              ctdb_test.c-20061117234101-o3qt14umlg9en8z0-16\n  tests/lockwait.c               lockwait.c-20070416055753-3ztnb4cxqgamfudx-1\n=== renamed file 'tests/cmdline.c' => 'common/cmdline.c'\n=== renamed file 'tests/cmdline.h' => 'include/cmdline.h'\n=== modified file 'Makefile.in'\n--- a/Makefile.in\t2007-04-17 12:13:06 +0000\n+++ b/Makefile.in\t2007-04-17 12:16:50 +0000\n@@ -22,7 +22,7 @@\n \n CTDB_COMMON_OBJ = common/ctdb.o common/ctdb_daemon.o common/ctdb_client.o common/ctdb_io.o common/util.o common/ctdb_util.o \\\n \tcommon/ctdb_call.o common/ctdb_ltdb.o common/ctdb_lockwait.o common/ctdb_message.o \\\n-\tlib/util/idtree.o lib/util/db_wrap.o\n+\tcommon/cmdline.o lib/util/idtree.o lib/util/db_wrap.o\n \n CTDB_TCP_OBJ = tcp/tcp_connect.o tcp/tcp_io.o tcp/tcp_init.o\n \n@@ -49,41 +49,41 @@\n dirs:\n \t@mkdir -p $(DIRS)\n \n-bin/ctdb_test: $(OBJS) tests/ctdb_test.o tests/cmdline.o\n+bin/ctdb_test: $(OBJS) tests/ctdb_test.o\n \t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_test.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n+\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_test.o $(OBJS) $(LIB_FLAGS)\n \n-bin/ctdbd: $(OBJS) direct/ctdbd.o tests/cmdline.o\n+bin/ctdbd: $(OBJS) direct/ctdbd.o \n \t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ direct/ctdbd.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n+\t@$(CC) $(CFLAGS) -o $@ direct/ctdbd.o $(OBJS) $(LIB_FLAGS)\n \n bin/ctdbd_test: $(OBJS) direct/ctdbd_test.o\n \t@echo Linking $@\n \t@$(CC) $(CFLAGS) -o $@ direct/ctdbd_test.o \n \n-bin/ctdb_bench: $(OBJS) tests/ctdb_bench.o tests/cmdline.o\n-\t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_bench.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n-\n-bin/ctdb_fetch: $(OBJS) tests/ctdb_fetch.o tests/cmdline.o\n-\t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_fetch.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n-\n-bin/ctdb_fetch1: $(OBJS) tests/ctdb_fetch1.o tests/cmdline.o\n-\t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_fetch1.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n-\n-bin/ctdb_messaging: $(OBJS) tests/ctdb_messaging.o tests/cmdline.o\n-\t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_messaging.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n+bin/ctdb_bench: $(OBJS) tests/ctdb_bench.o \n+\t@echo Linking $@\n+\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_bench.o $(OBJS) $(LIB_FLAGS)\n+\n+bin/ctdb_fetch: $(OBJS) tests/ctdb_fetch.o \n+\t@echo Linking $@\n+\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_fetch.o $(OBJS) $(LIB_FLAGS)\n+\n+bin/ctdb_fetch1: $(OBJS) tests/ctdb_fetch1.o \n+\t@echo Linking $@\n+\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_fetch1.o $(OBJS) $(LIB_FLAGS)\n+\n+bin/ctdb_messaging: $(OBJS) tests/ctdb_messaging.o \n+\t@echo Linking $@\n+\t@$(CC) $(CFLAGS) -o $@ tests/ctdb_messaging.o $(OBJS) $(LIB_FLAGS)\n \n bin/ibwrapper_test: $(OBJS) ib/ibwrapper_test.o\n \t@echo Linking $@\n \t@$(CC) $(CFLAGS) -o $@ ib/ibwrapper_test.o $(OBJS) $(LIB_FLAGS)\n \n-bin/lockwait: $(OBJS) tests/lockwait.o tests/cmdline.o\n+bin/lockwait: $(OBJS) tests/lockwait.o \n \t@echo Linking $@\n-\t@$(CC) $(CFLAGS) -o $@ tests/lockwait.o tests/cmdline.o $(OBJS) $(LIB_FLAGS)\n+\t@$(CC) $(CFLAGS) -o $@ tests/lockwait.o $(OBJS) $(LIB_FLAGS)\n \n clean:\n \trm -f *.o */*.o */*/*.o\n\n=== modified file 'direct/ctdbd.c'\n--- a/direct/ctdbd.c\t2007-04-17 12:13:06 +0000\n+++ b/direct/ctdbd.c\t2007-04-17 12:16:50 +0000\n@@ -23,7 +23,7 @@\n #include \"system/filesys.h\"\n #include \"popt.h\"\n #include \"system/wait.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n static void block_signal(int signum)\n {\n\n=== modified file 'tests/ctdb_bench.c'\n--- a/tests/ctdb_bench.c\t2007-04-16 04:12:50 +0000\n+++ b/tests/ctdb_bench.c\t2007-04-17 12:16:50 +0000\n@@ -22,7 +22,7 @@\n #include \"lib/events/events.h\"\n #include \"system/filesys.h\"\n #include \"popt.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n #include \n #include \n\n=== modified file 'tests/ctdb_fetch.c'\n--- a/tests/ctdb_fetch.c\t2007-04-17 06:20:32 +0000\n+++ b/tests/ctdb_fetch.c\t2007-04-17 12:16:50 +0000\n@@ -22,7 +22,7 @@\n #include \"lib/events/events.h\"\n #include \"system/filesys.h\"\n #include \"popt.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n #include \n #include \n\n=== modified file 'tests/ctdb_fetch1.c'\n--- a/tests/ctdb_fetch1.c\t2007-04-17 04:52:51 +0000\n+++ b/tests/ctdb_fetch1.c\t2007-04-17 12:16:50 +0000\n@@ -24,7 +24,7 @@\n #include \"popt.h\"\n #include \"ctdb.h\"\n #include \"ctdb_private.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n #define PARENT_SRVID\t0\n #define CHILD1_SRVID\t1\n\n=== modified file 'tests/ctdb_messaging.c'\n--- a/tests/ctdb_messaging.c\t2007-04-16 04:12:50 +0000\n+++ b/tests/ctdb_messaging.c\t2007-04-17 12:16:50 +0000\n@@ -22,7 +22,7 @@\n #include \"lib/events/events.h\"\n #include \"system/filesys.h\"\n #include \"popt.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n static int timelimit = 10;\n static int num_records = 10;\n\n=== modified file 'tests/ctdb_test.c'\n--- a/tests/ctdb_test.c\t2007-04-16 04:12:50 +0000\n+++ b/tests/ctdb_test.c\t2007-04-17 12:16:50 +0000\n@@ -22,7 +22,7 @@\n #include \"lib/events/events.h\"\n #include \"system/filesys.h\"\n #include \"popt.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n enum my_functions {FUNC_SORT=1, FUNC_FETCH=2};\n \n\n=== modified file 'tests/lockwait.c'\n--- a/tests/lockwait.c\t2007-04-16 21:41:27 +0000\n+++ b/tests/lockwait.c\t2007-04-17 12:16:50 +0000\n@@ -23,7 +23,7 @@\n #include \"system/filesys.h\"\n #include \"system/wait.h\"\n #include \"popt.h\"\n-#include \"tests/cmdline.h\"\n+#include \"cmdline.h\"\n \n \n struct lockwait_handle {\n\n"}