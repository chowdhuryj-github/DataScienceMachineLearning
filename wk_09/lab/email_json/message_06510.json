{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r22240 - in\n\tbranches/SAMBA_3_0/source/lib/replace/test: .", "body": "Author: metze\nDate: 2007-04-16 06:08:43 +0000 (Mon, 16 Apr 2007)\nNew Revision: 22240\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22240\n\nLog:\nmerge from samba4:\n\nuse strlcpy instead of strcpy to make the IBM checker happy\n\nmetze\nModified:\n   branches/SAMBA_3_0/source/lib/replace/test/testsuite.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/replace/test/testsuite.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/replace/test/testsuite.c\t2007-04-16 06:08:06 UTC (rev 22239)\n+++ branches/SAMBA_3_0/source/lib/replace/test/testsuite.c\t2007-04-16 06:08:43 UTC (rev 22240)\n@@ -117,7 +117,7 @@\n {\n \tchar tmp[10];\n \tprintf(\"test: strlcat\\n\");\n-\tstrcpy(tmp, \"\");\n+\tstrlcpy(tmp, \"\", sizeof(tmp));\n \tif (strlcat(tmp, \"bla\", 3) != 3) {\n \t\tprintf(\"failure: strlcat [\\ninvalid return code\\n]\\n\");\n \t\treturn false;\n@@ -128,7 +128,7 @@\n \t\treturn false;\n \t}\n \n-\tstrcpy(tmp, \"da\");\n+\tstrlcpy(tmp, \"da\", sizeof(tmp));\n \tif (strlcat(tmp, \"me\", 4) != 4) {\n \t\tprintf(\"failure: strlcat [\\nexpected \\\"dam\\\", got \\\"%s\\\"\\n]\\n\",\n \t\t\t   tmp);\n\n"}