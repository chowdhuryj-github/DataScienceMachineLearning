{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jerry@samba.org", "subject": "svn commit: samba r23496 - in branches: SAMBA_3_0/source/nsswitch\n\tSAMBA_3_0_26/source/nsswitch", "body": "Author: jerry\nDate: 2007-06-14 14:12:53 +0000 (Thu, 14 Jun 2007)\nNew Revision: 23496\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23496\n\nLog:\nFix logic error in getgrnam_recv() that broke\ngetgrnam() for machine and domain local groups.\n\n\nModified:\n   branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\n   branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\n===================================================================\n--- branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\t2007-06-14 13:26:31 UTC (rev 23495)\n+++ branches/SAMBA_3_0/source/nsswitch/winbindd_group.c\t2007-06-14 14:12:53 UTC (rev 23496)\n@@ -653,7 +653,7 @@\n \t\treturn;\n \t}\n \n- \tif ( !(type == SID_NAME_DOM_GRP) || (type == SID_NAME_ALIAS) ) {\n+ \tif ( (type != SID_NAME_DOM_GRP) && (type != SID_NAME_ALIAS) ) {\n \t\tDEBUG(5,(\"getgrnam_recv: not a group!\\n\"));\n \t\trequest_error(state);\n \t\treturn;\n\nModified: branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\t2007-06-14 13:26:31 UTC (rev 23495)\n+++ branches/SAMBA_3_0_26/source/nsswitch/winbindd_group.c\t2007-06-14 14:12:53 UTC (rev 23496)\n@@ -653,7 +653,7 @@\n \t\treturn;\n \t}\n \n- \tif ( !(type == SID_NAME_DOM_GRP) || (type == SID_NAME_ALIAS) ) {\n+ \tif ( (type != SID_NAME_DOM_GRP) && (type != SID_NAME_ALIAS) ) {\n \t\tDEBUG(5,(\"getgrnam_recv: not a group!\\n\"));\n \t\trequest_error(state);\n \t\treturn;\n\n"}