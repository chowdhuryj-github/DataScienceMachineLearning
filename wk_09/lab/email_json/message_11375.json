{"category": "ham", "to_address": "samba <samba-technical@lists.samba.org>", "from_address": "Henrik Zagerholm <henke@mac.se>", "subject": "Error compiling libsmb examples 3.0.26pre1-SVN-build-22419", "body": "Hello list,\n\nI get the following errors when compiling the examples in libsmbclient.\nThe make && make install of samba itself works but no examples.\n\nEnclosed are the error messages.\n\ncubiq-debian:~/downloads/SAMBA_3_0/examples/libsmbclient# make\ngcc -O0 -g -I../../source/include -I/usr/include/gtk-1.2 -I/usr/ \ninclude/glib-1.2 -I/usr/lib/glib/include -D_LARGEFILE64_SOURCE - \nD_FILE_OFFSET_BITS=64 -D_GNU_SOURCE   -c -o testsmbc.o testsmbc.c\nLinking testsmbc\ngcc -O0 -g -I../../source/include -I/usr/include/gtk-1.2 -I/usr/ \ninclude/glib-1.2 -I/usr/lib/glib/include -D_LARGEFILE64_SOURCE - \nD_FILE_OFFSET_BITS=64 -D_GNU_SOURCE -L/usr/local/samba/lib -o  \ntestsmbc testsmbc.o ../../source/bin/libsmbclient.a -ldl -lresolv\n../../source/bin/libsmbclient.a(cliconnect.o): In function  \n`cli_session_setup_spnego':\ncliconnect.c:(.text+0x29b5): undefined reference to `error_message'\ncliconnect.c:(.text+0x2ac3): undefined reference to `error_message'\n../../source/bin/libsmbclient.a(smb_seal.o): In function  \n`common_free_enc_buffer':\nsmb_seal.c:(.text+0x132): undefined reference to `gss_release_buffer'\n../../source/bin/libsmbclient.a(smb_seal.o): In function  \n`common_free_encryption_state':\nsmb_seal.c:(.text+0x1e4): undefined reference to `gss_release_cred'\nsmb_seal.c:(.text+0x200): undefined reference to  \n`gss_delete_sec_context'\n../../source/bin/libsmbclient.a(smb_seal.o): In function  \n`common_encrypt_buffer':\n\n-------------------------------- SNIP  \n--------------------------------------\n\nclikrb5.c:(.text+0x17dc): undefined reference to `error_message'\nclikrb5.c:(.text+0x1895): undefined reference to `krb5_set_real_time'\nclikrb5.c:(.text+0x18b0): undefined reference to `krb5_cc_get_type'\nclikrb5.c:(.text+0x1914): undefined reference to `krb5_cc_get_name'\nclikrb5.c:(.text+0x19ec): undefined reference to `krb5_cc_remove_cred'\nclikrb5.c:(.text+0x1a33): undefined reference to `error_message'\nclikrb5.c:(.text+0x1abd): undefined reference to `krb5_cc_get_name'\nclikrb5.c:(.text+0x1adb): undefined reference to `krb5_cc_get_type'\nclikrb5.c:(.text+0x1b52): undefined reference to `krb5_mk_req_extended'\nclikrb5.c:(.text+0x1b99): undefined reference to `error_message'\nclikrb5.c:(.text+0x1bc0): undefined reference to `krb5_free_creds'\nclikrb5.c:(.text+0x1bd8): undefined reference to  \n`krb5_free_cred_contents'\nclikrb5.c:(.text+0x1bed): undefined reference to `krb5_free_principal'\nclikrb5.c:(.text+0x1c7a): undefined reference to `krb5_cc_close'\nclikrb5.c:(.text+0x1c90): undefined reference to `krb5_auth_con_free'\nclikrb5.c:(.text+0x1c9b): undefined reference to `krb5_free_context'\nclikrb5.c:(.text+0x1cb2): undefined reference to `krb5_free_principal'\ncollect2: ld returned 1 exit status\nmake: *** [testsmbc] Error 1\n\n\nRegards,\nHenrik\n\n"}