{"category": "ham", "to_address": "perl6-internals@perl.org", "from_address": "\"Patrick R. Michaud\" <pmichaud@pobox.com>", "subject": "Re: [perl #42620] PGE 'Out of memory' panics.", "body": "On Thu, Apr 19, 2007 at 11:47:55AM -0700, Andy Spieherty wrote:\n> # New Ticket Created by  Andy Spieherty \n> # Please include the string:  [perl #42620]\n> # in the subject line of all future correspondence about this issue. \n> # \n> \n> Both t/compilers/pge/p5regex/p5rx.t and\n>      t/compilers/pge/p6regex/01-regex.t \n> are failing with the following error message:\n> \n> t/compilers/pge/p5regex/p5rx.............Parrot VM: PANIC: Out of mem!\n> C file src/gc/memory.c, line 97\n> Parrot file (not available), line (not available)\n\nI believe that both of these tests are currently being run with \nthe -G flag, which should mean that Parrot is not doing any garbage \ncollection:\n\n    $ head -2 t/compilers/pge/p5regex/p5rx.t\n    #!./parrot -G\n    # Copyright (C) 2001-2006, The Perl Foundation.\n\n    $ head -2 t/compilers/pge/p6regex/01-regex.t\n    #!./parrot -G\n    # Copyright (C) 2001-2007, The Perl Foundation.\n\nGiven the number of tests that run, I'm not too surprised \nthat they run out of memory when -G is present.\n\nThis does prompt the question of removing -G from the tests, \nbut the last time I looked into doing this (about a month ago) Parrot\nstill had intermittent GC errors that would cause random\nfailures in the tests.  After a lot of discussion on the mailing\nlist and in #parrot I think it was decided that running the \ntests with -G was preferable to having random test failures\nshowing up in the pge tests due to GC problems in Parrot.\n\nHope this helps, and thanks for the report!\n\n(Should we close this ticket?)\n\nPm\n\n"}