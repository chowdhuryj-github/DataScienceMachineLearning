{"category": "ham", "to_address": "perl6-internals@perl.org", "from_address": "chromatic <chromatic@wgz.org>", "subject": "Re: Parrot_get_runtime_prefix has a bad interface", "body": "On Saturday 16 June 2007 23:41:30 Andy Lester wrote:\n\n> I cringe at functions where the behavior is dependent on parms passed\n> in.  In the case of Parrot_get_runtime_prefix, if you call it as\n> Parrot_get_runtime_prefix(&str) then str is populated, or if you call\n> Parrot_get_runtime_prefix(NULL) then you get a malloced string.\n>\n> It should be split into Parrot_get_runtime_prefix_string and\n> Parrot_get_runtime_prefix_cstring.\n>\n> Anything I'm missing?  Dissent?\n\nPolymorphic C functions that may allocate memory are eeeevil.  I agree with \nyou.\n\n-- c\n\n"}