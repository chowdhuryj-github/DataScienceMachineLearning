{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jpeach@samba.org", "subject": "svn commit: samba r23097 - in branches: SAMBA_3_0/source\n\tSAMBA_3_0_26/source", "body": "Author: jpeach\nDate: 2007-05-23 20:46:07 +0000 (Wed, 23 May 2007)\nNew Revision: 23097\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23097\n\nLog:\nAdd a new configure option to disable building SWAT (it is still built by\ndefault).\n\nModified:\n   branches/SAMBA_3_0/source/Makefile.in\n   branches/SAMBA_3_0/source/configure.in\n   branches/SAMBA_3_0_26/source/Makefile.in\n   branches/SAMBA_3_0_26/source/configure.in\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/Makefile.in\n===================================================================\n--- branches/SAMBA_3_0/source/Makefile.in\t2007-05-23 20:38:14 UTC (rev 23096)\n+++ branches/SAMBA_3_0/source/Makefile.in\t2007-05-23 20:46:07 UTC (rev 23097)\n@@ -155,7 +155,7 @@\n \n # Note that all executable programs now provide for an optional executable suffix.\n \n-SBIN_PROGS = bin/smbd@EXEEXT@ bin/nmbd@EXEEXT@ bin/swat@EXEEXT@ @EXTRA_SBIN_PROGS@\n+SBIN_PROGS = bin/smbd@EXEEXT@ bin/nmbd@EXEEXT@ @SWAT_SBIN_TARGETS@ @EXTRA_SBIN_PROGS@\n \n ROOT_SBIN_PROGS = @CIFSMOUNT_PROGS@\n \n@@ -1713,7 +1713,7 @@\n \t@echo Linking $@\n \t@$(CC) $(FLAGS) -o $@ $(DYNEXP) script/tests/timelimit.o\n \n-install: installservers installbin @INSTALL_CIFSMOUNT@ installman installscripts installdat installswat installmodules @INSTALL_LIBSMBCLIENT@ @INSTALL_LIBMSRPC@ @INSTALL_PAM_MODULES@ @INSTALL_LIBSMBSHAREMODES@\n+install: installservers installbin @INSTALL_CIFSMOUNT@ installman installscripts installdat installmodules @SWAT_INSTALL_TARGETS@ @INSTALL_LIBSMBCLIENT@ @INSTALL_LIBMSRPC@ @INSTALL_PAM_MODULES@ @INSTALL_LIBSMBSHAREMODES@\n \n \n install-everything: install installmodules\n\nModified: branches/SAMBA_3_0/source/configure.in\n===================================================================\n--- branches/SAMBA_3_0/source/configure.in\t2007-05-23 20:38:14 UTC (rev 23096)\n+++ branches/SAMBA_3_0/source/configure.in\t2007-05-23 20:46:07 UTC (rev 23097)\n@@ -338,6 +338,21 @@\n \n m4_include(lib/socket_wrapper/config.m4)\n \n+\n+AC_ARG_ENABLE(swat,\n+[  --enable-swat           Build the SWAT tool (default=yes)],\n+[\n+    case \"$enable_swat\" in\n+\tno) ;;\n+\t*)\n+\t    SWAT_SBIN_TARGETS='bin/swat$(EXEEXT)'\n+\t    SWAT_INSTALL_TARGETS=installswat\n+\t    ;;\n+    esac\n+    AC_SUBST(SWAT_SBIN_TARGETS)\n+    AC_SUBST(SWAT_INSTALL_TARGETS)\n+])\n+\n #################################################\n # set prefix for 'make test'\n selftest_prefix=\"./\"\n\nModified: branches/SAMBA_3_0_26/source/Makefile.in\n===================================================================\n--- branches/SAMBA_3_0_26/source/Makefile.in\t2007-05-23 20:38:14 UTC (rev 23096)\n+++ branches/SAMBA_3_0_26/source/Makefile.in\t2007-05-23 20:46:07 UTC (rev 23097)\n@@ -148,7 +148,7 @@\n \n # Note that all executable programs now provide for an optional executable suffix.\n \n-SBIN_PROGS = bin/smbd@EXEEXT@ bin/nmbd@EXEEXT@ bin/swat@EXEEXT@ @EXTRA_SBIN_PROGS@\n+SBIN_PROGS = bin/smbd@EXEEXT@ bin/nmbd@EXEEXT@ @SWAT_SBIN_TARGETS@ @EXTRA_SBIN_PROGS@\n \n ROOT_SBIN_PROGS = @CIFSMOUNT_PROGS@\n \n@@ -1593,7 +1593,7 @@\n \t@echo Linking $@\n \t@$(CC) $(FLAGS) -o $@ $(DYNEXP) script/tests/timelimit.o\n \n-install: installservers installbin @INSTALL_CIFSMOUNT@ installman installscripts installdat installswat installmodules @INSTALL_LIBSMBCLIENT@ @INSTALL_LIBMSRPC@ @INSTALL_PAM_MODULES@ @INSTALL_LIBSMBSHAREMODES@\n+install: installservers installbin @INSTALL_CIFSMOUNT@ installman installscripts installdat installmodules @SWAT_INSTALL_TARGETS@ @INSTALL_LIBSMBCLIENT@ @INSTALL_LIBMSRPC@ @INSTALL_PAM_MODULES@ @INSTALL_LIBSMBSHAREMODES@\n \n \n install-everything: install installmodules\n\nModified: branches/SAMBA_3_0_26/source/configure.in\n===================================================================\n--- branches/SAMBA_3_0_26/source/configure.in\t2007-05-23 20:38:14 UTC (rev 23096)\n+++ branches/SAMBA_3_0_26/source/configure.in\t2007-05-23 20:46:07 UTC (rev 23097)\n@@ -337,6 +337,21 @@\n \n m4_include(lib/socket_wrapper/config.m4)\n \n+\n+AC_ARG_ENABLE(swat,\n+[  --enable-swat           Build the SWAT tool (default=yes)],\n+[\n+    case \"$enable_swat\" in\n+\tno) ;;\n+\t*)\n+\t    SWAT_SBIN_TARGETS='bin/swat$(EXEEXT)'\n+\t    SWAT_INSTALL_TARGETS=installswat\n+\t    ;;\n+    esac\n+    AC_SUBST(SWAT_SBIN_TARGETS)\n+    AC_SUBST(SWAT_INSTALL_TARGETS)\n+])\n+\n #################################################\n # set prefix for 'make test'\n selftest_prefix=\"./\"\n\n"}