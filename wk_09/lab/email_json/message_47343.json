{"category": "ham", "to_address": "<R-help@stat.math.ethz.ch>", "from_address": "<ngottlieb@marinercapital.com>", "subject": "[R] Formatted Data File Question for Clustering -Quickie Project", "body": "I am trying to learn how to format Ascii data files for scan or read\ninto R.\n\nPrecisely for a quickie project, I found some code (at end of this\nemail) to do exactly what I need:\nTo cluster and graph a dendrogram from package (stats).\n\nI am stuck on how to format a text file to run the script.\nI looked at the dataset USArrests (which would be replaced by my data\nand labels) using UltraEdit. That data appears to be in binary format\nand I would simply like a readable ASCII text file.\n\nHow can I:\nA) format this data to a file for the script below? \nB) I would like to use squared Euclidean distance, can hclust support\nthis?\n\nThanks,\nNeil Gottlieb\n\nHere is sub-set example of my data set, return series to cluster: 13\ncases by 36 observations):\nMonth\t  Convertible Arbitrage\t  Dedicated Short Bias\t  Emerging\nMarkets\t\n1/31/1994\t0.004\t-0.016\t0.105\t\n2/28/1994\t0.002\t0.020\t-0.011\t\n3/31/1994\t-0.010\t0.072\t-0.046\t\n4/30/1994\t-0.025\t0.013\t-0.084\t\n5/31/1994\t-0.010\t0.023\t-0.007\t\n6/30/1994\t0.002\t0.064\t0.005\t\n7/31/1994\t0.001\t-0.012\t0.058\t\n8/31/1994\t0.000\t-0.057\t0.164\t\n9/30/1994\t-0.012\t0.016\t0.052\t\n10/31/1994\t-0.014\t-0.004\t-0.035\t\n11/30/1994\t-0.002\t0.030\t-0.014\t\n12/31/1994\t-0.019\t-0.002\t-0.042\t\n1/31/1995\t-0.006\t0.013\t-0.100\t\n2/28/1995\t0.012\t-0.022\t-0.079\t\n3/31/1995\t0.013\t0.004\t-0.055\t\n4/30/1995\t0.023\t-0.004\t0.073\t\n5/31/1995\t0.017\t-0.013\t0.013\t\n6/30/1995\t0.019\t-0.069\t0.008\t\n7/31/1995\t0.009\t-0.059\t0.022\t\n8/31/1995\t0.008\t0.008\t0.010\t\n9/30/1995\t0.011\t-0.029\t0.019\t\n10/31/1995\t0.013\t0.064\t-0.057\t\n11/30/1995\t0.023\t-0.010\t-0.031\t\n12/31/1995\t0.014\t0.049\t0.007\t\n1/31/1996\t0.021\t0.006\t0.079\t\n2/29/1996\t0.012\t-0.056\t-0.006\t\n3/31/1996\t0.015\t-0.009\t-0.009\t\n4/30/1996\t0.013\t-0.066\t0.051\t\n5/31/1996\t0.016\t0.000\t0.045\t\n6/30/1996\t0.015\t0.051\t0.054\t\n7/31/1996\t0.014\t0.098\t-0.027\t\n8/31/1996\t0.013\t-0.034\t0.036\t\n9/30/1996\t0.011\t-0.059\t0.016\t\n10/31/1996\t0.014\t0.043\t0.017\t\n11/30/1996\t0.014\t-0.029\t0.026\t\n\nCode Example from Help files:\nhc <- hclust(dist(USArrests), \"ave\")\n(dend1 <- as.dendrogram(hc)) # \"print()\" method\nstr(dend1)          # \"str()\" method\nstr(dend1, max = 2) # only the first two sub-levels\n\nop <- par(mfrow= c(2,2), mar = c(5,2,1,4))\nplot(dend1)\n## \"triangle\" type and show inner nodes:\nplot(dend1, nodePar=list(pch = c(1,NA), cex=0.8, lab.cex = 0.8),\n      type = \"t\", center=TRUE)\nplot(dend1, edgePar=list(col = 1:2, lty = 2:3), dLeaf=1, edge.root =\nTRUE)\nplot(dend1, nodePar=list(pch = 2:1,cex=.4*2:1, col = 2:3), horiz=TRUE)\n\ndend2 <- cut(dend1, h=70)\nplot(dend2$upper)\n## leafs are wrong horizontally:\nplot(dend2$upper, nodePar=list(pch = c(1,7), col = 2:1))\n##  dend2$lower is *NOT* a dendrogram, but a list of .. :\nplot(dend2$lower[[3]], nodePar=list(col=4), horiz = TRUE, type = \"tr\")\n## \"inner\" and \"leaf\" edges in different type & color :\nplot(dend2$lower[[2]], nodePar=list(col=1),# non empty list\n     edgePar = list(lty=1:2, col=2:1), edge.root=TRUE)\npar(op)\nstr(d3 <- dend2$lower[[2]][[2]][[1]])\n\nnP <- list(col=3:2, cex=c(2.0, 0.75), pch= 21:22, bg= c(\"light blue\",\n\"pink\"),\n           lab.cex = 0.75, lab.col = \"tomato\")\nplot(d3, nodePar= nP, edgePar = list(col=\"gray\", lwd=2), horiz = TRUE)\naddE <- function(n) {\n      if(!is.leaf(n)) {\n        attr(n, \"edgePar\") <- list(p.col=\"plum\")\n        attr(n, \"edgetext\") <- paste(attr(n,\"members\"),\"members\")\n      }\n      n\n}\nd3e <- dendrapply(d3, addE)\nplot(d3e, nodePar= nP)\nplot(d3e, nodePar= nP, leaflab = \"textlike\")\n--------------------------------------------------------\n\n\n\nThis information is being sent at the recipient's request or...{{dropped}}\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}