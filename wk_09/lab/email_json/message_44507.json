{"category": "ham", "to_address": "R R-help <r-help@stat.math.ethz.ch>", "from_address": "John Kane <jrkrideau@yahoo.ca>", "subject": "[R] character to time problem", "body": "I am trying to clean up some dates and I am clearly\ndoing something wrong.  I have laid out an example\nthat seems to show what is happening with the \"real\"\ndata.  The  coding is lousy but it looks like it\nshould have worked.\n\nCan anyone suggest a) why I am getting that NA\nappearing after the strptime() command and b) why the\nNA is disappearing in the sort()? It happens with\nna.rm=TRUE  and na.rm=FALSE\n-------------------------------------------------\naa  <- data.frame( c(\"12/05/2001\", \" \", \"30/02/1995\",\nNA, \"14/02/2007\", \"M\" ) )\nnames(aa)  <- \"times\"\naa[is.na(aa)] <- \"M\"\naa[aa==\" \"]  <- \"M\"\nbb <- unlist(subset(aa, aa[,1] !=\"M\"))\ndates <- strptime(bb, \"%d/%m/%Y\")\ndates\nsort(dates)\n--------------------------------------------------\n\nSession Info\nR version 2.4.1 (2006-12-18) \ni386-pc-mingw32 \n\nlocale:\nLC_COLLATE=English_Canada.1252;\nLC_CTYPE=English_Canada.1252;\nLC_MONETARY=English_Canada.1252;\nLC_NUMERIC=C;LC_TIME=English_Canada.1252\n\nattached base packages:\n[1] \"stats\"     \"graphics\"  \"grDevices\" \"utils\"    \n\"datasets\"  \"methods\"   \"base\"     \n\nother attached packages:\n  gdata   Hmisc \n\"2.3.1\" \"3.3-2\" \n\n (Yes I know I'm out of date but I don't like\nupgrading just as I am finishing a project)\n\nThanks\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}