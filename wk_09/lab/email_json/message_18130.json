{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r22541 - in branches: SAMBA_3_0/source/lib/talloc\n\tSAMBA_3_0_25/source/lib/talloc SAMBA_4_0/source/lib/talloc", "body": "Author: jra\nDate: 2007-04-27 22:04:27 +0000 (Fri, 27 Apr 2007)\nNew Revision: 22541\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22541\n\nLog:\nAdded talloc_size_strict macro.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/lib/talloc/talloc.h\n   branches/SAMBA_3_0_25/source/lib/talloc/talloc.h\n   branches/SAMBA_4_0/source/lib/talloc/talloc.h\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/talloc/talloc.h\n===================================================================\n--- branches/SAMBA_3_0/source/lib/talloc/talloc.h\t2007-04-27 21:58:10 UTC (rev 22540)\n+++ branches/SAMBA_3_0/source/lib/talloc/talloc.h\t2007-04-27 22:04:27 UTC (rev 22541)\n@@ -84,6 +84,7 @@\n /* useful macros for creating type checked pointers */\n #define talloc(ctx, type) (type *)talloc_named_const(ctx, sizeof(type), #type)\n #define talloc_size(ctx, size) talloc_named_const(ctx, size, __location__)\n+#define talloc_size_strict(ctx, size) talloc_strict(ctx, size, __location__)\n #define talloc_ptrtype(ctx, ptr) (_TALLOC_TYPEOF(ptr))talloc_size(ctx, sizeof(*(ptr)))\n \n #define talloc_new(ctx) talloc_named_const(ctx, 0, \"talloc_new: \" __location__)\n\nModified: branches/SAMBA_3_0_25/source/lib/talloc/talloc.h\n===================================================================\n--- branches/SAMBA_3_0_25/source/lib/talloc/talloc.h\t2007-04-27 21:58:10 UTC (rev 22540)\n+++ branches/SAMBA_3_0_25/source/lib/talloc/talloc.h\t2007-04-27 22:04:27 UTC (rev 22541)\n@@ -80,6 +80,7 @@\n /* useful macros for creating type checked pointers */\n #define talloc(ctx, type) (type *)talloc_named_const(ctx, sizeof(type), #type)\n #define talloc_size(ctx, size) talloc_named_const(ctx, size, __location__)\n+#define talloc_size_strict(ctx, size) talloc_strict(ctx, size, __location__)\n #define talloc_ptrtype(ctx, ptr) (_TALLOC_TYPEOF(ptr))talloc_size(ctx, sizeof(*(ptr)))\n \n #define talloc_new(ctx) talloc_named_const(ctx, 0, \"talloc_new: \" __location__)\n\nModified: branches/SAMBA_4_0/source/lib/talloc/talloc.h\n===================================================================\n--- branches/SAMBA_4_0/source/lib/talloc/talloc.h\t2007-04-27 21:58:10 UTC (rev 22540)\n+++ branches/SAMBA_4_0/source/lib/talloc/talloc.h\t2007-04-27 22:04:27 UTC (rev 22541)\n@@ -84,6 +84,7 @@\n /* useful macros for creating type checked pointers */\n #define talloc(ctx, type) (type *)talloc_named_const(ctx, sizeof(type), #type)\n #define talloc_size(ctx, size) talloc_named_const(ctx, size, __location__)\n+#define talloc_size_strict(ctx, size) talloc_strict(ctx, size, __location__)\n #define talloc_ptrtype(ctx, ptr) (_TALLOC_TYPEOF(ptr))talloc_size(ctx, sizeof(*(ptr)))\n \n #define talloc_new(ctx) talloc_named_const(ctx, 0, \"talloc_new: \" __location__)\n\n"}