{"category": "ham", "to_address": "Anup Nandialath <anup_nandialath@yahoo.com>", "from_address": "Charilaos Skiadas <skiadas@hanover.edu>", "subject": "Re: [R] Data Manipulation using R", "body": "On Apr 17, 2007, at 8:03 PM, Anup Nandialath wrote:\n\n> Dear Friends,\n>\n> I have data set with around 220,000 rows and 17 columns. One of the  \n> columns is an id variable which is grouped from 1000 through 9000.  \n> I need to perform the following operations.\n>\n> 1) Remove all the observations with id's between 6000 and 6999\n>\n> I tried using this method.\n>\n> remdat1 <- subset(data, ID<6000)\n> remdat2 <- subset(data, ID>=7000)\n> donedat <- rbind(remdat1, remdat2)\n>\n> I check the last and first entry and found that it did not have ID  \n> values 6000. Therefore I think that this might be correct, but is  \n> this the most efficient way of doing this?\n>\nThe rbind is a bit unnecessary probably.\n\nI think all you are missing for both questions is the \"or\" operator,   \n\"|\".  ( ?\"|\" )\n\nSimply:\n\ndonedat <- subset(data, ID< 6000 | ID >=7000)\n\nwould do for this. Not sure about efficiency, but if the code is fast  \nas it stands I wouldn't worry too much about it.\n\n> 2) I need to remove observations within columns 3, 4, 6 and 8 when  \n> they are negative. For instance if the number in column 3 is -4,  \n> then I need to delete the entire observation. Can somebody help me  \n> with this too.\n\nThe following should do it (untested, not sure if it would handle NA's):\n\ntoremove <- data[,3] < 0 | data[,4] < 0 | data[,6] < 0 | data[,8] < 0\ndata[!toremove,]\n\n\nIf you want more columns than those 4, then we could perhaps look for  \na better line than the first line above.\n\n> Thank and Regards\n>\n> Anup\n\nHaris Skiadas\nDepartment of Mathematics and Computer Science\nHanover College\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}