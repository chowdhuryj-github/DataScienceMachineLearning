{"category": "ham", "to_address": "beginners@perl.org", "from_address": "Rob Dixon <rob.dixon@350.com>", "subject": "Re: How to sum up values", "body": "Andrej Kastrin wrote:\n> Dear all,\n> \n> Question about the sum function; the file structure is as follows:\n> \n> A|100\n> A|200\n> A|150\n> B|20\n> B|90\n> C|10\n> C|30\n> C|300\n> \n> The result I want to obtain is to sum values in the second column \n> (columnB) for each particular letter in the first column (ColumnA); e.g.:\n> \n> A|450\n> B|100\n> C|330\n> \n> I don't want to use hash structure because the input file is very large. \n> Is there any simple way to do that step-by-step: to sum up values in \n> columnB until the letter in columnA changes and print the result...\n> \n> Thanks in advance for any suggestion, Andrej\n> \n> \n> #!/usr/bin/perl\n> use strict;\n> use warnings;\n> \n> open FH1, \"< test.txt\" or die \"Can't open file : $!\";\n> while () {\n>    chomp;\n>    ($columnA,$columnB)=split /\\|/;\n>    ... ???\n> }\n\nmy ($label, $total);\n\nwhile () {\n  chomp;\n  my ($columnA,$columnB)=split /\\|/;\n  \n  if ($label and $columnA ne $label) {\n    print \"$label|$total\\n\";\n    $total = 0;\n  }\n\n  $label = $columnA;\n  $total += $columnB;\n\n  print \"$label|$total\\n\" if eof;\n}\n\n\n\nHTH,\n\nRob\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}