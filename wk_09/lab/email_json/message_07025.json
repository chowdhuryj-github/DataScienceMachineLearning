{"category": "ham", "to_address": "Simon Wood <s.wood@bath.ac.uk>", "from_address": "Jin Huang <crystal_huangjin@yahoo.com.cn>", "subject": "Re: [R] Use estimated non-parametric model for sensitivity analysis", "body": "Hi, Simon,\n   \n  Thank you very much for the helpful suggestion. But if the model is a partially linear model, i.e.\n  y(x1)=a0+a1*x1+a2*x2+a3*s(x3)    where x1 is the decision variable\n   \n  I would like to evaluate y(x1) at a specific level of x2 and x3 (i.e. y is a function of x1 only). In doing this, I can optimize y(x1) with respect to x1 at the specific level of x2 and x3. Do you know if there a way to do this in R? Can gam.s be used to extract the prediction of the smooth term only(In my case, the s(x3))?\n   \n  Thank you again,\n  Jin\n  \n\nSimon Wood  wrote:\n  On Sunday 15 April 2007 23:36, Jin Huang wrote:\n> Dear all,\n>\n> I fitted a non-parametric model using GAM function in R. i.e.,\n> gam(y~s(x1)+s(x2)) #where s() is the smooth function\n> Then I obtained the coefficients(a and b) for the non-parametric terms.\n> i.e., y=a*s(x1)+b*s(x2)\n-- do you mean y = \\sum_i a_i d_i(x1) + \\sum_i b_i e_i(x2)\nwhere d_i and e_i are basis functions? Or do you mean something else by a and \nb here?\n\n>\n> Now if I want to use this estimated model to do optimization or\n> sensitivity analysis, I am not sure how to incorporate the smooth function\n> since s() may not be recognized outside GAM environment.\n>\n- do you actually need the whole smooth functions, or only the smooths \nevaluated at particular x1/x2 values? If it is the latter then you can use \nthe `type=\"lpmatrix\" argument to predict.gam, in order to obtain the matrix \nwhich maps the model coefficients to the estimated linear predictor of the \nGAM. The columns of this matrix are made up of the evaluated basis functions \nfor the smooth terms, which is usually all you need.\n\nThere are some examples of this sort of thing in ?predict.gam.\n\nbest,\nSimon\n\n\n> Thank you in advance!\n>\n> Jin Huang\n> North Carolina State University\n>\n>\n>\n>\n>\n>\n>\n>\n> ---------------------------------\n> Ahhh...imagining that irresistible \"new car\" smell?\n>\n> [[alternative HTML version deleted]]\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide\n> http://www.R-project.org/posting-guide.html and provide commented, minimal,\n> self-contained, reproducible code.\n\n-- \n> Simon Wood, Mathematical Sciences, University of Bath, Bath, BA2 7AY UK\n> +44 1225 386603 www.maths.bath.ac.uk/~sw283\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n\n       \n---------------------------------\n\n\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}