{"category": "ham", "to_address": "rangalo <hard.mehta@gmail.com>", "from_address": "\"Kevin Mitchell\" <kevmitch@gmail.com>", "subject": "Re: Nothing on display after suspend/resume", "body": "Hey Hardik,\nFirst of all, I think you only need to worry about your menu.lst and\nswap partition if your trying to suspend to disk (or suspend to both\ndisk and ram simultaneously), though for all I know powersaved may\nwant everything just so to do anything. If you're only trying to\nsuspend to ram, the problem is likely that the video card is a little\ngroggy as a result of the software procedure for suspending.\n\nI'm not too sure about powersave, but I use acpid which comes with a\nbunch of scripts in /etc/acpi/ among which is sleep.sh. This script\nsources a bunch of scripts init-style in /etc/acpi/suspend.d on\nsuspend and similarly from /etc/acpi/resume.d on resume. The trick is\nthat out of the box, running sleep.sh gave me the same behaviour as\nyou describe. It turned out that the scripts were trying too hard to\navoid this exact issue and ended up making matters worse. If the\nswitching virtual consoles trick doesn't work for you, this might be\nwhat's happening with powersave. It might be posting your display or\nsomething silly  which breaks the resume. See if you can't customise\nexactly the steps taken by powersave to suspend, or try using acpid\nand customising to fit your system.\n\nYou can also try just the bare bones low level suspend  with\necho -n mem > /sys/power/state\nthis is the penultimate step for acpid, and actually worked for me\njust by itself, though without the niceties of tidying up first.\n\nKevin\n\nOn 6/25/07, rangalo  wrote:\n> Hi,\n>\n> I am using sidux (based on sid).\n>\n> I changed my /boot/grub/menu.lst to configure suspend/resume and added\n> resume=UUID= like this ...\n> The UUID provided belongs to my swap partition which is almost 1GB.\n>\n>\n> After that, I can suspend my computer using\n>\n> powersave -u  # -u is for suspend to ram (suspend to disk doesn't work\n> at all, it just hangs while suspending)\n>\n> command, but while resuming, I get only a black screen, I see a lot of\n> activity of my hard-disk and I can hear the fans running, so I think\n> that resume is working, but there is something with the display.\n>\n> Any, ideas ?\n>\n> Below is the relevant parts of /boot/grub/menu.lst\n>\n> ------------------------------------Menu.lst--------------\n> # kopt=root=UUID=353cc61f-ede4-46c1-8d7f-b678de74678a ro quiet vga=791\n> resume=UUID=25184dd8-abc9-41c8-ae89-7c7ef875fed4  # in case the kernel\n> is changed\n>\n> ......\n> ......\n> title       Debian GNU/Linux, kernel 2.6.21.3-slh-up-4 Default\n> root        (hd0,4)\n> kernel      /boot/vmlinuz root=UUID=353cc61f-ede4-46c1-8d7f-\n> b678de74678a ro quiet vga=791  resume=UUID=25184dd8-abc9-41c8-\n> ae89-7c7ef875fed4 #for normal resume\n> initrd      /boot/initrd.img\n> ----------------------------------------\n>\n> thanks & regards,\n> Hardik\n>\n>\n> --\n> To UNSUBSCRIBE, email to debian-laptop-REQUEST@lists.debian.org\n> with a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org\n>\n>\n\n\n-- \nTo UNSUBSCRIBE, email to debian-laptop-REQUEST@lists.debian.org\nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org\n\n"}