{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "\"Alfonso Sammassimo\" <cincinattikid@bigpond.com>", "subject": "[R] Yearly statistics", "body": "Dear R-experts,\n\nSorry if I've overlooked a simple solution here. I have calculated a \nproportion of the number of observations which meet a criteria, applied to \nfive years of data. How can I break down this proportion statistic for each \nyear?\n\nFor example (data in zoo format):\n\n                    open  high   low    close  hc  lc\n2004-12-29 4135 4135 4106  4116  8 -21\n2004-12-30 4120 4131 4115  4119 15  -1\n2004-12-31 4123 4124 4114  4117  5  -5\n2005-01-04 4106 4137 4103  4137 20 -14\n2005-01-06 4085 4110 4085  4096 10 -15\n2005-01-10 4133 4148 4122  4139 15 -11\n2005-01-11 4142 4158 4127  4130 19 -12\n2005-01-12 4113 4138 4112  4127  18  8\n\nStatistic of interest is proportion of times that sign of \"hc\" is positive \nand sign of \"lc\" is negative on any given day. Looking to return something \nlike:\n\nYr        Prop\n2004    1.0\n2005    0.8\n\nAlong these lines, if I have datasets A and B, where B is a subset of A, can \nI use the number of matching dates to calculate the yearly proportions in \nquestion?\n\nThanks,\nAlfonso Sammassimo\nMelbourne Australia\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}