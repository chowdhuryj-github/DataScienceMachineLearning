{"category": "ham", "to_address": "\"tom soyer\" <tom.soyer@gmail.com>", "from_address": "\"Gabor Grothendieck\" <ggrothendieck@gmail.com>", "subject": "Re: [R] Construct time series objects from raw data stored in csv\n\tfiles", "body": "On 4/12/07, tom soyer  wrote:\n> What should I do for weekly and daily data series? Are there functions\n> similar to yearmon() for other time intervals? I see that there is a\n> built-in yearqtr() function for quarterly data, but that's it.\n\nts series cannot directly represent daily and weekly\nseries other than somehow deciding on a numeric representation\nfor time.\n\nHere we will use the number of days and the number of weeks\nsince the Epoch (1970-01-01) and assume we assume weeks\nstart on Sunday.  We will also do it over again using the number\nof weeks since the first point in the series and the number of\ndays since the first point.\n\nLines.raw is from my original post on this thread.\n\n\nz <- read.zoo(textConnection(Lines.raw), header = TRUE, sep = \",\")\n\n# ts series will represent days as no of days since Epoch\nzday <- z\nfrequency(zday) <- 1\ntsday <- as.ts(zday)\n\n# ts series will represent weeks as no of weeks since Epoch\nzweek <- zday\noffset <- -3 # weeks start on Sun\n# offset <- -4 # weeks start on Mon\nzweek <- aggregate(z, (as.numeric(time(z)) + offset) %/% 7, mean)\nfrequency(zweek) <- 1\ntsweek <- as.ts(zweek)\n\n##########################################################\n# alternately use number of days since first day in series\n# and number of weeks since first week in series\n\n\nzday0 <- aggregate(zday, time(zday) - min(time(zday)), c)\nfrequency(zday0) <- 1\ntsday0 <- as.ts(zday0)\n\nzweek0 <- aggregate(zweek, time(zweek) - min(time(zweek)), c)\nfrequency(zweek0) <- 1\ntsweek0 <- as.ts(zweek0)\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}