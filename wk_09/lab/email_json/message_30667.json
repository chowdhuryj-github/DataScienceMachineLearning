{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r22926 - in branches: SAMBA_3_0/source/lib\n\tSAMBA_3_0_26/source/lib", "body": "Author: jra\nDate: 2007-05-16 01:49:33 +0000 (Wed, 16 May 2007)\nNew Revision: 22926\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22926\n\nLog:\nDon't use <=0, use < 0 to allow keepalives to propagate up.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/lib/util_sock.c\n   branches/SAMBA_3_0_26/source/lib/util_sock.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/util_sock.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/util_sock.c\t2007-05-16 01:36:23 UTC (rev 22925)\n+++ branches/SAMBA_3_0/source/lib/util_sock.c\t2007-05-16 01:49:33 UTC (rev 22926)\n@@ -738,7 +738,7 @@\n \n BOOL receive_smb(int fd, char *buffer, unsigned int timeout)\n {\n-\tif (receive_smb_raw(fd, buffer, timeout, 0) <= 0) {\n+\tif (receive_smb_raw(fd, buffer, timeout, 0) < 0) {\n \t\treturn False;\n \t}\n \n\nModified: branches/SAMBA_3_0_26/source/lib/util_sock.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/lib/util_sock.c\t2007-05-16 01:36:23 UTC (rev 22925)\n+++ branches/SAMBA_3_0_26/source/lib/util_sock.c\t2007-05-16 01:49:33 UTC (rev 22926)\n@@ -738,7 +738,7 @@\n \n BOOL receive_smb(int fd, char *buffer, unsigned int timeout)\n {\n-\tif (receive_smb_raw(fd, buffer, timeout, 0) <= 0) {\n+\tif (receive_smb_raw(fd, buffer, timeout, 0) < 0) {\n \t\treturn False;\n \t}\n \n\n"}