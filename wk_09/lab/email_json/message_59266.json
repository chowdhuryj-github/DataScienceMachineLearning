{"category": "ham", "to_address": "jerry@samba.org", "from_address": "simo <idra@samba.org>", "subject": "Re: [PATCH] Implement simple means of supporting pam_winbind UPNB\n\tlogins.", "body": "On Sat, 2007-06-30 at 17:16 -0500, jerry@samba.org wrote:\n> Guenther,\n> \n> I know we've been around a few times on this whole upn \n> logon approach.  I looked over your patch and it seems\n> much more complicated than I think it needs to be.\n> Basically I think we can have pam_winbindd do the upn -> \n> sid -> sAMAccountName conversion and just extend the \n> msrpc_name_to_sid() call to send the UPN (just as in your \n> previous patch).\n> \n> I've tested this in my local Centeris tree using ssh\n> and Gnome's gdm.  Seems to work fine.  What do you think?\n> It adds no new call to the winbindd_methods structure.\n> Nor does it require an explicit enable using a new\n> parameter in smb.conf.\n\n>From what I can see translate_upn_username() is used only to replace\nreal_username in pam_sm_authenticate()\nBut in that function real_username is used only for debugging purposes.\nSo, why always going through 2 winbindd calls (WINBINDD_LOOKUPNAME and\nWINBINDD_LOOKUPSID) just to have the resolved name in debugging output?\n\nSimo.\n\n-- \nSimo Sorce\nSamba Team GPL Compliance Officer\nemail: idra@samba.org\nhttp://samba.org\n\n\n"}