{"category": "ham", "to_address": "John Kane <jrkrideau@yahoo.ca>, Daniel Nordlund <res90sx5@verizon.net>,\n   r-help@stat.math.ethz.ch", "from_address": "\"a.martino@crismaitalia.it\" <a.martino@crismaitalia.it>", "subject": "Re: [R] importing sas datasets", "body": "Hi John and Daniel,\n\nThanks for your suggestions, I updated line 127 of the\nsas.get function  but after submitting the following\ncommand:\n \nc<- sas.get(lib=\"c:\\\\ghan\", mem=\"mkds0001\", var=(\"   \"),\nformat.library=\"d:\\\\R\\\\R-2.4.1\",\nsasprog='\"C:\\\\Programmi\\\\SAS\\\\SAS 9.1\\\\sas.exe\"') (also\ntrying with sasprog=\"C:\\\\Programmi\\\\SAS\\\\SAS 9.1\\\\sas.exe\")\n\nthe log signaled the following error:\n\nErrore in system(paste(shQuote(sasprog), shQuote(sasin),\n\"-log\", shQuote(log.file)),  : \n        unused argument(s) (output = FALSE)\n\nwhich is about the modified 127 line.\n\nI've also tried with export files, with the  sasxport.get\nfunction, it works out well, but only if the length of the\nvariables' names' is maximum 8 bites.\n\nregards,\n\nAnna Emilia Martino\n\n\n----- Original Message -----\nDa : John Kane \nA : Daniel Nordlund ,\na.martino@crismaitalia.it, r-help@stat.math.ethz.ch\nOggetto : Re: [R] importing sas datasets\nData : Fri, 20 Apr 2007 20:11:21 -0400 (EDT)\n\n> Hi Anna, \n> \n> I'm the sas.get problem man.\n> \n> I still have not gotten it to work but I think that is\n> because I have some slightly dodgy SAS files. \n> Assuming that the sas.get problem is what was\n> described in the earlier thread it appears to have\n> been fixed.  You might want to do an update to R to\n> get the most recent Hmisc. \n> \n> An alternative in Hmisc that Frank Harrell pointed out\n> is to do a SAS export file and a special version of\n> the format file.  \n> \n> It is described in the Hmisc reference manual See\n> sasxport.get . It worked just fine for me on a couple\n> of test files. I don't remember but I think you're\n> stuck with the 8 character variable names though.\n> \n> \n> --- Daniel Nordlund  wrote:\n> \n> > > -----Original Message-----\n> > > From: r-help-bounces@stat.math.ethz.ch\n> > [mailto:r-help-bounces@stat.math.ethz.ch]\n> > > On Behalf Of a.martino@crismaitalia.it\n> > > Sent: Friday, April 20, 2007 6:36 AM\n> > > To: r-help@stat.math.ethz.ch\n> > > Subject: [R] importing sas datasets\n> > > \n> > > Hello,\n> > > \n> > > I wanted to ask help about importing sas datasets.\n> > > \n> > > 1)I tried with some functions as read.ssd (foreign\n> > package),\n> > > but it doesn't import the file if the length of\n> > the\n> > > variables' names are longer than 8 bite (it has to\n> > conform\n> > > to the 6 version).\n> > > \n> > > 2)I then tried with the sas.get function (Hmisc\n> > package) but\n> > > with the command:\n> > > \n> > >  c<- sas.get(lib=\"c:\\\\ghan\", mem=\"mkds0001\",\n> > var=(\"   \"),\n> > > format.library=\"d:\\\\R\\\\R-2.4.1\",\n> > > sasprog=\"C:\\\\Programmi\\\\SAS\\\\SAS 9.1\\\\sas.exe\")\n> > > \n> > > R can't launch the sas.exe because there is a\n> > space in the\n> > > directory SAS 9.1.\n> > > \n> > <<>>\n> > \n> > Anna,\n> > \n> > There has been a thread on this problem recently. \n> > You could check the archives for posts with the\n> > subject \"sas.get problem\".  I can't comment about\n> > point 1, but the problem in point 2 has nothing to\n> > do with the space in the name.  (Well, it kind of\n> > does because it has to do with trying to get around\n> > the problem of spaces in path names).  \n> > \n> > The problem you are having with sas.get is that the\n> > function is broken in the Windows version of Hmisc. \n> > There is a fix which you can apply, and when that is\n> > done sas.get is a very nice function (I have heard\n> > that the problem will be fixed in an upcoming\n> > version of Hmisc).  Here is a solution that works\n> > for me and others.\n> > 1.  start up R interactively\n> > 2.  I will assume you have appropriately installed\n> > the Hmisc package\n> > 3.  load Hmisc by typing library(Hmisc) at the R\n> > prompt.\n> > 4.  type 'sas.get' (without the quotes) at the R\n> > prompt.  This will print the source code for the\n> > sas.get function definition.\n> > 5.  cut and paste the source code into the text\n> > editor of your choice and correct line 127 (change\n> > 'sys' to 'system'), i.e.  change line 127 from\n> > \n> >     status <- sys(paste(shQuote(sasprog),\n> > shQuote(sasin), \"-log\", \n> > \n> > to\n> > \n> >     status <- system(paste(shQuote(sasprog),\n> > shQuote(sasin), \"-log\",\n> > \n> > 7.  next, sas.get needs to be redefined with the\n> > corrected code.  In your text editor, add \n> > \n> >      sas.get <- \n> > \n> > to the first line so that it reads\n> > \n> >      sas.get <- function (library, member, variables\n> > = character(0), ifs = character(0),\n> > \n> > 8.  save this corrected function definition as a\n> > text file (I chose Hmisc_sas_get_correction.R as the\n> > file name).\n> > \n> > Now, any time you want to use sas.get from Hmisc you\n> > can take the following steps\n> > 1. start R\n> > 2. load Hmisc using \n> > \n> > library(Hmisc)\n> > \n> > 3. source the corrected sas.get definition\n> > \n> >    source(\"your_path/Hmisc_sas_get_correction.R\")\n> > \n> > Now you are set to go.  Let us know if this works\n> > for you.\n> > \n> > Hope this is helpful,\n> > \n> > Dan\n> > \n> > Daniel Nordlund\n> > Bothell, WA\n> > \n> > ______________________________________________\n> > R-help@stat.math.ethz.ch mailing list\n> > https://stat.ethz.ch/mailman/listinfo/r-help\n> > PLEASE do read the posting guide\n> > http://www.R-project.org/posting-guide.html\n> > and provide commented, minimal, self-contained,\n> > reproducible code.\n> > \n> \n> \n> \n>       Make free worldwide PC-to-PC calls. Try the new\n> Yahoo! Canada Messenger with Voice at\n> http://ca.messenger.yahoo.com/\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}