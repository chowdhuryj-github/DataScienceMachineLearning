{"category": "ham", "to_address": "Silvia Lomascolo <slomascolo@zoo.ufl.edu>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] subscript out of bounds error in lda", "body": "On Fri, 15 Jun 2007, Silvia Lomascolo wrote:\n\n>\n> I work with Windows, R version 2.4.1\n>\n> I'm trying to do a discriminant analysis and, in trying to figure out how to\n> do it following the example from R help, I'm getting an error that says\n> 'subscript out of bounds'.  I don't know what this means and how to solve it\n> (I'm very new with R)\n>\n> I'm doing everything in this made-up test matrix:\n>\n>   group var1 var2 var3\n> 1      1    3   55    6\n> 2      1    4   66    7\n> 3      1    5   55    8\n> 4      1    4   66    7\n> 5      1    3   44    6\n> 6      1    4   55    5\n> 7      2    5   88    9\n> 8      2    4   99    8\n> 9      2    8   88    9\n> 10     2    9   76    8\n> 11     2    8   66    9\n> 12     2    9   99   10\n> 13     2   10  100    9\n>\n> I write:\n>\n> data.tb<-read.table('locationHere.txt', header=T)\n> data.df<-as.data.frame (data.tb)\n\nWny call as.data.frame on a data frame?\n\n> train<-sample (1:63, 30)\n\nWhy sample from 1:63 with 13 rows?\n\n> table (data.df$group[train])\n> data.disc<-lda(group~., data.tb, subset = train)\n> data.disc\n> predict (data.disc, data.df[-train,])$class\n>\n> This is where I get the message:\n>\n> Error in `[.data.frame`(data.df, -train, ) :\n>        subscript out of bounds\n\ntraceback() is your friend:\n\n> traceback()\n8: `[.data.frame`(data.df, -train, )\n7: data.df[-train, ]\n6: inherits(x, \"data.frame\")\n5: is.data.frame(data)\n4: model.frame.default(Terms, newdata, na.action = na.pass, xlev = \nobject$xlevels)\n3: model.frame(Terms, newdata, na.action = na.pass, xlev = object$xlevels)\n2: predict.lda(data.disc, data.df[-train, ])\n1: predict(data.disc, data.df[-train, ])\n>\n\nSo, let's take a look at the top lines.\n\n> train\n  [1] 46 42 30 13 27 63 19 47  3 52 62 16 26  4 61 23 59 44 40 38 25 55 50 \n10 43\n[26]  2  8 31  7 11\n> nrow(data.df)\n[1] 13\n\nSo, you are asking for number 46 out of 13 rows.  Now perhaps you didn't \nshow us all the problem, but hopefully this helps you find the error.  If \nnot, the bottom of every R-help message says\n\nPLEASE do read the posting guide \nhttp://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}