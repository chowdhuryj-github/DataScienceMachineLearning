{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "David Kane <dave@kanecap.com>", "subject": "[R] Showing NAs when using table()", "body": "I want to use table() to show NA values with factor variables. Using\nthe set up from the help page, I have:\n\n> b <- factor(rep(c(\"A\",\"B\",\"C\"), 10))\n> d <- factor(rep(c(\"A\",\"B\",\"C\"), 10), levels=c(\"A\",\"B\",\"C\",\"D\",\"E\"))\n> is.na(d) <- 3:4\n> table(b, d)\n   d\nb    A  B  C  D  E\n  A  9  0  0  0  0\n  B  0 10  0  0  0\n  C  0  0  9  0  0\n> \n\nAll of which is fine. But how can I get table() --- or some other\nfunction --- to include the observations which are NA for d? This does\nnot do what I want (although I can see how it does what it is\ndocumented to do).\n\n> table(b, d, exclude = NULL)\n   d\nb    A  B  C  D  E\n  A  9  0  0  0  0\n  B  0 10  0  0  0\n  C  0  0  9  0  0\n> \n\nNote that this dilemma only arises with factor variables. With numeric\nvariables, things work differently.\n\n> a <- c(1, 1, 2, 2, NA, 3); b <- c(2, 1, 1, 1, 1, 1); table(a, b)\n   b\na   1 2\n  1 1 1\n  2 2 0\n  3 1 0\n> table(a, b, exclude = NULL)\n      b\na      1 2\n  1    1 1\n  2    2 0\n  3    1 0\n   1 0\n> \n\nHow can I get similar behavior with factor variables?\n\n\nThanks,\n\nDave Kane\n\n> R.version\n               _                           \nplatform       i686-pc-linux-gnu           \narch           i686                        \nos             linux-gnu                   \nsystem         i686, linux-gnu             \nstatus                                     \nmajor          2                           \nminor          5.0                         \nyear           2007                        \nmonth          04                          \nday            23                          \nsvn rev        41293                       \nlanguage       R                           \nversion.string R version 2.5.0 (2007-04-23)\n>\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}