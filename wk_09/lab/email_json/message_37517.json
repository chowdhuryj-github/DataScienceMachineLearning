{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Gavin Simpson <gavin.simpson@ucl.ac.uk>", "subject": "Re: [R]\n\t=?utf-8?q?=27trim=27_must_be_numeric_of_length_one=EF=BC=9F?=", "body": "On Mon, 2007-05-28 at 10:58 +0800, Ruixin ZHU wrote:\n> Hi everybody,\n>  \n> When I followed a practice example, I got an error as follows:\n> ########################################################################\n> #######################################\n> > cc<-read.table('example5_2.dat',header=TRUE)\n> > cc\n>   EXAM1 EXAM2 EXAM3 EXAM4 EXAM5\n> 1    45    34    23    35    50\n> 2    23    36    66    66    34\n> 3    67    59    72    80    69\n> 4    56    43    31    34    40\n> 5    74    66    57    32    66\n> > mean(cc)\n> EXAM1 EXAM2 EXAM3 EXAM4 EXAM5 \n>  53.0  47.6  49.8  49.4  51.8 \n> > attach(cc)\n> > mean(EXAM1,EXAM2,EXAM3,EXAM4,EXAM5)\n> Error in mean.default(EXAM1, EXAM2, EXAM3, EXAM4, EXAM5) : \n>         'trim' must be numeric of length one\n\nWhy did you think that mean would work in the way you used it?\n\nReading ?mean shows that the default method for mean has a first\nargument 'x', and second argument 'trim', plus some others. So in your\n2nd example, you passed EXAM1 as argument 'x' and then EXAM2 as 'trim',\nand the other EXAMx variables as other arguments. R was not expecting a\nvector as argument 'trim' and rightly complained.\n\nThe reason the first example worked is that there is a method for data\nframes (see the first entry in the usage section of ?mean) - where you\ncorrectly passed cc as argument 'x' as the function/method requires.\n\n> In addition: Warning message:\n> the condition has length > 1 and only the first element will be used in:\n> if (na.rm) x <- x[!is.na(x)] \n> Would anybody explain which caused this error, and how to modify it?\n\nWhat is wrong with the first example you used? Why do you need to get\nthe means by specifying all the variables explicitly?\n\nThere are various ways of getting means other than mean():\n\nlapply(cc, mean)\nsapply(cc, mean)\ncolMeans(cc)\n\nIf you want specific columns, either subset the returned object:\n\nmean(cc)[c(\"EXAM1\", \"EXAM4\")]\n\nor subset the object before calculating the means:\n\nmean(cc[, c(\"EXAM1\", \"EXAM4\")])\n       ^^^\n\nnote the extra \",\" as we need to specify the columns here.\n\nYou will need to explain more clearly what you want to do if the above\nis not sufficient to solve your problem.\n\nAlso, be wary of overly using attach. It can be a handy little tool,\nuntil it bites you in the ass because you forgot to detach/reattach the\nobject after making some really critical change to the underlying\ndata/object.\n\nHTH\n\nG\n\n>  \n> Thanks!\n> _____________________________________________\n> Dr.Ruixin ZHU\n> Shanghai Center for Bioinformation Technology\n> rxzhu@scbit.org\n> zhurx@mail.sioc.ac.cn\n> 86-21-13040647832\n>  \n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n-- \n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\nGavin Simpson                     [t] +44 (0)20 7679 0522\nECRC                              [f] +44 (0)20 7679 0565\nUCL Department of Geography\nPearson Building                  [e] gavin.simpsonATNOSPAMucl.ac.uk\nGower Street\nLondon, UK                        [w] http://www.ucl.ac.uk/~ucfagls/\nWC1E 6BT                          [w] http://www.freshwaters.org.uk/\n%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%~%\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}