{"category": "ham", "to_address": "<r-help@stat.math.ethz.ch>", "from_address": "Chrisitan Falde <cfalde@hotmail.com>", "subject": "[R] Generating Data using Formulas", "body": "Hello, \n \nMy name is Christian Falde.  I am new to R. \n \nMy problem is this.  I am attempting to learn R on my own. In so doing I am using some problems from Davidson and MacKinnon  Econometric Theory and Methods to do so.  This is because I can already do the some of the problems in SAS so I am attempting to rework them using R. Seemed logical to me, now I am stuck and its really bugging me. \n \n \nThe problem is this \n \nGenerate a data set sample size of 25  with the formula  y=1+.8*y(t-1)+ u.  Where y is the dependent, y(t-1) is the dependent variable lagged one peroid, and u is the classical error term.  Assume y0=0 and the u is NID(0,1). Use this sample to compute the OLS estimates B1 (1) and B2(.8).  Repeat at least 100 times and find the average of the B's.  Use these average to estimate the bias of the ols estimators. \n \nTo start I did the following non lagged program.  \n \nfinal<-function(i,j){x<-function(i) {10*i}\ny<-function(i,j) {1+.8*10*i+100*rnorm(j)}\ndatathreeone<- data.frame(replicate(100,coef(lm(y(i,j)~x(i)))))\nrowMeans(datathreeone)}\nfinal(1:25,25)\nfinal(1:50,50)\nfinal(1:100,100)\nfinal(1:200,200)\nfinal(1:10000,10000)\n \n \nNow the \"only\" thing I need to to is change \".8*10*i\"  which is exogenous to \".8* y(t-1) \".   \n \nThere are two reasons why I did it this way. I needed the rnorm(i) to generate a new set of u's each replication, and I wanted to be able to use the function as i did to make the results more concise. \n \nFor the lag in SAS we used an if then else logic relating to the number of observation.  This in R would have to be linked to the invisable row number.  I think I need an index variable for the row.  Perhaps, sorry thinking while typing. \n \nAnother reason why I am stuck, the lag function was seemingly straight forward.  \n \nlag (x, k=1)\n \nyet x  has to be a matrix  so when I tried to do it like above with y as a function R complained.  \n \nI have been working on this for a couple of days now so everything is begining to not make sense.  It just seems to me to get the matrix to work out I would need to have two matrices. \n \ndependent        and           explanatory\ny1                 =     sum (  1 +.8*0 + 100*rnorm(i))\ny2                 =     sum ( 1 +.8* (dependent row 1) + 100*rnorm(i))\netc  \n \nI just am not sure how to do that. \n \nPlease help and thank you for your time, \n \nchristian falde            \n \n \n \n \n \n \n \n \n \n \n_________________________________________________________________\nCreate the ultimate e-mail address book. Import your contacts to Windows Live Hotmail.\nwww.windowslive-hotmail.com/learnmore/managemail2.html?locale=en-us&ocid=TXT_TAGLM_HMWL_reten_impcont_0507\n\t[[alternative HTML version deleted]]\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}