{"category": "ham", "to_address": "r-help@stat.math.ethz.ch", "from_address": "Mark Liberman <myl@cis.upenn.edu>", "subject": "[R] R in cron job: X problems", "body": "I'd like to use an R CMD BATCH script as part of a chron job that is set\nup to run every hour.\n\nThe trouble is that the script creates a graphical output in a file via\npng(), and apparently this in turn works through X.\n\nWhen cron invokes the job, no X server is available -- I suppose that\nthe DISPLAY variable is not set -- and so R exits with an error message\nin the output file. (If I run the same script in an environment where an\nX server is properly available, it works as I want it to.)\n\nI tried setting DISPLAY to thecomputername:0.0 (where \"thecomputername\"\nis the X.Y.Z form of the computer's name as names it for ssh etc.), but\nthat didn't work.\n\nAny advice about how to persuade the graphics subsystem to bypass X, or\nhow to set DISPLAY in a safe way to run in a cron job?\n\nThis is a linux system (a recent RedHat server system) with R 2.2.1.\n\n    Thanks,\n\n    Mark Liberman\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}