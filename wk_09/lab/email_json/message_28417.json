{"category": "ham", "to_address": "Andy Spieherty <spiehera@lafayette.edu>", "from_address": "Allison Randal <allison@perl.org>", "subject": "Re: [perl #42774] [PATCH] Configure.pl --gc=libc doesn't compile", "body": "Andy Spieherty wrote:\n> On Fri, 11 May 2007, Leopold Toetsch via RT wrote:\n> \n>> Well, I saw some patches [1] floating by which did remove \n>> PObj_bufstart_external_FLAG. This flag was needed to sync the malloc-based \n>> allocators with parrots (and COWs) understanding of a 'not owned' / external \n>> buffer/string memory resource. COWed strings are not external to the \n>> malloc-based GCs, they just have an increased ref-count.\n>>\n>> I was never able to fix string allocation and COW in such a way that this flag \n>> would be obsolete with GC_IS_MALLOC.\n> \n> Yes, after staring at it for quite a while, I'm beginning to see what you \n> mean :-).\n\nAdd it back in if you need it. The flag has been gone for more than a \nyear, was never set anywhere, and was only checked in one line of code \n(a check that would always be false, since the flag was never set). So, \nit's completely gone for now (r18470), until we actually use it.\n\nAllison\n\n"}