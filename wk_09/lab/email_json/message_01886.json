{"category": "ham", "to_address": "Perl Beginners <beginners@perl.org>", "from_address": "\"John W. Krahn\" <krahnj@telus.net>", "subject": "Re: Sorting dir output", "body": "Igor Sutton Lopes wrote:\n> Sorry! I was testing and sent the last version -TextMate integrated \n> with Mail.app- :-(\n> \n> On Apr 10, 2007, at 4:40 PM, John W. Krahn wrote:\n> \n>> [...]\n>> Did you test this?  Where do you distinguish between files \"older \n>> than 3 days\"\n>> and other files?  Where is \"name('trunk')\" specified by the OP?\n> \n> The correct answer:\n> \n> \n> use strict;\n> use warnings;\n> \n> use File::Copy;\n> use File::Find::Rule;\n> use File::Spec;\n> \n> my $basedir = \"/Users/igorsutton/workspace\";\n> \n> sub move_file {\n> \n>     # using -M is better than doing the calculation to obtain the \n> difference\n>     # from now and three days ago.\n>     return unless -M $_ < 3;\n\nWhy not just use the modified( '>3' ) rule?\n\n\n\n>     move( $_[2], File::Spec->catdir( $basedir, 'history', $_ ) )\n>       or warn $!;\n> \n>     # cheat with File::Find::Rule returning an undefined value, to  not\n> waste\n>     # memory with unused data.\n>     return;\n> }\n> \n> # we use the name '*' to remove the current directory.\n> File::Find::Rule->directory()->maxdepth(1)->name('*')->exec ( \\&move_file )\n>   ->in($basedir);\n> \n> \n> Sorry for the erroneous code before.\n\n\n\nJohn\n-- \nPerl isn't a toolbox, but a small machine shop where you can special-order\ncertain sorts of tools at low cost and in short order.       -- Larry Wall\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}