{"category": "ham", "to_address": "Silvia Lomascolo <slomascolo@zoo.ufl.edu>", "from_address": "Prof Brian Ripley <ripley@stats.ox.ac.uk>", "subject": "Re: [R] Problem with rpart", "body": "You only have 43 cases.  After one split, the groups are too small \nto split again with the default settings.  See  ?rpart.control.\n\n\n\nOn Fri, 25 May 2007, Silvia Lomascolo wrote:\n\n>\n> I work on Windows, R version 2.4.1.  I'm very new with R!\n>\n> I am trying to build a classification tree using rpart but, although the\n> matrix has 108 variables, the program builds a tree with only one split\n> using one variable!  I know it is probable that only one variable is\n> informative, but I think it's unlikely.  I was wondering if someone can help\n> me identify if I'm doing something wrong because I can't see it, nor could I\n> find it in the help or in this forum.\n>\n> I want to see whether I can predict disperser type (5 categories) of a\n> species given the volatile compounds that the fruits emit (108 volatiles)\n> I am writing:\n>\n>> dispvol.x<- read.table ('C:\\\\Documents and\n> Settings\\\\silvia\\\\...\\\\volatile_disperser_matrix.txt', header=T)\n>> dispvol.df<- as.data.frame (dispvol.x)\n>> attach (dispvol.df) #I think I need to do this so the variables are\n> identified when I write the regression equation\n>> dispvol.ctree <- rpart (disperser~\tP3.70\t+P4.29\t+P5.05\t+...\t+P30.99\t+P32.25\n> +TotArea, >data= dispvol.df, method='class')\n>\n> and I get the following output:\n>\n> n= 28\n>\n> node), split, n, loss, yval, (yprob)\n>      * denotes terminal node\n>\n> 1) root 28 15 non (0.036 0.32 0.071 0.11 0.46)\n>  2) P10.01>=1.185 10  4 bat (0.1 0.6 0.2 0 0.1) *\n>  3) P10.01< 1.185 18  6 non (0 0.17 0 0.17 0.67) *\n>\n> There is nothing special about P10.01 that I can see in my data and I don't\n> know why it chooses that variables and stops there!\n>\n> My matrix looks something like this (except, with a lot more variables)\n>\n> disperser\tP3.70\tP4.29\tP6.45\tP6.55\tP10.01\tP10.15\tP10.18\tTotArea\n> ban\t0.00\t0.00\t1.34\t0.00\t1.49\t0.00\t0.00\t2.83\n> non\t0.00\t0.00\t0.00\t152.80\t0.00\t14.31\t0.00\t167.11\n> bat\t0.00\t0.00\t0.00\t131.56\t0.65\t0.00\t0.00\t132.21\n> bat\t0.00\t0.00\t5.05\t0.00\t13.01\t6.85\t0.00\t24.90\n> non\t0.00\t0.00\t72.65\t103.26\t4.10\t0.00\t0.00\t180.02\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> bat\t1.23\t0.00\t0.48\t0.89\t0.25\t0.00\t0.00\t2.85\n> bat\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> non\t0.00\t0.00\t0.00\t0.00\t1.06\t0.00\t0.00\t1.06\n> bat\t0.00\t0.00\t0.00\t0.00\t28.69\t0.00\t21.33\t50.02\n> mix\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> non\t0.00\t0.00\t0.00\t0.00\t1.15\t0.00\t0.00\t1.15\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> non\t0.00\t0.82\t0.00\t1.65\t0.00\t0.00\t0.00\t2.47\n> bat\t0.00\t0.00\t133.24\t0.00\t3.13\t0.00\t0.00\t136.37\n> bir\t0.00\t0.00\t11.08\t3.16\t1.79\t2.09\t0.48\t18.61\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> mix\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n> bat\t0.00\t0.00\t0.00\t0.00\t1.31\t0.00\t0.00\t1.31\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t1.23\t1.23\n> bat\t0.00\t0.00\t1.81\t0.00\t2.84\t0.00\t0.00\t4.65\n> non\t0.00\t0.00\t1.18\t0.00\t0.73\t0.00\t0.00\t1.91\n> bir\t0.00\t0.00\t0.00\t0.00\t1.40\t0.00\t0.00\t1.40\n> bat\t0.00\t0.00\t8.16\t1.50\t1.22\t0.00\t0.00\t10.88\n> mix\t0.00\t0.55\t0.00\t0.00\t0.00\t0.00\t0.00\t0.55\n> non\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\t0.00\n>\n> Thanks! Silvia.\n>\n>\n\n-- \nBrian D. Ripley,                  ripley@stats.ox.ac.uk\nProfessor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/\nUniversity of Oxford,             Tel:  +44 1865 272861 (self)\n1 South Parks Road,                     +44 1865 272866 (PA)\nOxford OX1 3TG, UK                Fax:  +44 1865 272595\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}