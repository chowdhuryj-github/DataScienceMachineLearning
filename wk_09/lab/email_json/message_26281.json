{"category": "ham", "to_address": "\"Jeremy Kister\" <perl-04@jeremykister.com>", "from_address": "\"Chas Owens\" <chas.owens@gmail.com>", "subject": "Re: forking problem with dbd::mysql", "body": "On 5/9/07, Chas Owens  wrote:\nsnip\n> It looks like it has something to do with $dbh going out of scope\n> (when the child exits).\nsnip\n\nThis is definitely a case of the database handle auto-disconnecting\nwhen it is destroyed.  You can see the behavior by creating a set of\nDBI subclasses and overriding the DBI::db::destroy function.  Change\nthe DBI->connect call to MyDBI->connect and add these lines to the\nbottom of the script.\n\npackage MyDBI;\n\nuse base 'DBI';\n\npackage MyDBI::st;\n\nuse base 'DBI::st';\n\npackage MyDBI::db;\n\nuse base 'DBI::db';\n\nsub DESTROY {\n        return 0;\n}\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}