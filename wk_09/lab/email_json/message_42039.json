{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "metze@samba.org", "subject": "svn commit: samba r23335 - in\n\tbranches/SAMBA_3_0/source/lib/replace: .", "body": "Author: metze\nDate: 2007-06-04 09:57:59 +0000 (Mon, 04 Jun 2007)\nNew Revision: 23335\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23335\n\nLog:\nas not all source files include replace.h/config.h\nbefore unistd.h we need to pass -D_FILE_OFFSET_BITS=64\ntogether with -Dpread=pread64 -Dpwrite=pwrite64\n\nmetze\nModified:\n   branches/SAMBA_3_0/source/lib/replace/libreplace_cc.m4\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/replace/libreplace_cc.m4\n===================================================================\n--- branches/SAMBA_3_0/source/lib/replace/libreplace_cc.m4\t2007-06-04 09:00:35 UTC (rev 23334)\n+++ branches/SAMBA_3_0/source/lib/replace/libreplace_cc.m4\t2007-06-04 09:57:59 UTC (rev 23335)\n@@ -62,7 +62,7 @@\n \t\tAC_DEFINE(MMAP_BLACKLIST, 1, [Whether MMAP is broken])\n \t\tif test \"`uname -r`\" = \"B.11.00\" -o \"`uname -r`\" = \"B.11.11\"; then\n \t\t\tAC_MSG_WARN([Enabling HPUX 11.00/11.11 header bug workaround])\n-\t\t\tCFLAGS=\"$CFLAGS -Dpread=pread64 -Dpwrite=pwrite64\"\n+\t\t\tCFLAGS=\"$CFLAGS -D_FILE_OFFSET_BITS=64 -Dpread=pread64 -Dpwrite=pwrite64\"\n \t\tfi\n \t\tif test \"`uname -r`\" = \"B.11.23\"; then\n \t\t\tAC_MSG_WARN([Enabling HPUX 11.23 machine/sys/getppdp.h bug workaround])\n\n"}