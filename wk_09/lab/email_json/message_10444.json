{"category": "ham", "to_address": "bugs-bitbucket@netlabs.develooper.com", "from_address": "Andy Spieherty (via RT) <parrotbug-followup@parrotcode.org>", "subject": "[perl #42620] PGE 'Out of memory' panics. ", "body": "# New Ticket Created by  Andy Spieherty \n# Please include the string:  [perl #42620]\n# in the subject line of all future correspondence about this issue. \n# \n\n\nBoth t/compilers/pge/p5regex/p5rx.t and\n     t/compilers/pge/p6regex/01-regex.t \nare failing with the following error message:\n\nt/compilers/pge/p5regex/p5rx.............Parrot VM: PANIC: Out of mem!\nC file src/gc/memory.c, line 97\nParrot file (not available), line (not available)\n\nWe highly suggest you notify the Parrot team if you have not been working on\nParrot.  Use parrotbug (located in parrot's root directory) or send an\ne-mail to parrot-porters@perl.org.\nInclude the entire text of this error message and the text of the script that\ngenerated the error.  If you've made any modifications to Parrot, please\ndescribe them as well.\n\nVersion     : 0.4.11-devel\nConfigured  : Thu Apr 19 13:05:49 2007 GMT\nArchitecture: nojit\nJIT Capable : No\nInterp Flags: (no interpreter)\nExceptions  : (missing from core)\n\nDumping Core...\ndubious\n\tTest returned status 0 (wstat 3, 0x3)\nDIED. FAILED tests 399-960\n\tFailed 562/960 tests, 41.46% okay (less 143 skipped tests: 255 okay, 26.56%)\n\n\nThe summudles for those tests read as follows:\n\nFailed Test                       Stat Wstat Total Fail  Failed  List of Failed\nt/compilers/pge/p5regex/p5rx.t       0     3   960 1124 117.08%  399-960\nt/compilers/pge/p6regex/01-regex.    0     3    ??   ??       %  ??\n\nBy further reducing the amount of memory available (with ulimit) I can make the\ntests die a little earlier.  It seems like parrot's memory footprint\nkeeps growing while processing the test file.  I don't know if it's a\ngarbage collection issue or if pge is expected to take ever-growing\namounts of memory.\n\nThis is under Solaris 8/SPARC with Sun's cc compiler.  I have just 128 MB \nof RAM in this system.\n\nThis should be easily reproducible on other Unix-ish platforms:  Just set\nulimit -v to some smaller value (e.g. 96 MB).  Observe how the point of\nfailure moves around in the p5rx file as you increase or decrease the\navailable memory.\n\n-- \n    Andy Spieherty\t\tspiehera@lafayette.edu\n\n"}