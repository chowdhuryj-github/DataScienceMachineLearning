{"category": "ham", "to_address": "John Fox <jfox@mcmaster.ca>", "from_address": "\"Charles C. Berry\" <cberry@tajo.ucsd.edu>", "subject": "Re: [R] Selecting complementary colours", "body": "On Mon, 21 May 2007, John Fox wrote:\n\n> Dear Deepayan,\n>\n> I actually thought of the equivalent of this approach, but it doesn't do\n> quite what I want.\n>\n> In retrospect, I didn't specify the problem clearly: What I want to be able\n> to do is to place text on a background of arbitrary (but known RGB) colour\n> so that the text is legible. I guess that this is better described as a\n> \"contrasting\" than a \"complementary\" colour.\n\nJohn,\n\nThere may be no unique solution. (For gray, for example.)\n\nI am not sure (in terms of color theory) that maximizing in rgb space \nreally is the right thing to do, but perhaps this will help you:\n\n> cval <- function(x,y) -sum((x-y)^2)\n> contrasting <- function(x) optim(runif(3,0,255),cval,lower=0,upper=255,method=\"L-BFGS-B\",y=x)$par\n> do.call(rgb,as.list(contrasting(col2rgb(\"gray\"))/255))\n[1] \"#000000\"\n> do.call(rgb,as.list(contrasting(col2rgb(\"gray\"))/255))\n[1] \"#0000FF\"\n> do.call(rgb,as.list(contrasting(col2rgb(\"pink\"))/255))\n[1] \"#00FF00\"\n\nRegards,\n\nChuck\n\n>\n\n>\n> Your solution, for example breaks down for grays:\n>\n>> mycol <- \"#888888\"\n>> do.call(rgb, as.list(1 - col2rgb(mycol) / 255))\n> [1] \"#777777\"\n>\n> Thank you for the suggestion.\n>\n> John\n>\n> --------------------------------\n> John Fox, Professor\n> Department of Sociology\n> McMaster University\n> Hamilton, Ontario\n> Canada L8S 4M4\n> 905-525-9140x23604\n> http://socserv.mcmaster.ca/jfox\n> --------------------------------\n>\n>> -----Original Message-----\n>> From: r-help-bounces@stat.math.ethz.ch\n>> [mailto:r-help-bounces@stat.math.ethz.ch] On Behalf Of Deepayan Sarkar\n>> Sent: Monday, May 21, 2007 6:45 PM\n>> To: John Fox\n>> Cc: r-help@stat.math.ethz.ch\n>> Subject: Re: [R] Selecting complementary colours\n>>\n>> On 5/21/07, John Fox  wrote:\n>>> Dear r-helpers,\n>>>\n>>> I wonder whether, given the \"#rrggbb\" representation of a colour,\n>>> there is a simple way to select the complementary colour,\n>> also expressed as a \"#rrggbb\"\n>>> string.\n>>>\n>>> Any suggestions would be appreciated.\n>>\n>> You want rgb2col. The following should work for any standard color\n>> specification:\n>>\n>>> mycol = \"royalblue\"\n>>> do.call(rgb, as.list(1 - col2rgb(mycol) / 255))\n>> [1] \"#BE961E\"\n>>\n>> -Deepayan\n>>\n>> ______________________________________________\n>> R-help@stat.math.ethz.ch mailing list\n>> https://stat.ethz.ch/mailman/listinfo/r-help\n>> PLEASE do read the posting guide\n>> http://www.R-project.org/posting-guide.html\n>> and provide commented, minimal, self-contained, reproducible code.\n>>\n>\n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n>\n\nCharles C. Berry                        (858) 534-2098\n                                          Dept of Family/Preventive Medicine\nE mailto:cberry@tajo.ucsd.edu\t         UC San Diego\nhttp://biostat.ucsd.edu/~cberry/         La Jolla, San Diego 92093-0901\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}