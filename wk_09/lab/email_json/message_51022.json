{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "jra@samba.org", "subject": "svn commit: samba r23550 - in branches: SAMBA_3_0/source/lib\n\tSAMBA_3_0_25/source/libsmb SAMBA_3_0_26/source/lib", "body": "Author: jra\nDate: 2007-06-20 01:26:18 +0000 (Wed, 20 Jun 2007)\nNew Revision: 23550\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23550\n\nLog:\nAdd more UNIX error -> NT status mappings.\nJeremy.\n\nModified:\n   branches/SAMBA_3_0/source/lib/errmap_unix.c\n   branches/SAMBA_3_0_25/source/libsmb/errormap.c\n   branches/SAMBA_3_0_26/source/lib/errmap_unix.c\n\n\nChangeset:\nModified: branches/SAMBA_3_0/source/lib/errmap_unix.c\n===================================================================\n--- branches/SAMBA_3_0/source/lib/errmap_unix.c\t2007-06-19 21:40:27 UTC (rev 23549)\n+++ branches/SAMBA_3_0/source/lib/errmap_unix.c\t2007-06-20 01:26:18 UTC (rev 23550)\n@@ -63,9 +63,34 @@\n \t{ ENOBUFS, ERRDOS, ERRnomem, NT_STATUS_INSUFFICIENT_RESOURCES },\n #endif\n \t{ EAGAIN, ERRDOS, 111, NT_STATUS_NETWORK_BUSY },\n+#ifdef EADDRINUSE\n+\t{ EADDRINUSE, ERRDOS, 52, NT_STATUS_ADDRESS_ALREADY_ASSOCIATED},\n+#endif\n+#ifdef ENETUNREACH\n+\t{ ENETUNREACH, ERRHRD, ERRgeneral, NT_STATUS_NETWORK_UNREACHABLE},\n+#endif\n+#ifdef EHOSTUNREACH\n+\t\t{ EHOSTUNREACH, ERRHRD, ERRgeneral, NT_STATUS_HOST_UNREACHABLE},\n+#endif\n+#ifdef ECONNREFUSED\n+\t{ ECONNREFUSED, ERRHRD, ERRgeneral, NT_STATUS_CONNECTION_REFUSED},\n+#endif\n+#ifdef ETIMEDOUT\n+\t{ ETIMEDOUT, ERRHRD, 121, NT_STATUS_IO_TIMEOUT},\n+#endif\n+#ifdef ECONNABORTED\n+\t{ ECONNABORTED, ERRHRD, ERRgeneral, NT_STATUS_CONNECTION_ABORTED},\n+#endif\n+#ifdef ENODEV\n+\t{ ENODEV, ERRDOS, 55, NT_STATUS_DEVICE_DOES_NOT_EXIST},\n+#endif\n+#ifdef EPIPE\n+\t{ EPIPE, ERRDOS, 109, NT_STATUS_PIPE_BROKEN},\n+#endif\n #ifdef EWOULDBLOCK\n \t{ EWOULDBLOCK, ERRDOS, 111, NT_STATUS_NETWORK_BUSY },\n #endif\n+\n \t{ 0, 0, 0, NT_STATUS_OK }\n };\n \n\nModified: branches/SAMBA_3_0_25/source/libsmb/errormap.c\n===================================================================\n--- branches/SAMBA_3_0_25/source/libsmb/errormap.c\t2007-06-19 21:40:27 UTC (rev 23549)\n+++ branches/SAMBA_3_0_25/source/libsmb/errormap.c\t2007-06-20 01:26:18 UTC (rev 23550)\n@@ -1542,6 +1542,34 @@\n #ifdef ENOBUFS\n \t{ ENOBUFS, ERRDOS, ERRnomem, NT_STATUS_INSUFFICIENT_RESOURCES },\n #endif\n+\t{ EAGAIN, ERRDOS, 111, NT_STATUS_NETWORK_BUSY },\n+#ifdef EADDRINUSE\n+\t{ EADDRINUSE, ERRDOS, 52, NT_STATUS_ADDRESS_ALREADY_ASSOCIATED},\n+#endif\n+#ifdef ENETUNREACH\n+\t{ ENETUNREACH, ERRHRD, ERRgeneral, NT_STATUS_NETWORK_UNREACHABLE},\n+#endif\n+#ifdef EHOSTUNREACH\n+\t{ EHOSTUNREACH, ERRHRD, ERRgeneral, NT_STATUS_HOST_UNREACHABLE},\n+#endif\n+#ifdef ECONNREFUSED\n+\t{ ECONNREFUSED, ERRHRD, ERRgeneral, NT_STATUS_CONNECTION_REFUSED},\n+#endif\n+#ifdef ETIMEDOUT\n+\t{ ETIMEDOUT, ERRHRD, 121, NT_STATUS_IO_TIMEOUT},\n+#endif\n+#ifdef ECONNABORTED\n+\t{ ECONNABORTED, ERRHRD, ERRgeneral, NT_STATUS_CONNECTION_ABORTED},\n+#endif\n+#ifdef ENODEV\n+\t{ ENODEV, ERRDOS, 55, NT_STATUS_DEVICE_DOES_NOT_EXIST},\n+#endif\n+#ifdef EPIPE\n+\t{EPIPE, ERRDOS, 109, NT_STATUS_PIPE_BROKEN},\n+#endif\n+#ifdef EWOULDBLOCK\n+\t{ EWOULDBLOCK, ERRDOS, 111, NT_STATUS_NETWORK_BUSY },\n+#endif\n \t{ 0, 0, 0, NT_STATUS_OK }\n };\n \n\nModified: branches/SAMBA_3_0_26/source/lib/errmap_unix.c\n===================================================================\n--- branches/SAMBA_3_0_26/source/lib/errmap_unix.c\t2007-06-19 21:40:27 UTC (rev 23549)\n+++ branches/SAMBA_3_0_26/source/lib/errmap_unix.c\t2007-06-20 01:26:18 UTC (rev 23550)\n@@ -63,9 +63,34 @@\n \t{ ENOBUFS, ERRDOS, ERRnomem, NT_STATUS_INSUFFICIENT_RESOURCES },\n #endif\n \t{ EAGAIN, ERRDOS, 111, NT_STATUS_NETWORK_BUSY },\n+#ifdef EADDRINUSE\n+\t{ EADDRINUSE, ERRDOS, 52, NT_STATUS_ADDRESS_ALREADY_ASSOCIATED},\n+#endif\n+#ifdef ENETUNREACH\n+\t{ ENETUNREACH, ERRHRD, ERRgeneral, NT_STATUS_NETWORK_UNREACHABLE},\n+#endif\n+#ifdef EHOSTUNREACH\n+\t\t{ EHOSTUNREACH, ERRHRD, ERRgeneral, NT_STATUS_HOST_UNREACHABLE},\n+#endif\n+#ifdef ECONNREFUSED\n+\t{ ECONNREFUSED, ERRHRD, ERRgeneral, NT_STATUS_CONNECTION_REFUSED},\n+#endif\n+#ifdef ETIMEDOUT\n+\t{ ETIMEDOUT, ERRHRD, 121, NT_STATUS_IO_TIMEOUT},\n+#endif\n+#ifdef ECONNABORTED\n+\t{ ECONNABORTED, ERRHRD, ERRgeneral, NT_STATUS_CONNECTION_ABORTED},\n+#endif\n+#ifdef ENODEV\n+\t{ ENODEV, ERRDOS, 55, NT_STATUS_DEVICE_DOES_NOT_EXIST},\n+#endif\n+#ifdef EPIPE\n+\t{ EPIPE, ERRDOS, 109, NT_STATUS_PIPE_BROKEN},\n+#endif\n #ifdef EWOULDBLOCK\n \t{ EWOULDBLOCK, ERRDOS, 111, NT_STATUS_NETWORK_BUSY },\n #endif\n+\n \t{ 0, 0, 0, NT_STATUS_OK }\n };\n \n\n"}