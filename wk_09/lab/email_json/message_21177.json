{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "svn commit: samba r22632 - in branches/SAMBA_4_0/source/lib/events:\n\t.", "body": "Author: tridge\nDate: 2007-05-01 20:57:54 +0000 (Tue, 01 May 2007)\nNew Revision: 22632\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22632\n\nLog:\nmerged volkers select events fix\nModified:\n   branches/SAMBA_4_0/source/lib/events/events_standard.c\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/lib/events/events_standard.c\n===================================================================\n--- branches/SAMBA_4_0/source/lib/events/events_standard.c\t2007-05-01 20:03:44 UTC (rev 22631)\n+++ branches/SAMBA_4_0/source/lib/events/events_standard.c\t2007-05-01 20:57:54 UTC (rev 22632)\n@@ -380,7 +380,8 @@\n \tfde->additional_data\t= NULL;\n \n \tDLIST_ADD(std_ev->fd_events, fde);\n-\tif (fde->fd > std_ev->maxfd) {\n+\tif ((std_ev->maxfd != EVENT_INVALID_MAXFD)\n+\t    && (fde->fd > std_ev->maxfd)) {\n \t\tstd_ev->maxfd = fde->fd;\n \t}\n \ttalloc_set_destructor(fde, std_event_fd_destructor);\n\n"}