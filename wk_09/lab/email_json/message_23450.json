{"category": "ham", "to_address": "Perl Beginners <beginners@perl.org>", "from_address": "\"John W. Krahn\" <krahnj@telus.net>", "subject": "Re: Text Formatters", "body": "Mathew Snyder wrote:\n> \n> Thanks for enlightening me about 'format'\n> \n> I've run your example code from the command line and got exactly the results you\n> did (not that I'd expect to get anything different ;) ).  I then attempted to\n> incorporate the idea into my script:\n> \n> foreach my $user (keys %tikNums) {\n>         open TIMESHEET, \">/work_reports/ticketlists_$endDate/ticketlist_$user.txt\";\n>         print TIMESHEET \"List of tickets worked on by $user during week ending\n> $endDate\", \"\\n\\n\";\n>         foreach my $env (sort keys %{ $tikNums{$user} }){\n>                 #Print the header for our data\n>                 print TIMESHEET $env . \"\\n\";\n>                 printf TIMESHEET \"%10s%10s\\n\", \"Ticket ID\",\"hh:mm\";\n>                 print TIMESHEET (\"-\" x 20);\n>                 print TIMESHEET \"\\n\";\n>                 foreach my $id (sort keys %{ $tikNums{$user}{$env} }) {\n>                         format STDOUT_TOP =\n>                                 @<<<<<<<<<<<<<<<<<<<<\n>                                 $env\n>                                   Ticket ID                         Subject\n>                     hh:mm\n> \n> -------------------------------------------------------------------------\n>                         .\n>                         format STDOUT =\n>                                     @######\n> ^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<  @>>:>>\n>                                         $id, $tikSubj{$id},\n> $tikNums{$user}{$env}{$id}\n>                                 ~~\n> ^<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<\n>                                      $tikSubj{$id}\n>                 }\n>                 write TIMESHEET;\n>                 print TIMESHEET \"\\n\";\n>         }\n>         close TIMESHEET;\n> }\n> \n> However, when I run the script I get the following error:\n> Format not terminated at ./ticket_lists.pl line 128, at end of line\n> syntax error at ./ticket_lists.pl line 128, at EOF\n> Execution of ./ticket_lists.pl aborted due to compilation errors.\n> \n> Line 128 only contains my 'exit;' statement.  I've got the periods where they\n> belong but can't figure out why it would tell me the format hasn't been terminated.\n> \n> Any insight will be appreciated.\n\nperldoc perlform\n\n[ snip ]\n\n    Output record formats are declared as follows:\n\n        format NAME =\n        FORMLIST\n        .\n\n    If the name is omitted, format \"STDOUT\" is defined. A single \".\" in column\n                                                        ^^^^^^^^^^^^^^^^^^^^^^\n    1 is used to terminate a format.\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\n\n\nJohn\n-- \nPerl isn't a toolbox, but a small machine shop where you can special-order\ncertain sorts of tools at low cost and in short order.       -- Larry Wall\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}