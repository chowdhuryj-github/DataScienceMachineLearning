{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r22531 - in branches/SAMBA_4_0/source:\n\tdsdb/samdb/ldb_modules setup", "body": "Author: abartlet\nDate: 2007-04-27 11:13:37 +0000 (Fri, 27 Apr 2007)\nNew Revision: 22531\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=22531\n\nLog:\nFix up OpenLDAP schema map to almost pass 'make test'.\n\nAndrew Bartlett\n\nModified:\n   branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\n   branches/SAMBA_4_0/source/setup/schema-map-openldap-2.3\n   branches/SAMBA_4_0/source/setup/schema_samba4.ldif\n\n\nChangeset:\nModified: branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\n===================================================================\n--- branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\t2007-04-27 10:06:34 UTC (rev 22530)\n+++ branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/entryUUID.c\t2007-04-27 11:13:37 UTC (rev 22531)\n@@ -356,11 +356,29 @@\n \t\t.type = MAP_RENAME,\n \t\t.u = {\n \t\t\t.rename = {\n-\t\t\t\t .remote_name = \"sambaObjectClasses\"\n+\t\t\t\t .remote_name = \"samba4ObjectClasses\"\n \t\t\t }\n \t\t}\n \t},\n \t{\n+\t\t.local_name = \"dITContentRules\",\n+\t\t.type = MAP_RENAME,\n+\t\t.u = {\n+\t\t\t.rename = {\n+\t\t\t\t .remote_name = \"samba4DITContentRules\"\n+\t\t\t }\n+\t\t}\n+\t},\n+\t{\n+\t\t.local_name = \"attributeTypes\",\n+\t\t.type = MAP_RENAME,\n+\t\t.u = {\n+\t\t\t.rename = {\n+\t\t\t\t .remote_name = \"samba4AttributeTypes\"\n+\t\t\t }\n+\t\t}\n+\t},\n+\t{\n \t\t.local_name = \"sambaPassword\",\n \t\t.type = MAP_RENAME,\n \t\t.u = {\n\nModified: branches/SAMBA_4_0/source/setup/schema-map-openldap-2.3\n===================================================================\n--- branches/SAMBA_4_0/source/setup/schema-map-openldap-2.3\t2007-04-27 10:06:34 UTC (rev 22530)\n+++ branches/SAMBA_4_0/source/setup/schema-map-openldap-2.3\t2007-04-27 11:13:37 UTC (rev 22531)\n@@ -2,7 +2,6 @@\n name\n labeledURI\n createTimeStamp\n-attributeTypes\n objectClass\n userPassword\n seeAlso\n@@ -12,11 +11,14 @@\n distinguishedName\n description\n cn\n-dITContentRules\n top\n #This shouldn't make it to the ldap server\n sambaPassword\n #These conflict with OpenLDAP builtins\n+attributeTypes:samba4AttributeTypes\n+2.5.21.5:1.3.6.1.4.1.7165.4.255.7\n+dITContentRules:samba4DITContentRules\n+2.5.21.2:1.3.6.1.4.1.7165.4.255.6\n objectClasses:samba4ObjectClasses\n 2.5.21.6:1.3.6.1.4.1.7165.4.255.5\n subSchema:samba4SubSchema\n\nModified: branches/SAMBA_4_0/source/setup/schema_samba4.ldif\n===================================================================\n--- branches/SAMBA_4_0/source/setup/schema_samba4.ldif\t2007-04-27 10:06:34 UTC (rev 22530)\n+++ branches/SAMBA_4_0/source/setup/schema_samba4.ldif\t2007-04-27 11:13:37 UTC (rev 22531)\n@@ -169,3 +169,5 @@\n #Allocated: (modifyTimestamp) samba4ModifyTimestamp: 1.3.6.1.4.1.7165.4.255.3\n #Allocated: (subSchema) samba4SubSchema: 1.3.6.1.4.1.7165.4.255.4\n #Allocated: (objectClasses) samba4ObjectClasses: 1.3.6.1.4.1.7165.4.255.5\n+#Allocated: (ditContentRules) samba4DitContentRules: 1.3.6.1.4.1.7165.4.255.6\n+#Allocated: (attributeTypes) samba4AttributeTypes: 1.3.6.1.4.1.7165.4.255.7\n\n"}