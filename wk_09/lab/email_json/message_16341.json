{"category": "ham", "to_address": "derrell@samba.org", "from_address": "Henrik Zagerholm <henke@mac.se>", "subject": "Re: Detect Vista symlinks with libsmbclient", "body": "\n25 apr 2007 kl. 18:43 skrev derrell@samba.org:\n\n> Henrik Zagerholm  writes:\n>\n>> I've just started to experiment with Vista and I wonder if I can  \n>> somehow\n>> tell if a file object is an ordinary file or a symlink/junction?\n>>\n>> As I understand it I will not be able to follow symlinks until the\n>> implementation of SMB2 so in the meantime I would like to ignore   \n>> those files\n>> (instead of throwing a bunch of EBADF).\n>>\n>> Any ideas?\n>\n> Henrik, have you tried calling smbc_stat() on a symlink to see what  \n> it gives\n> you?  There may be some useful bit set in the mode field.\n>\n> If that doesn't provide any useful information, please post a  \n> bugzilla ticket\n> for this.  I expect to have a Vista environment available to me  \n> fairly soon,\n> at which time I'll be able to look into this.\n>\n\nI've now tried both smbc_stat and smbc_getxattr and can't see any  \ndifference in the mode bits.\nI've opened up a bug at https://bugzilla.samba.org/show_bug.cgi?id=4557\n\nAs I understand it we will be able to handle these things better with  \nSMB 2.0 or? :)\n\nCheers, Henrik\n\n> Cheers,\n>\n> Derrell\n\n"}