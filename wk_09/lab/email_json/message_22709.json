{"category": "ham", "to_address": "\"Allison Randal\" <allison@perl.org>", "from_address": "\"Matt Diephouse\" <mddiep@gmail.com>", "subject": "Re: [perl #42864] [BUG] Copying a :vtable sub also copies :vtable information", "body": "Allison Randal  wrote:\n> Klaas-Jan Stol wrote:\n> > In a way, when copying it, it does make sense all attributes are copied as\n> > well.... (it seems \"clean\")\n>\n> Indeed. Let's categorize this bug as a feature.\n\nAre you sure? It seems like this bug/feature will go away when pdd15\nis implemented. At that point, setting a Sub in a namespace will no\nlonger modify the methods or vtable functions of a class.\n\nAs a feature, this could do a world of hurt. I'm not sure how much\nsense it makes to copy a method from one class to another, but I'd\nhate to see vtable functions trampled over. Imagine this: you copy a\nmethod from one class to another. Unknown to you, that method was also\nacting as the get_string vtable function. By copying the method, you\nalso replaced that vtable function in the destination class. Now when\nyour language tries to stringify an object using the get_string vtable\nfunction, it gets something other than the string it should have\ngotten.\n\n-- \nMatt Diephouse\nhttp://matt.diephouse.com\n\n"}