{"category": "ham", "to_address": "\"Waichler, Scott R\" <Scott.Waichler@pnl.gov>", "from_address": "\"Deepayan Sarkar\" <deepayan.sarkar@gmail.com>", "subject": "Re: [R] Getting default aspect ratio from lattice", "body": "On 5/15/07, Waichler, Scott R  wrote:\n\n> How can I get the value of the aspect ratio that is used in a lattice\n> plot?  In a levelplot for instance, the native units per cm of my x and\n> y axes are different, and I need to know the aspect ratio so that I can\n> correctly plot vectors.  I know how to set the aspect in a high-level\n> lattice function but I can't quite figure out how to get it.  I would\n> like call to levelplot() without printing anything, get the aspect\n> ratio, use it to create my vector arrows, then call levelplot() again\n> with print() to create the final figure.\n\nYour question doesn't necessarily have a well defined answer, because\nthe aspect ratio may be computed only on printing (and not even then,\nas the aspect ratio may change after printing if you resize the\ndevice). In fact, this is the default behaviour (aspect = \"fill\").\n\nThe good news is that for any other value of 'aspect', you are in\nluck. ?trellis.object says:\n\n     A trellis object, as returned by high level lattice functions like\n     'xyplot', is a list with the '\"class\"' attribute set to\n     '\"trellis\"'.  Many of the components of this list are simply the\n     arguments to the high level function that produced the object.\n     Among them are [...]. Some other\n     typical components are:\n\n     [...]\n\n     'aspect.fill' logical, whether 'aspect' is '\"fill\"'\n\n     'aspect.ratio' numeric, aspect ratio to be used if 'aspect.fill'\n          is 'FALSE'\n\nand we have:\n\n> levelplot(volcano, aspect = \"fill\")$aspect.ratio\n[1] 1\n> levelplot(volcano, aspect = \"iso\")$aspect.ratio\n[1] 0.7011494\n> levelplot(volcano, aspect = 2)$aspect.ratio\n[1] 2\n\netc.\n\n-Deepayan\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}