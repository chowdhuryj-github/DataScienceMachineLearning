{"category": "ham", "to_address": "Shengde Liang <shengdel@biostat.umn.edu>", "from_address": "Roger Bivand <Roger.Bivand@nhh.no>", "subject": "Re: [R] control margin when plotting polygons?", "body": "On Fri, 11 May 2007, Shengde Liang wrote:\n\n> \n> Hello everyone,\n> \n> I have some difficulties on controling the margin of a plot.\n> For example, the following code from the help of maptools:\n> \n> library(maptools)\n> xx <- readShapePoly(system.file(\"shapes/sids.shp\", package=\"maptools\")[1], \n> IDvar=\"FIPSNO\", proj4string=CRS(\"+proj=longlat +ellps=clrk66\"))\n> plot(xx, border=\"blue\", axes=TRUE, las=1)\n> \n> There is a lot of white margin on the bottom and top of the plot and I \n> want to get rid of it. I used option \"usr\", but it does not make any \n> change.\n> \n> plot(xx, border=\"blue\", axes=TRUE, las=1,usr=c(-85,-75,33,39))\n> par(usr=c(-85,-75,33,39))\n> plot(xx,border=\"blue\",axes=T,las=1)\n> \n> Option \"ylim\" does not work either.\n\nThis plot method is more complicated than you can see for geographical \ncoordinates, because the y axis is streched. But the real cause of your \nproblem is the shape of the plot device. If you compare the output of:\n\npng(\"default_size.png\", pointsize=8)\npar(mar=c(3,3,1,1))\nplot(xx, border=\"blue\", axes=TRUE, las=1)\ndev.off()\npng(\"portrait_size.png\", width=300, height=480, pointsize=8)\npar(mar=c(3,3,1,1))\nplot(xx, border=\"blue\", axes=TRUE, las=1)\ndev.off()\npng(\"landscape_size.png\", width=480, height=300, pointsize=8)\npar(mar=c(3,3,1,1))\nplot(xx, border=\"blue\", axes=TRUE, las=1)\ndev.off()\n\nyou can see that the amount of the plotting area covered by the map can be \ncontrolled to reduce the white space.\n\nYou can also use par(mar=c()) to remove margins, but then possibly without\nthe axes, or at least watching the effects of las=. The GE_SpatialGrid()  \nfunction also sets up cropping sizes for export of maps in geographical\ncoordinates as image overlays for Google Earth, and may contain some\nideas.\n\n> \n> Anyone has any idea how to do it?\n\nThe answers vary a great deal depending on needs, and are seldom \ncompletely general. For publication, editing externally may be an option.\n\nRoger\n\n> \n> Thanks a lot.\n> \n> Best,\n> \n> Shengde Liang\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n-- \nRoger Bivand\nEconomic Geography Section, Department of Economics, Norwegian School of\nEconomics and Business Administration, Helleveien 30, N-5045 Bergen,\nNorway. voice: +47 55 95 93 55; fax +47 55 95 95 43\ne-mail: Roger.Bivand@nhh.no\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}