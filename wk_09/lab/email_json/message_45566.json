{"category": "ham", "to_address": "beginners@perl.org", "from_address": "\"Max Rodkin\" <maxi4@mail.ru>", "subject": "simple tcp socket server:Is it possible, server wait for '!' sign, not '\\n'?", "body": "Hi all, i need write script to get string like\n$355632000166323,1,1,040202,093633,E12129.2252,N2459.8891,00161,0.0100,147,07*37! \nfrom TCP client.\nAll is fine if client send ENTER after string, but this string have no CR/LF \nat end.\nIs it possible, server wait for '!' sign, not '\\n'?\nThe code:\n#!perl\nuse IO::Socket;\n$PORT = 5001;                  # pick something not in use\n$server = IO::Socket::INET->new( Proto     => 'tcp',\n                                  LocalPort => $PORT,\n                                  Listen    => SOMAXCONN,\n                                  Reuse     => 1);\ndie \"can't setup server\" unless $server;\nprint \"[Server $0 accepting clients]\\n\";\nwhile ($client = $server->accept()) {\n $client->autoflush(1);\n while ( <$client>) {\n  $answer = $_;\n  print $answer;\n}\ncontinue {print $client \"\\$Ok!\\n\";}\nclose $client;\n}\nRespect, Max Rodkin \n\n\n\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}