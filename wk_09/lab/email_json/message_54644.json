{"category": "ham", "to_address": "Duncan Murdoch <murdoch@stats.uwo.ca>", "from_address": "Martin Maechler <maechler@stat.math.ethz.ch>", "subject": "Re: [R] Matrix *package*, CHOLMOD error: problem too large", "body": "[Jose, if you call the Matrix *package* \"library\" once more, ...\n GRRRRR! ..]\n \n\n>>>>> \"DM\" == Duncan Murdoch \n>>>>>     on Fri, 22 Jun 2007 14:04:03 -0400 writes:\n\n    DM> On 6/22/2007 1:26 PM, Jose Quesada wrote:\n    >> I have a pretty large sparse matrix of integers:\n    >>> dim(tasa)\n    >> [1] 91650 37651\n    >> \n    >> I need to add one to it in order to take logs, but I'm\n    >> getting the following error:\n    >> \n    >>> tasa = log(tasa + 1)\n    >> CHOLMOD error: problem too large Error in\n    >> asMethod(object) : Cholmod error `problem too large'\n    >> \n    >> I have 2 Gb of RAM, and the current workspace is barely\n    >> 300mb.  Is there any workaround to this? Anyone has any\n    >> experience with this error?\n    >> \n\n    DM> If tasa is sparse, then tasa+1 will not be sparse, so\n    DM> that's likely your problem.\n\n[of course]\n\n    DM> You might have better luck with\n\n    DM> log1p(tasa)\n\n{very good point, thank you, Duncan!}\n\n    DM> if the authors of the Matrix package have written a\n    DM> method for log1p(); if not, you'll probably have to do\n    DM> it yourself.\n\nThey have not yet.\n\nNote however that this - and expm1() - would automagically work\nfor sparse matrices if these two functions were part of the\n\"Math\" S4 group generic.\n\nI'd say that there's only historical reason for them *not* to be\npart of \"Math\", and I am likely going to propose to change this\n....\n\nMartin Maechler\n\n    DM> Duncan Murdoch\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}