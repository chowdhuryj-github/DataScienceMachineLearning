{"category": "ham", "to_address": "Perl beginners <beginners@perl.org>", "from_address": "\"John W. Krahn\" <krahnj@telus.net>", "subject": "Re: problem printing contents of file in directory", "body": "alok nath wrote:\n> Hi,\n\nHello,\n\n> Can anybody tell me why its not printing the contents of each\n> inside a particular folder ?\n\nYes I can, and so can Perl's documentation:\n\nperldoc -f readdir\n\n\n> my $tstToRunDir = \"C:\\\\perlScripts\" ;\n> my $fileInTstToRunDir ;\n> \n> opendir TST2RUN, $tstToRunDir || die \"Failed to open $tstToRunDir $!\\n\" ;\n> open RESULTS_LOG, \">>ResultLog.log\" || die \"Failed to open log\\n\" ;\n\nThe logical or operator '||' has relatively high precedence so neither opendir \nnor open will die if an error is encountered.  You need to either use parentheses:\n\nopendir( TST2RUN, $tstToRunDir ) || die \"Failed to open $tstToRunDir $!\\n\" ;\nopen( RESULTS_LOG, \">>ResultLog.log\" ) || die \"Failed to open log\\n\" ;\n\nor use the low precedence 'or' operator:\n\nopendir TST2RUN, $tstToRunDir or die \"Failed to open $tstToRunDir $!\\n\" ;\nopen RESULTS_LOG, \">>ResultLog.log\" or die \"Failed to open log\\n\" ;\n\n\n> while ($fileInTstToRunDir = readdir (TST2RUN)){\n>  chomp $fileInTstToRunDir ;\n\n$fileInTstToRunDir comes directly from the file system so there is no reason \nto use chomp.\n\n\n>  #open the file and get connection description and test description\n>  open FILE_2RUN, $fileInTstToRunDir || die \" Failed to open $fileInTstToRunDir:$!\\n\" ;\n\nAgain, there is a precedence problem with the '||' operator.  The file name in \n$fileInTstToRunDir was obtained from the $tstToRunDir directory so you need to \ninclude the directory name in order to access it:\n\nopen FILE_2RUN, \"$tstToRunDir/$fileInTstToRunDir\"\n     or die \" Failed to open $tstToRunDir/$fileInTstToRunDir:$!\\n\" ;\n\n\n>  print \"File is : $fileInTstToRunDir\\n\" ;\n>  next if($fileInTstToRunDir =~ m/^./ ) ;\n> \n>  while(  ){\n>   print $_ ;\n>   if ($_ =~ m/    print $_ ;\n>   }\n>  } \n>  \n>  print RESULTS_LOG \"File is : $fileInTstToRunDir\\n\" ;\n>  #$count++  ;\n> # close FILE_2RUN ; \n>  \n> }\n> close RESULTS_LOG ;\n> close TST2RUN ;\n\n\nJohn\n-- \nPerl isn't a toolbox, but a small machine shop where you\ncan special-order certain sorts of tools at low cost and\nin short order.                            -- Larry Wall\n\n-- \nTo unsubscribe, e-mail: beginners-unsubscribe@perl.org\nFor additional commands, e-mail: beginners-help@perl.org\nhttp://learn.perl.org/\n\n\n"}