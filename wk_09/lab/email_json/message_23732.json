{"category": "ham", "to_address": "steve <fisk@bowdoin.edu>", "from_address": "Marc Schwartz <marc_schwartz@comcast.net>", "subject": "Re: [R] How to latex tables?", "body": "On Sat, 2007-05-05 at 11:35 -0500, Marc Schwartz wrote:\n> On Sat, 2007-05-05 at 09:43 -0400, steve wrote:\n> > Suppose I have a table constructed from structable or simply just an \n> > object of class table. How can I convert it to a latex object? I looked \n> > in RSiteSearch, but only found info about matrices or data frames.\n> > \n> > Steve\n> > \n> > \n> > For example, here is a table t2\n> > \n> >  > str(t2)\n> >   table [1:2, 1:2, 1:2]   6   8 594 592  57 ...\n> >   - attr(*, \"dimnames\")=List of 3\n> >    ..$ Hospital : chr [1:2] \"A\" \"B\"\n> >    ..$ Survival : chr [1:2] \"Died\" \"Survived\"\n> >    ..$ Condition: chr [1:2] \"Good\" \"Poor\"\n> > \n> > Here's what happens with latex(t2):\n> > \n> >   latex(t2)\n> > Error in x[, j] : incorrect number of dimensions\n> > \n> > Next,  here's what happens with a structtable.\n> > \n> >  > tab=structable(Hospital ~ Condition + Survival, data=t2)\n> >  > tab\n> >                     Hospital    A    B\n> > Condition Survival\n> > Good      Died                 6    8\n> >            Survived           594  592\n> > Poor      Died                57    8\n> >            Survived          1443  192\n> > \n> > If I use latex(tab) I get\n> > \n> > Error in dimnames(cx) <- list(rnam, nam) :\n> > \tlength of 'dimnames' [1] not equal to array extent\n> > In addition: Warning messages: ...(deleted)...\n> \n> \n> You are trying to apply the latex() function to a 3 dimensional table. I\n> don't know that any of the generally available R functions to generate\n> LaTeX markup (eg. latex() or xtable()) have methods that support 3D\n> tables.\n> \n> You could either generate multiple 2D tables and convert each separately\n> or write your own function to generate the LaTeX markup in a format that\n> you find suitable for your application.\n> \n> One other possible option, which would still require some tweaking\n> depending upon your need, would be to use ftable() to format and convert\n> the 3D table to a 2D table and latex() that.  For example, using the\n> UCBAdmissions dataset:\n> \n> > str(UCBAdmissions)\n>  table [1:2, 1:2, 1:6] 512 313 89 19 353 207 17 8 120 205 ...\n>  - attr(*, \"dimnames\")=List of 3\n>   ..$ Admit : chr [1:2] \"Admitted\" \"Rejected\"\n>   ..$ Gender: chr [1:2] \"Male\" \"Female\"\n>   ..$ Dept  : chr [1:6] \"A\" \"B\" \"C\" \"D\" ...\n> \n> \n> > ftable(UCBAdmissions)\n>                 Dept   A   B   C   D   E   F\n> Admit    Gender                             \n> Admitted Male        512 353 120 138  53  22\n>          Female       89  17 202 131  94  24\n> Rejected Male        313 207 205 279 138 351\n>          Female       19   8 391 244 299 317\n> \n> \n> > library(Hmisc)\n> \n> > latex(ftable(UCBAdmissions), file = \"\")\n> % latex.default(ftable(UCBAdmissions), file = \"\") \n> %\n> \\begin{table}[!tbp]\n>  \\begin{center}\n>  \\begin{tabular}{rrrrrr}\\hline\\hline\n> \\multicolumn{1}{c}{}&\n> \\multicolumn{1}{c}{}&\n> \\multicolumn{1}{c}{}&\n> \\multicolumn{1}{c}{}&\n> \\multicolumn{1}{c}{}&\n> \\multicolumn{1}{c}{}\n> \\\\ \\hline\n> $512$&$353$&$120$&$138$&$ 53$&$ 22$\\\\\n> $ 89$&$ 17$&$202$&$131$&$ 94$&$ 24$\\\\\n> $313$&$207$&$205$&$279$&$138$&$351$\\\\\n> $ 19$&$  8$&$391$&$244$&$299$&$317$\\\\\n> \\hline\n> \\end{tabular}\n> \n> \\end{center}\n> \n> \\end{table}\n\n\nSteve,\n\nI located a couple of posts by David Whiting regarding converting an\nftable() object to LaTeX that you might find helpful:\n\n  http://tolstoy.newcastle.edu.au/R/help/05/08/11245.html\n\n  http://tolstoy.newcastle.edu.au/R/help/05/08/11251.html\n\nHTH,\n\nMarc\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}