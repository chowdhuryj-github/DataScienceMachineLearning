{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 388: fixed broadcast controls from the command line in\n\thttp://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 388\nrevision-id: tridge@samba.org-20070529063450-63ene1tr08qffyf9\nparent: tridge@samba.org-20070529062818-7dqe1nc2iu4z6o2d\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Tue 2007-05-29 16:34:50 +1000\nmessage:\n  fixed broadcast controls from the command line\nmodified:\n  common/ctdb_control.c          ctdb_control.c-20070426122724-j6gkpiofhbwdin63-1\n=== modified file 'common/ctdb_control.c'\n--- a/common/ctdb_control.c\t2007-05-29 03:33:59 +0000\n+++ b/common/ctdb_control.c\t2007-05-29 06:34:50 +0000\n@@ -442,7 +442,7 @@\n \t\treturn -1;\n \t}\n \n-\tif (destnode != CTDB_BROADCAST_VNNMAP && destnode != CTDB_BROADCAST_VNNMAP && \n+\tif (destnode != CTDB_BROADCAST_VNNMAP && destnode != CTDB_BROADCAST_ALL && \n \t    (!ctdb_validate_vnn(ctdb, destnode) || \n \t     !(ctdb->nodes[destnode]->flags & NODE_FLAGS_CONNECTED))) {\n \t\tif (!(flags & CTDB_CTRL_FLAG_NOREPLY)) {\n\n"}