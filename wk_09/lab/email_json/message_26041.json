{"category": "ham", "to_address": "raymond chiruka <rtchiruka@yahoo.com>", "from_address": "Petr PIKAL <petr.pikal@precheza.cz>", "subject": "[R] Odp:  creating a new column", "body": "Hi\n\nwithout knowing your code, R version and error message it is hard to say \nwhat is wrong. I think I answered already this or similar question  but \nnevertheless:\n\nIf your data are in data frame\n\nifelse(mm$censoringTime>mm$survivalTime,mm$survivalTime, mm$censoringTime)\n\ngives you a vector of required values\n\nif you have matrix\n\nifelse(m[,3]>m[,4],m[,4], m[,3])\n\ngives you the same.\n\nSou you need to add it to your existing structure by cbind() or \ndata.frame()\n\nRegards\nPetr\npetr.pikal@precheza.cz\n\nr-help-bounces@stat.math.ethz.ch napsal dne 07.05.2007 16:27:37:\n\n> hie l would like to create a 6th column \"actual surv time\" from the \nfollowing data \n> \n>   the condition being\n>   if  censoringTime>survivaltime then actual survtime =survival time\n>   else actual survtime =censoring time\n> \n>   the code l used to create the data is\n> \n>        s=2\n>        while(s!=0){ n=20\n>          m<-matrix(nrow=n,ncol=4)\n> colnames(m)=c(\"treatmentgrp\",\"strata\",\"censoringTime\",\"survivalTime\")\n>         for(i in 1:20) \nm[i,]<-c(sample(c(1,2),1,replace=TRUE),sample(c(1,2),\n> 1,replace=TRUE),rexp(1,.007),rexp(1,.002))\n>         m<-cbind(m,0)\n>          m[m[,3]>m[,4],5]<-1\n>          colnames(m)[5]<-\"censoring\"\n>       print(m)\n>        s=s-1\n>           treatmentgrp strata censoringTime survivalTime censoring\n>    [1,]             1      1       1.012159    1137.80922         0\n>    [2,]             2      2      32.971439     247.21786         0\n>    [3,]             2      1      85.758253     797.04949         0\n>    [4,]             1      1      16.999171      78.92309         0\n>    [5,]             2      1     272.909896     298.21483         0\n>    [6,]             1      2     138.230629     935.96765         0\n>    [7,]             2      2      91.529859     141.08405         0\n> \n> \n>   l keep getting an error message when i try to  create the 6th column\n> \n> \n> \n> \n> \n> ---------------------------------\n> \n> \n>    [[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide \nhttp://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}