{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "tridge@samba.org", "subject": "Rev 454: make sure we don't have any namespace collision problems\n\twith config variables in http://samba.org/~tridge/ctdb", "body": "------------------------------------------------------------\nrevno: 454\nrevision-id: tridge@samba.org-20070604054452-lronm18fgti5wwzz\nparent: tridge@samba.org-20070604050903-0oripspxe5zcqgqt\ncommitter: Andrew Tridgell \nbranch nick: tridge\ntimestamp: Mon 2007-06-04 15:44:52 +1000\nmessage:\n  make sure we don't have any namespace collision problems with config variables\nmodified:\n  config/ctdb.init               ctdb.init-20070527204758-biuh7znabuwan3zn-6\n  config/ctdb.sysconfig          ctdb.sysconfig-20070527204758-biuh7znabuwan3zn-7\n=== modified file 'config/ctdb.init'\n--- a/config/ctdb.init\t2007-06-03 12:11:48 +0000\n+++ b/config/ctdb.init\t2007-06-04 05:44:52 +0000\n@@ -50,15 +50,15 @@\n CTDB_OPTIONS=\"$CTDB_OPTIONS --reclock=$CTDB_RECOVERY_LOCK\"\n \n # build up CTDB_OPTIONS variable from optional parameters\n-[ -z \"$LOGFILE\" ]          || CTDB_OPTIONS=\"$CTDB_OPTIONS --logfile=$LOGFILE\"\n-[ -z \"$NODES\" ]            || CTDB_OPTIONS=\"$CTDB_OPTIONS --nlist=$NODES\"\n-[ -z \"$CTDB_SOCKET\" ]      || CTDB_OPTIONS=\"$CTDB_OPTIONS --socket=$CTDB_SOCKET\"\n-[ -z \"$PUBLIC_ADDRESSES\" ] || CTDB_OPTIONS=\"$CTDB_OPTIONS --public-addresses=$PUBLIC_ADDRESSES\"\n-[ -z \"$PUBLIC_INTERFACE\" ] || CTDB_OPTIONS=\"$CTDB_OPTIONS --public-interface=$PUBLIC_INTERFACE\"\n-[ -z \"$DBDIR\" ]            || CTDB_OPTIONS=\"$CTDB_OPTIONS --dbdir=$DBDIR\"\n-[ -z \"$EVENT_SCRIPT\" ]     || CTDB_OPTIONS=\"$CTDB_OPTIONS --event-script $EVENT_SCRIPT\"\n-[ -z \"$TRANSPORT\" ]        || CTDB_OPTIONS=\"$CTDB_OPTIONS --transport $TRANSPORT\"\n-[ -z \"$DEBUGLEVEL\" ]       || CTDB_OPTIONS=\"$CTDB_OPTIONS -d $DEBUGLEVEL\"\n+[ -z \"$CTDB_LOGFILE\" ]          || CTDB_OPTIONS=\"$CTDB_OPTIONS --logfile=$CTDB_LOGFILE\"\n+[ -z \"$CTDB_NODES\" ]            || CTDB_OPTIONS=\"$CTDB_OPTIONS --nlist=$CTDB_NODES\"\n+[ -z \"$CTDB_SOCKET\" ]           || CTDB_OPTIONS=\"$CTDB_OPTIONS --socket=$CTDB_SOCKET\"\n+[ -z \"$CTDB_PUBLIC_ADDRESSES\" ] || CTDB_OPTIONS=\"$CTDB_OPTIONS --public-addresses=$CTDB_PUBLIC_ADDRESSES\"\n+[ -z \"$CTDB_PUBLIC_INTERFACE\" ] || CTDB_OPTIONS=\"$CTDB_OPTIONS --public-interface=$CTDB_PUBLIC_INTERFACE\"\n+[ -z \"$CTDB_DBDIR\" ]            || CTDB_OPTIONS=\"$CTDB_OPTIONS --dbdir=$CTDB_DBDIR\"\n+[ -z \"$CTDB_EVENT_SCRIPT\" ]     || CTDB_OPTIONS=\"$CTDB_OPTIONS --event-script $CTDB_EVENT_SCRIPT\"\n+[ -z \"$CTDB_TRANSPORT\" ]        || CTDB_OPTIONS=\"$CTDB_OPTIONS --transport $CTDB_TRANSPORT\"\n+[ -z \"$CTDB_DEBUGLEVEL\" ]       || CTDB_OPTIONS=\"$CTDB_OPTIONS -d $CTDB_DEBUGLEVEL\"\n \n if [ -x /sbin/startproc ]; then\n     init_style=\"suse\"\n\n=== modified file 'config/ctdb.sysconfig'\n--- a/config/ctdb.sysconfig\t2007-06-02 09:40:07 +0000\n+++ b/config/ctdb.sysconfig\t2007-06-04 05:44:52 +0000\n@@ -9,12 +9,12 @@\n # containing the list of public IP addresses that ctdb will manage\n # Note that these IPs must be different from those in $NODES above\n # there is no default\n-# PUBLIC_ADDRESSES=/etc/ctdb/public_addresses\n+# CTDB_PUBLIC_ADDRESSES=/etc/ctdb/public_addresses\n \n # when doing IP takeover you also must specify what network interface\n # to use for the public addresses\n # there is no default\n-# PUBLIC_INTERFACE=eth0\n+# CTDB_PUBLIC_INTERFACE=eth0\n \n # should ctdb manage starting/stopping the Samba service for you?\n # default is to not manage Samba\n@@ -24,16 +24,16 @@\n # it should contain a list of IPs that ctdb will use\n # it must be exactly the same on all cluster nodes\n # defaults to /etc/ctdb/nodes\n-# NODES=/etc/ctdb/nodes\n+# CTDB_NODES=/etc/ctdb/nodes\n \n # the directory to put the local ctdb database files in\n # defaults to /var/ctdb\n-# DBDIR=/var/ctdb\n+# CTDB_DBDIR=/var/ctdb\n \n # the script to run when ctdb needs to ask the OS for help,\n # such as when a IP address needs to be taken or released\n # defaults to /etc/ctdb/events\n-# EVENT_SCRIPT=/etc/ctdb/events\n+# CTDB_EVENT_SCRIPT=/etc/ctdb/events\n \n # the location of the local ctdb socket\n # defaults to /tmp/ctdb.socket\n@@ -41,15 +41,15 @@\n \n # what transport to use. Only tcp is currently supported\n # defaults to tcp\n-# TRANSPORT=\"tcp\"\n+# CTDB_TRANSPORT=\"tcp\"\n \n # where to log messages\n # the default is /var/log/log.ctdb\n-# LOGFILE=/var/log/log.ctdb\n+# CTDB_LOGFILE=/var/log/log.ctdb\n \n # what debug level to run at. Higher means more verbose\n # the default is 0\n-# DEBUGLEVEL=0\n+# CTDB_DEBUGLEVEL=0\n \n # any other options you might want. Run ctdbd --help for a list\n # CTDB_OPTIONS=\n\n"}