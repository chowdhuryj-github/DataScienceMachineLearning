{"category": "ham", "to_address": "Andrew Yee <andrewjyee@gmail.com>", "from_address": "Petr Klasterecky <klaster@karlin.mff.cuni.cz>", "subject": "Re: [R] getting t.test to work with apply()", "body": "Andrew Yee napsal(a):\n> Hi, I'm interested in using apply() with t.test() on a data.frame.\n> \n> Specifically, I'd like to use apply() to do the following:\n> \n>  t.test(raw.sample[1,alive],raw.sample[1,dead])\n> t.test(raw.sample[2,alive],raw.sample[2,dead])\n>  t.test(raw.sample[3,alive],raw.sample[3,dead])\n> etc.\n> \n> I tried the following,\n> \n> apply(raw.sample,1,function(x) t.test(raw.sample[,alive],raw.sample[,dead]))\n\nTwo comments:\n1) apply() works on arrays. If your dataframe only has numeric values, \nturn it (or its copy) to a matrix via as.matrix(). If it has mixed \nvariables, take only the numeric part for t-tests. The conversion is \nmade implicitly but explicit asking for it cannot hurt.\n2) the main problem - you are using a wrong argument to t.test\n\nThe call should look like\napply(as.matrix(raw.sample), 1, function(x){t.test(x[alive], x[dead])})\n\nassuming 'alive' and 'dead' are logical vectors of the same length as 'x'.\n\nPetr\n\n> \n> but it gives me a list of identical results.\n> \n> \n> Thanks,\n> Andrew\n> \n> \t[[alternative HTML version deleted]]\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n> \n\n-- \nPetr Klasterecky\nDept. of Probability and Statistics\nCharles University in Prague\nCzech Republic\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}