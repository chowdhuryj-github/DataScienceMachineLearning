{"category": "ham", "to_address": "Duncan Murdoch <murdoch@stats.uwo.ca>", "from_address": "Martin Maechler <maechler@stat.math.ethz.ch>", "subject": "Re: [R] How to check for existence url from within a function?", "body": ">>>>> \"Duncan\" == Duncan Murdoch \n>>>>>     on Sat, 26 May 2007 08:02:11 -0400 writes:\n\n    Duncan> On 26/05/2007 7:13 AM, Heinz Tuechler wrote:\n    >> Dear All,\n    >> \n    >> To check if an url exists, I can use try(). This works, as I expected, if I\n    >> do it directly, as in the first part of the following example, but I could\n[..........]\n\n\n    Duncan> .Last.value isn't set until your function returns.  You should write this as\n\n    Duncan> con.url <- try(url(url.string, open='rb'))\n    Duncan> try.error <- inherits(con.url, \"try-error\")\n\n    Duncan> Notice that I used \"inherits\", rather than testing for equality.  It's \n    Duncan> documented that the result of try() will be \"of class 'try-error'\" if an \n    Duncan> error occurs, but there may be circumstances (in the future?) where \n    Duncan> different types of errors are signalled by using a more complicated class.\n\nThere's an additional reason for inherits(.,.)  and hence\nagainst  class() == \"bar\" :\n\nWhenever try() does not catch an error, since there was none,\ni.e., the result of try(foobar(..)) is just foobar(..),\nfoobar(..) may well return an object with an (S3) class vector\nof length > 1.\nIn those cases, the equality test returns a logical vector,\ntypically  c(FALSE, FALSE)\nand using that in if(.....) gives at least a warning.\n\nMartin\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}