{"category": "ham", "to_address": "\"James W. MacDonald\" <jmacdon@med.umich.edu>", "from_address": "Roger Bivand <Roger.Bivand@nhh.no>", "subject": "Re: [R] Greek symbols in xtable rows", "body": "On Tue, 17 Apr 2007, James W. MacDonald wrote:\n\n> Roger Bivand wrote:\n> Andris Jankevics  osi.lv> writes:\n> \n> \n>>Thank You for answer. I Tried code that You provided in reply to my question \n>>on both PC's with Linux and Widows OS.\n>>\n> \n> Yes, I have also been bitten by the \"upgrade\" to xtable, which between 1.4-2 \n> and 1.4-3 added code to try to be cleverer, but has broken output of LaTeX \n> markup directly. The offending code starts around line 177 in print.xtable.R \n> (#based on contribution from Jonathan Swinton  in e-\n> mail dated Wednesday, January 17, 2007). I did try to write a \n> sanitize.text.function= solution, but failed, and backed off to an earlier \n> version. Could the maintainer David Dahl, please address this, and include a \n> relevant test? (I would CC him, but am travelling and posting via gmane to keep \n> thr thread together - I apologize for pruning, but gmane won't post otherwise).\n> \n> So a solution is to install an earlier version of xtable from the package \n> archives, a harder but feasible task for Windows.\n\nThe solution is to use a workable sanitize.text.function.\n\n > mat <- diag(c(\"$\\\\sigma_1^2$\",\"$\\\\sigma_2^2$\"))\n > tbl <- xtable(mat)\n > print.xtable(tbl, sanitize.text.function = function(x) x)\n% latex table generated in R 2.5.0 by xtable 1.4-3 package\n% Tue Apr 17 11:00:05 2007\n\\begin{table}[ht]\n\\begin{center}\n\\begin{tabular}{rll}\n   \\hline\n  & 1 & 2 \\\\\n   \\hline\n1 & $\\sigma_1^2$ & 0 \\\\\n   2 & 0 & $\\sigma_2^2$ \\\\\n    \\hline\n\\end{tabular}\n\\end{center}\n\\end{table}\n---------------------------------------\nBut (sorry for the long delay):\n\n> mat <- diag(c(\"$\\\\sigma_1^2$\",\"$\\\\sigma_2^2$\"))\n> colnames(mat) <- c(\"$\\\\sigma_1^2$\",\"$\\\\sigma_2^2$\")\n> rownames(mat) <- c(\"$\\\\sigma_1^2$\",\"$\\\\sigma_2^2$\")\n> tbl <- xtable(mat)\n> print.xtable(tbl, sanitize.text.function = function(x) x)\n% latex table generated in R 2.5.0 by xtable 1.4-3 package\n% Sun Apr 29 21:24:18 2007\n\\begin{table}[ht]\n\\begin{center}\n\\begin{tabular}{rll}\n  \\hline\n & \\$$\\backslash$sigma\\_1\\verb|^|2\\$ & \\$$\\backslash$sigma\\_2\\verb|^|2\\$ \n\\\\\n  \\hline\n$\\sigma_1^2$ & $\\sigma_1^2$ & 0 \\\\\n  $\\sigma_2^2$ & 0 & $\\sigma_2^2$ \\\\\n   \\hline\n\\end{tabular}\n\\end{center}\n\\end{table}\n> \n\nbecause sanitize() rather than sanitize.text.function() is used on the \ncolumn names:\n\n> sessionInfo()\nR version 2.5.0 (2007-04-23) \ni686-pc-linux-gnu \n\nlocale:\nLC_CTYPE=en_GB;LC_NUMERIC=C;LC_TIME=en_GB;LC_COLLATE=en_GB;LC_MONETARY=en_GB;LC_MESSAGES=en_GB;LC_PAPER=en_GB;LC_NAME=C;LC_ADDRESS=C;LC_TELEPHONE=C;LC_MEASUREMENT=en_GB;LC_IDENTIFICATION=C\n\nattached base packages:\n[1] \"stats\"     \"graphics\"  \"grDevices\" \"utils\"     \"datasets\"  \"methods\"  \n[7] \"base\"     \n\nother attached packages:\n     xtable       rgdal      lmtest         zoo       spdep      Matrix \n    \"1.4-3\"     \"0.5-9\"    \"0.9-19\"     \"1.3-0\"     \"0.4-2\" \"0.9975-11\" \n    lattice        boot    maptools     foreign          sp     tripack \n   \"0.15-4\"    \"1.2-27\"    \"0.6-11\"    \"0.8-20\"    \"0.9-13\"    \"1.2-10\" \n\nRoger\n\nBest,\n\nJim\n\n\n\n\n> \n> Roger\n> \n> \n> ...\n> \n> \n>>Thank You,\n>>\n>>Andris Jankevics\n>>\n>>On Pirmdiena, 16. Apr\\u012blis 2007 22:38, Charles C. Berry wrote:\n>>\n>>>On Mon, 16 Apr 2007, Andris Jankevics wrote:\n>>>\n>>>\n>>>>mat <- diag(c(\"$\\\\sigma_1^2$\",\"$\\\\sigma_2^2$\"))\n>>>>xtable(mat)\n>>>\n> \n> ______________________________________________\n> R-help@stat.math.ethz.ch mailing list\n> https://stat.ethz.ch/mailman/listinfo/r-help\n> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html\n> and provide commented, minimal, self-contained, reproducible code.\n\n\n-- \nJames W. MacDonald, M.S.\nBiostatistician\nAffymetrix and cDNA Microarray Core\nUniversity of Michigan Cancer Center\n1500 E. Medical Center Drive\n7410 CCGC\nAnn Arbor MI 48109\n734-647-5623\n\n> \n> **********************************************************\n> Electronic Mail is not secure, may not be read every day, and should not be used for urgent or sensitive issues.\n> \n\n-- \nRoger Bivand\nEconomic Geography Section, Department of Economics, Norwegian School of\nEconomics and Business Administration, Helleveien 30, N-5045 Bergen,\nNorway. voice: +47 55 95 93 55; fax +47 55 95 95 43\ne-mail: Roger.Bivand@nhh.no\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}