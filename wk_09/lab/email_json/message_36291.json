{"category": "ham", "to_address": "SmartList <debian-mirrors@lists.debian.org>", "from_address": "\"Jonathan (ac3bf1)\" <ac3bf1@gmail.com>", "subject": "Re: ..weeding out bad debs off mirrors, was: Can I get some help, please?", "body": "any automation we can use to check the files though md5?\nlike a script maybe? anyone done something similar?\n\u00a0\nJohn\n\u00a0\nOn 5/25/07, Carlos Carvalho <carlos@fisica.ufpr.br> wrote:\nArnt Karlsen (arnt@c2i.net) wrote on 22 May 2007 14:54:>On Tue, 22 May 2007 07:01:39 +0200, Klaus wrote in message\n><46527933.6020207@gmx.de>:>>> Arnt Karlsen wrote:>> > ..one thing I haven't found, is an easy way to weed out bad files off>> > my (big bad disk, replacement ordered) mirror after fsck's, my plan is\n>> > use md5sum down the debian/tree and weed out all the bad files, instead>> > of wasting another week re-downloading all the good stuff (right now>> > I have 71GB of i386 and source) to build a full mirror.\u00a0\u00a0Pointers?\n>>>> Isn't that what debmirror does anyhow to verify the integrity of the mirror?>>>> At least I seem to remember that bad or missing files were fixed with the next remirror of my mirror.\n>>>> Cheers,>> Klaus>>>On Tue, 22 May 2007 08:25:38 +0100, Jonathan wrote in message><cf3b996d0705220025lda0a341xa273204c1e16519c@mail.gmail.com\n>:>>> doesn't rsyncing take care fo this by itself updating the mirror?>>>> mirror.ac3bf1.org>> John>>..IME no (but I use the anonftpsync script), as long as the file names\n>matches, all files are accepted as good, I see no md5sum kinda check>done. I appreciate the \"do not dump that load upstream\", so I'm looking>for some kinda find *.md5sum* ->xarg md5sum-c -> rm -vf \nbaaad.debs>oneliner or somesuch to verify my mirror update, pointers?rsync will check the integrity of existing files if used with option -c.However this puts a high load on the server so many of them disable\nits use. A debian mirror does not need to allow it.The default is to not use -c; in this case only the date and lengthare used to decide if a file should be updated.One can use the checksums in indices/md5sums.gz to verify the files\nlocally. Very useful indeed... I do it periodically, because a mirroris a significant responsibility.--To UNSUBSCRIBE, email to debian-mirrors-REQUEST@lists.debian.org\nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org-- /******************\nwww.ac3bf1.orgmirror.ac3bf1.orgrcrack.ac3bf1.orgninux.org - Wireless Community Rome\n******************/ \n"}