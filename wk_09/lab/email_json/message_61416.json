{"category": "ham", "to_address": "Andy Lester <andy@petdance.com>", "from_address": "Mark Glines <mark@glines.org>", "subject": "Re: [perl #43481] t/examples/shootout.t (shootout_16.pir) fails on\n gentoo/x86", "body": "On Tue, 3 Jul 2007 12:10:37 -0500\nAndy Lester  wrote:\n> > Problem 2, why is this test case passing a NULL pointer all of a\n> > sudden, exposing Problem #1?  Presumably, this used to work.\n> \n> That I can't tell.  All I'm looking at is the underlying C code,  \n> where it seems to me that passing in a rep of NULL should not be  \n> allowed.\n\nAgreed, and this should be fixed.  I'm just worried that this is\nworking around a symptom, rather than the actual bug (which is that the\nregexdna.pir shooutout test has changed behavior, and begun passing a\nNULL pointer).\n\nI tried various workarounds... calling string_substr() from\nsubstr_s_i_i_s if rep was null, passing to string_substr() from within\nstring_replace() if rep was null, that kind of thing.  The shootout\ntest runs to completion, but still fails: the last line of output had\nsome differing digits.  (Apparently some string was supposed to be\nreplaced, and just returning a substr without replacing anything isn't\nsufficient.)\n\nSo, while I agree that the \"crashing on NULL rep\" bug needs to be fixed,\nI've been mostly focusing on staring at regexdna.pir, hoping to find a\nfix for the \"passing a NULL rep in the first place\" bug.\n\nMark\n\n"}