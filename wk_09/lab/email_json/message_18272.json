{"category": "ham", "to_address": "Robert Barber <robert.barber@comcast.net>", "from_address": "Duncan Murdoch <murdoch@stats.uwo.ca>", "subject": "Re: [R] Limit on vector evaluation", "body": "On 4/27/2007 7:13 PM, Robert Barber wrote:\n> Dear R Experts,\n> \n> Why I try to run this expression:\n> \n> x<-sapply(rnorm(rep(10,100000),mean=9,sd=1.5),mean)\n> \n> it evaluates the first 10000 values and then stops, but does not return\n> to the command prompt.  My cpu keeps running at 100%.  When I exit the\n> expression with CTL-C, I then see that x holds 10000 values.  How can I\n> evalute the expression 100000 times, or more if I want?\n\nIf you interrupt the calculation, then x will be unchanged.  You see \n10000 values there because there were 10000 values the last time you \nfinished an assignment to x.\n\nBut more importantly, I think you don't understand what your expression \nis calculating.  If you try it with smaller numbers, bit by bit, you may \nbe surprised:\n\n > rnorm(rep(10, 3), mean=9, sd=1.5)\n[1] 8.790434 8.444429 8.935716\n\nThis doesn't give you 3 sets of 10 values, it gives you one vector of 3 \nvalues.\n\n > sapply(.Last.value, mean)\n[1] 8.790434 8.444429 8.935716\n\nThis takes the mean of each entry:  i.e. it does nothing.  I doubt this \nis what you intended to do.\n\nI suspect what you wanted was to generate 100000 sets of 10 values, and \ntake the mean of each set.  You can do that this way:\n\nx <- replicate(100000, mean(rnorm(10, mean=9, sd=1.5)))\n\nDuncan Murdoch\n\n______________________________________________\nR-help@stat.math.ethz.ch mailing list\nhttps://stat.ethz.ch/mailman/listinfo/r-help\nPLEASE do read the posting guide http://www.R-project.org/posting-guide.html\nand provide commented, minimal, self-contained, reproducible code.\n\n"}