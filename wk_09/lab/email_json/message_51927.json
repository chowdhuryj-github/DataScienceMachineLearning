{"category": "ham", "to_address": "samba-cvs@samba.org", "from_address": "abartlet@samba.org", "subject": "svn commit: samba r23560 - in branches/SAMBA_4_0: source/dsdb/samdb\n\tsource/dsdb/samdb/ldb_modules source/dsdb/schema source/lib\n\tsource/lib/ldb/common source/lib/ldb/samba\n\tsource/scripting/libjs source/setup testprogs/ejs", "body": "Author: abartlet\nDate: 2007-06-21 10:18:20 +0000 (Thu, 21 Jun 2007)\nNew Revision: 23560\n\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23560\n\nLog:\n- Activate metze's schema modules (from metze's schema-loading-13 patch).\n- samba3sam.js: rework the samba3sam test to not use objectCategory, \n  as it's has special rules (dnsName a simple match)\n- ldap.js: Test the ordering of the objectClass attributes for the baseDN\n- schema_init.c: Load the mayContain and mustContain (and system...) attributes when \n  reading the schema from ldb\n- To make the schema load not suck in terms of performance, write the \n  schema into a static global variable\n- ldif_handlers.c: Match objectCategory for equality and canonicolisation \n  based on the loaded schema, not simple tring manipuation\n- ldb_msg.c: don't duplicate attributes when adding attributes to a list\n- kludge_acl.c: return allowedAttributesEffective based on schema results\n  and privilages\n\nAndrew Bartlett\n\nModified:\n   branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/kludge_acl.c\n   branches/SAMBA_4_0/source/dsdb/samdb/ldb_modules/schema_fsmo.c\n   branches/SAMBA_4_0/source/dsdb/samdb/samdb.c\n   branches/SAMBA_4_0/source/dsdb/schema/schema_init.c\n   branches/SAMBA_4_0/source/lib/db_wrap.c\n   branches/SAMBA_4_0/source/lib/ldb/common/ldb_msg.c\n   branches/SAMBA_4_0/source/lib/ldb/samba/ldif_handlers.c\n   branches/SAMBA_4_0/source/scripting/libjs/provision.js\n   branches/SAMBA_4_0/source/setup/provision\n   branches/SAMBA_4_0/source/setup/provision_partitions.ldif\n   branches/SAMBA_4_0/source/setup/provision_schema_basedn_modify.ldif\n   branches/SAMBA_4_0/testprogs/ejs/ldap.js\n   branches/SAMBA_4_0/testprogs/ejs/samba3sam.js\n\n\nChangeset:\nSorry, the patch is too large (1200 lines) to include; please use WebSVN to see it!\nWebSVN: http://websvn.samba.org/cgi-bin/viewcvs.cgi?view=rev&root=samba&rev=23560\n\n"}